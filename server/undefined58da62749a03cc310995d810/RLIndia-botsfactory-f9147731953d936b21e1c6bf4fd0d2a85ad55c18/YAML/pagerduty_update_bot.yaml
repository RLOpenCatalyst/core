## ID - auto generated or manual alpha numeric, must be unique across RLC
id: pagerduty_update_bot

## Name - human readable name (e.g., Install MongoDB, Change JIRA password...)
name: RLCatalyst:Pagerduty Update

## Desc - Few line brief about the BOT and its characteristics.
desc: Execute script to update pagerduty incident.

## Category -> Check, Run, Meta, Predict...
functionality: Service Management
action: run

## Type ->  Chef, Script, UI, etc...
type: script
## Manual Execution Time is in Minutes.
manualExecutionTime: 10

## severity - warning, critical, any other value - 99%
input:
  - form:
    - name: apiToken
      label: Api Token
      type: text
      default: Ytx8cxVPFz-8Zm2hbXES 
    - name: emailId
      label: Email Id
      type: text
      default: rldevops07@gmail.com 
    - name: incidentKey 
      label: Incident Key 
      type: text
    - name: status
      label: Status
      type: list
      value_set: ["acknowledged", "resolved"]

execution: 
  - 
    os: ubuntu
    stage: Script
    entrypoint: pagerdutyUpdate.py
    param: ${apiToken} ${emailId} ${incidentKey} ${status}
    type: python
output:
   logs:
    - stdout   
