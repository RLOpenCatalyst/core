{"date":"Fri Jun 29 2018 14:28:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":254406656,"heapTotal":167837696,"heapUsed":115099520,"external":42767825}},"os":{"loadavg":[0.265625,0.59765625,0.896484375],"uptime":37966},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":254291968,"heapTotal":167837696,"heapUsed":116570528,"external":42859897}},"os":{"loadavg":[0.265625,0.59765625,0.896484375],"uptime":37966},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":254357504,"heapTotal":167837696,"heapUsed":119117952,"external":43871374}},"os":{"loadavg":[0.265625,0.59765625,0.896484375],"uptime":37966},"trace":[{"column":null,"file":null,"function":"Error","line":null,"method":null,"native":true},{"column":18,"file":"fs.js","function":"Object.fs.unlinkSync","line":1103,"method":"unlinkSync","native":false},{"column":12,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":"DailyRotateFile._getFile","line":539,"method":"_getFile","native":false},{"column":31,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":null,"line":501,"method":null,"native":false},{"column":15,"file":"fs.js","function":"FSReqWrap.oncomplete","line":123,"method":"oncomplete","native":false}],"stack":["Error: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'","    at Error (native)","    at Object.fs.unlinkSync (fs.js:1103:18)","    at DailyRotateFile._getFile (/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:539:12)","    at /rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:501:31","    at FSReqWrap.oncomplete (fs.js:123:15)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'"}
{"date":"Fri Jun 29 2018 14:28:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":254357504,"heapTotal":167837696,"heapUsed":119737000,"external":43871374}},"os":{"loadavg":[0.265625,0.59765625,0.896484375],"uptime":37966},"trace":[{"column":null,"file":null,"function":"Error","line":null,"method":null,"native":true},{"column":18,"file":"fs.js","function":"Object.fs.unlinkSync","line":1103,"method":"unlinkSync","native":false},{"column":12,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":"DailyRotateFile._getFile","line":539,"method":"_getFile","native":false},{"column":31,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":null,"line":501,"method":null,"native":false},{"column":15,"file":"fs.js","function":"FSReqWrap.oncomplete","line":123,"method":"oncomplete","native":false}],"stack":["Error: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'","    at Error (native)","    at Object.fs.unlinkSync (fs.js:1103:18)","    at DailyRotateFile._getFile (/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:539:12)","    at /rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:501:31","    at FSReqWrap.oncomplete (fs.js:123:15)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'"}
{"date":"Fri Jun 29 2018 14:28:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":255516672,"heapTotal":170983424,"heapUsed":106405528,"external":42936915}},"os":{"loadavg":[0.265625,0.59765625,0.896484375],"uptime":37966},"trace":[{"column":null,"file":null,"function":"Error","line":null,"method":null,"native":true},{"column":18,"file":"fs.js","function":"Object.fs.unlinkSync","line":1103,"method":"unlinkSync","native":false},{"column":12,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":"DailyRotateFile._getFile","line":539,"method":"_getFile","native":false},{"column":31,"file":"/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js","function":null,"line":501,"method":null,"native":false},{"column":15,"file":"fs.js","function":"FSReqWrap.oncomplete","line":123,"method":"oncomplete","native":false}],"stack":["Error: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'","    at Error (native)","    at Object.fs.unlinkSync (fs.js:1103:18)","    at DailyRotateFile._getFile (/rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:539:12)","    at /rlc/server/node_modules/winston/lib/winston/transports/daily-rotate-file.js:501:31","    at FSReqWrap.oncomplete (fs.js:123:15)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, unlink '/rlc/server/app/logs/null/BB_Execution.log'"}
{"date":"Fri Jun 29 2018 14:28:13 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":280924160,"heapTotal":194052096,"heapUsed":140652280,"external":53036205}},"os":{"loadavg":[0.37890625,0.611328125,0.8984375],"uptime":37976},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:13 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":280924160,"heapTotal":194052096,"heapUsed":142650896,"external":53124269}},"os":{"loadavg":[0.37890625,0.611328125,0.8984375],"uptime":37976},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:24 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":107392712,"external":43871517}},"os":{"loadavg":[0.31982421875,0.5908203125,0.888671875],"uptime":37987},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:24 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":108183480,"external":43879709}},"os":{"loadavg":[0.31982421875,0.5908203125,0.888671875],"uptime":37987},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:33 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":110208504,"external":44722785}},"os":{"loadavg":[0.27001953125,0.57080078125,0.87890625],"uptime":37996},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:33 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":111003824,"external":44730977}},"os":{"loadavg":[0.27001953125,0.57080078125,0.87890625],"uptime":37996},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:43 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":113346008,"external":44783634}},"os":{"loadavg":[0.22802734375,0.55126953125,0.869140625],"uptime":38006},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:43 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":114140008,"external":44791950}},"os":{"loadavg":[0.22802734375,0.55126953125,0.869140625],"uptime":38006},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:53 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283160576,"heapTotal":196149248,"heapUsed":116274544,"external":44845214}},"os":{"loadavg":[0.1923828125,0.53271484375,0.859375],"uptime":38016},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:28:53 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283131904,"heapTotal":196149248,"heapUsed":117066464,"external":44853406}},"os":{"loadavg":[0.1923828125,0.53271484375,0.859375],"uptime":38016},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":266747904,"heapTotal":179372032,"heapUsed":120037248,"external":45364949}},"os":{"loadavg":[0.3232421875,0.54833984375,0.86083984375],"uptime":38026},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:03 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":266747904,"heapTotal":179372032,"heapUsed":120821528,"external":45364949}},"os":{"loadavg":[0.3232421875,0.54833984375,0.86083984375],"uptime":38026},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:13 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":275709952,"heapTotal":201392128,"heapUsed":132381360,"external":45826741}},"os":{"loadavg":[0.27294921875,0.52978515625,0.85107421875],"uptime":38036},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:13 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":276520960,"heapTotal":201392128,"heapUsed":133179664,"external":45834933}},"os":{"loadavg":[0.27294921875,0.52978515625,0.85107421875],"uptime":38036},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:23 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":247771136,"heapTotal":172032000,"heapUsed":110440648,"external":38196526}},"os":{"loadavg":[0.23046875,0.51171875,0.84130859375],"uptime":38046},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:23 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":247771136,"heapTotal":172032000,"heapUsed":111236104,"external":38204842}},"os":{"loadavg":[0.23046875,0.51171875,0.84130859375],"uptime":38046},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:33 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":247771136,"heapTotal":172032000,"heapUsed":112916096,"external":38236171}},"os":{"loadavg":[0.19482421875,0.494140625,0.83154296875],"uptime":38056},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:33 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":247771136,"heapTotal":172032000,"heapUsed":113705024,"external":38244363}},"os":{"loadavg":[0.19482421875,0.494140625,0.83154296875],"uptime":38056},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:43 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":248442880,"heapTotal":172032000,"heapUsed":114581864,"external":38253089}},"os":{"loadavg":[0.16455078125,0.4775390625,0.82177734375],"uptime":38066},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:43 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":249077760,"heapTotal":173080576,"heapUsed":115392968,"external":38261405}},"os":{"loadavg":[0.16455078125,0.4775390625,0.82177734375],"uptime":38066},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:53 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":214929408,"heapTotal":129040384,"heapUsed":95326384,"external":36241474}},"os":{"loadavg":[0.13916015625,0.46142578125,0.8125],"uptime":38076},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:29:53 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":214695936,"heapTotal":129040384,"heapUsed":95376448,"external":36191279}},"os":{"loadavg":[0.13916015625,0.46142578125,0.8125],"uptime":38076},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":300314624,"heapTotal":213975040,"heapUsed":166456872,"external":60296576}},"os":{"loadavg":[0.27197265625,0.4794921875,0.8154296875],"uptime":38089},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":300314624,"heapTotal":213975040,"heapUsed":167553448,"external":60252776}},"os":{"loadavg":[0.27197265625,0.4794921875,0.8154296875],"uptime":38089},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":436342784,"heapTotal":351338496,"heapUsed":295031848,"external":54942071}},"os":{"loadavg":[0.38427734375,0.4970703125,0.818359375],"uptime":38098},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":436342784,"heapTotal":351338496,"heapUsed":296023808,"external":54950612}},"os":{"loadavg":[0.38427734375,0.4970703125,0.818359375],"uptime":38098},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":448122880,"heapTotal":362872832,"heapUsed":314732464,"external":51727442}},"os":{"loadavg":[0.32470703125,0.48046875,0.80908203125],"uptime":38107},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":448122880,"heapTotal":362872832,"heapUsed":315521552,"external":51735634}},"os":{"loadavg":[0.32470703125,0.48046875,0.80908203125],"uptime":38107},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":448122880,"heapTotal":362872832,"heapUsed":316394976,"external":51744360}},"os":{"loadavg":[0.2744140625,0.4638671875,0.80029296875],"uptime":38117},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":448122880,"heapTotal":362872832,"heapUsed":317190184,"external":51752676}},"os":{"loadavg":[0.2744140625,0.4638671875,0.80029296875],"uptime":38117},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":448389120,"heapTotal":362872832,"heapUsed":318264784,"external":51762301}},"os":{"loadavg":[0.2314453125,0.4482421875,0.79150390625],"uptime":38127},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":418418688,"heapTotal":332464128,"heapUsed":304097424,"external":51571879}},"os":{"loadavg":[0.2314453125,0.4482421875,0.79150390625],"uptime":38127},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":426024960,"heapTotal":342949888,"heapUsed":311212048,"external":51607348}},"os":{"loadavg":[0.19580078125,0.43310546875,0.78271484375],"uptime":38137},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:30:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":426668032,"heapTotal":342949888,"heapUsed":308783080,"external":51604523}},"os":{"loadavg":[0.19580078125,0.43310546875,0.78271484375],"uptime":38137},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:05 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":426668032,"heapTotal":342949888,"heapUsed":309653208,"external":51605181}},"os":{"loadavg":[0.1650390625,0.41845703125,0.77392578125],"uptime":38147},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:05 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":427204608,"heapTotal":342949888,"heapUsed":310430656,"external":51605181}},"os":{"loadavg":[0.1650390625,0.41845703125,0.77392578125],"uptime":38147},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":428552192,"heapTotal":342949888,"heapUsed":311587824,"external":51647537}},"os":{"loadavg":[0.13916015625,0.404296875,0.76513671875],"uptime":38157},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":422039552,"heapTotal":336658432,"heapUsed":309054584,"external":51612715}},"os":{"loadavg":[0.13916015625,0.404296875,0.76513671875],"uptime":38157},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283037696,"heapTotal":197197824,"heapUsed":95641856,"external":39190895}},"os":{"loadavg":[0.11767578125,0.390625,0.75634765625],"uptime":38167},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":282836992,"heapTotal":197197824,"heapUsed":95503160,"external":39198429}},"os":{"loadavg":[0.11767578125,0.390625,0.75634765625],"uptime":38167},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286892032,"heapTotal":200343552,"heapUsed":99283576,"external":39318663}},"os":{"loadavg":[0.09912109375,0.376953125,0.74755859375],"uptime":38177},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286892032,"heapTotal":200343552,"heapUsed":100110472,"external":39326979}},"os":{"loadavg":[0.09912109375,0.376953125,0.74755859375],"uptime":38177},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286908416,"heapTotal":200343552,"heapUsed":99462496,"external":39330059}},"os":{"loadavg":[0.08349609375,0.3642578125,0.73876953125],"uptime":38187},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286908416,"heapTotal":200343552,"heapUsed":100287592,"external":39338375}},"os":{"loadavg":[0.08349609375,0.3642578125,0.73876953125],"uptime":38187},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":283762688,"heapTotal":197197824,"heapUsed":99230040,"external":39329501}},"os":{"loadavg":[0.23095703125,0.38525390625,0.7412109375],"uptime":38197},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:31:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":282804224,"heapTotal":197197824,"heapUsed":99174872,"external":39329501}},"os":{"loadavg":[0.23095703125,0.38525390625,0.7412109375],"uptime":38197},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:05 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":293920768,"heapTotal":208732160,"heapUsed":140750424,"external":45192955}},"os":{"loadavg":[0.1953125,0.3720703125,0.732421875],"uptime":38208},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":292855808,"heapTotal":205586432,"heapUsed":153867232,"external":51886337}},"os":{"loadavg":[0.3193359375,0.39306640625,0.7353515625],"uptime":38217},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":292855808,"heapTotal":205586432,"heapUsed":145476288,"external":51955330}},"os":{"loadavg":[0.3193359375,0.39306640625,0.7353515625],"uptime":38218},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":292995072,"heapTotal":205586432,"heapUsed":153073496,"external":52783883}},"os":{"loadavg":[0.26953125,0.37939453125,0.7265625],"uptime":38227},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":292995072,"heapTotal":205586432,"heapUsed":153899624,"external":52792199}},"os":{"loadavg":[0.26953125,0.37939453125,0.7265625],"uptime":38228},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":294903808,"heapTotal":208551936,"heapUsed":166726816,"external":53593345}},"os":{"loadavg":[0.54248046875,0.43359375,0.74072265625],"uptime":38237},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":299032576,"heapTotal":212746240,"heapUsed":159000688,"external":53137633}},"os":{"loadavg":[0.54248046875,0.43359375,0.74072265625],"uptime":38238},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302235648,"heapTotal":215023616,"heapUsed":117386648,"external":44152426}},"os":{"loadavg":[0.458984375,0.4189453125,0.73193359375],"uptime":38247},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302235648,"heapTotal":215023616,"heapUsed":119045312,"external":44221864}},"os":{"loadavg":[0.458984375,0.4189453125,0.73193359375],"uptime":38248},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302235648,"heapTotal":215023616,"heapUsed":122678696,"external":44395753}},"os":{"loadavg":[0.3876953125,0.40478515625,0.72314453125],"uptime":38257},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302235648,"heapTotal":215023616,"heapUsed":123504968,"external":44404069}},"os":{"loadavg":[0.3876953125,0.40478515625,0.72314453125],"uptime":38258},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:32:09 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":289615872,"heapTotal":203489280,"heapUsed":119470744,"external":51643439}},"os":{"loadavg":[0.259765625,0.3828125,0.73388671875],"uptime":38212},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:05 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302215168,"heapTotal":215023616,"heapUsed":133465448,"external":45057164}},"os":{"loadavg":[0.32763671875,0.39111328125,0.71533203125],"uptime":38267},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:05 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302215168,"heapTotal":215023616,"heapUsed":134335872,"external":45065480}},"os":{"loadavg":[0.32763671875,0.39111328125,0.71533203125],"uptime":38268},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":302215168,"heapTotal":215023616,"heapUsed":135177632,"external":45074206}},"os":{"loadavg":[0.357421875,0.39453125,0.71337890625],"uptime":38277},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":271810560,"heapTotal":184614912,"heapUsed":122742528,"external":44523706}},"os":{"loadavg":[0.357421875,0.39453125,0.71337890625],"uptime":38278},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":227241984,"heapTotal":140574720,"heapUsed":98417256,"external":36456347}},"os":{"loadavg":[0.30224609375,0.380859375,0.70556640625],"uptime":38287},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":226906112,"heapTotal":140574720,"heapUsed":98331624,"external":36463289}},"os":{"loadavg":[0.30224609375,0.380859375,0.70556640625],"uptime":38288},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":226938880,"heapTotal":141623296,"heapUsed":98342944,"external":36463289}},"os":{"loadavg":[0.25537109375,0.3681640625,0.69775390625],"uptime":38297},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":227745792,"heapTotal":141623296,"heapUsed":99165816,"external":36471605}},"os":{"loadavg":[0.25537109375,0.3681640625,0.69775390625],"uptime":38298},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":210022400,"heapTotal":125894656,"heapUsed":97074272,"external":36191837}},"os":{"loadavg":[0.2158203125,0.35546875,0.68994140625],"uptime":38308},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":209793024,"heapTotal":125894656,"heapUsed":96985344,"external":36199471}},"os":{"loadavg":[0.2158203125,0.35546875,0.68994140625],"uptime":38308},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":209879040,"heapTotal":125894656,"heapUsed":97044408,"external":36199471}},"os":{"loadavg":[0.18212890625,0.34326171875,0.68212890625],"uptime":38317},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:33:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":209924096,"heapTotal":125894656,"heapUsed":96959224,"external":36207663}},"os":{"loadavg":[0.18212890625,0.34326171875,0.68212890625],"uptime":38318},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":276127744,"heapTotal":189857792,"heapUsed":139566576,"external":49184380}},"os":{"loadavg":[0.39453125,0.3818359375,0.69091796875],"uptime":38329},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":276127744,"heapTotal":189857792,"heapUsed":140449944,"external":49116004}},"os":{"loadavg":[0.39453125,0.3818359375,0.69091796875],"uptime":38329},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":281583616,"heapTotal":195100672,"heapUsed":141779992,"external":49866513}},"os":{"loadavg":[0.40771484375,0.3857421875,0.68896484375],"uptime":38338},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:15 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":281583616,"heapTotal":195100672,"heapUsed":142577648,"external":49874829}},"os":{"loadavg":[0.40771484375,0.3857421875,0.68896484375],"uptime":38338},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":285822976,"heapTotal":199294976,"heapUsed":156350568,"external":51123775}},"os":{"loadavg":[0.3447265625,0.37255859375,0.68115234375],"uptime":38348},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:25 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":285822976,"heapTotal":199294976,"heapUsed":157138520,"external":51131967}},"os":{"loadavg":[0.3447265625,0.37255859375,0.68115234375],"uptime":38348},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286089216,"heapTotal":199294976,"heapUsed":143058992,"external":50907892}},"os":{"loadavg":[0.29150390625,0.35986328125,0.67333984375],"uptime":38358},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:35 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286089216,"heapTotal":199294976,"heapUsed":143852144,"external":50916208}},"os":{"loadavg":[0.29150390625,0.35986328125,0.67333984375],"uptime":38358},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286089216,"heapTotal":199294976,"heapUsed":144938912,"external":50925935}},"os":{"loadavg":[0.3203125,0.3642578125,0.67138671875],"uptime":38368},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:45 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286322688,"heapTotal":199294976,"heapUsed":145739128,"external":50934127}},"os":{"loadavg":[0.3203125,0.3642578125,0.67138671875],"uptime":38368},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286322688,"heapTotal":199294976,"heapUsed":146613408,"external":50942853}},"os":{"loadavg":[0.2705078125,0.3515625,0.66357421875],"uptime":38378},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:34:55 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":286322688,"heapTotal":199294976,"heapUsed":147408032,"external":50951169}},"os":{"loadavg":[0.2705078125,0.3515625,0.66357421875],"uptime":38378},"trace":[{"column":36,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":422,"method":"getInstanceById","native":false},{"column":13,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":463,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":21,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":277,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["TypeError: Cannot read property 'instanceState' of undefined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:422:36)","    at /rlc/server/app/model/classes/instance/instance.js:463:13","    at Query.<anonymous> (/rlc/server/node_modules/mongoose/lib/model.js:3731:16)","    at /rlc/server/node_modules/kareem/index.js:277:21","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Cannot read property 'instanceState' of undefined"}
{"date":"Fri Jun 29 2018 14:35:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":395288576,"heapTotal":308346880,"heapUsed":260850840,"external":52713309}},"os":{"loadavg":[0.9306640625,0.4892578125,0.705078125],"uptime":38389},"trace":[{"column":31,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":416,"method":"getInstanceById","native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":460,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["ReferenceError: cbx is not defined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:416:31)","    at /rlc/server/app/model/classes/instance/instance.js:460:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: cbx is not defined"}
{"date":"Fri Jun 29 2018 14:35:06 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":395288576,"heapTotal":308346880,"heapUsed":261620680,"external":52713309}},"os":{"loadavg":[0.9306640625,0.4892578125,0.705078125],"uptime":38389},"trace":[{"column":31,"file":"/rlc/server/app/services/blueprintService.js","function":"instancesDao.getInstanceById","line":416,"method":"getInstanceById","native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":460,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["ReferenceError: cbx is not defined","    at instancesDao.getInstanceById (/rlc/server/app/services/blueprintService.js:416:31)","    at /rlc/server/app/model/classes/instance/instance.js:460:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: cbx is not defined"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"error","message":"Creating new client for i-0ad6b0212e3bfddbd\n"}
{"level":"error","message":"Creating new client for i-00b2144c7e1cb4a48\n"}
{"level":"error","message":"Creating new node for i-00b2144c7e1cb4a48\n"}
{"level":"error","message":"Creating new node for i-0ad6b0212e3bfddbd\n"}
{"level":"error","message":"Connecting to 54.67.112.240\n"}
{"level":"error","message":"Connecting to 52.9.7.109\n"}
{"level":"debug","message":"52.9.7.109 -----> Installing Chef Omnibus (-v 14)\r\n"}
{"level":"debug","message":"52.9.7.109 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n52.9.7.109   to file /tmp/install.sh.1292/install.sh\r\n52.9.7.109 trying wget...\r\n"}
{"level":"debug","message":"52.9.7.109 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"52.9.7.109 Getting information for chef stable 14 for ubuntu...\r\n52.9.7.109 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n52.9.7.109   to file /tmp/install.sh.1296/metadata.txt\r\n52.9.7.109 trying wget...\r\n"}
{"level":"debug","message":"52.9.7.109 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"52.9.7.109 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n52.9.7.109 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.9.7.109 version\t14.2.0\r\n"}
{"level":"debug","message":"52.9.7.109 downloaded metadata file looks valid...\r\n52.9.7.109 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.9.7.109   to file /tmp/install.sh.1296/chef_14.2.0-1_amd64.deb\r\n52.9.7.109 trying wget...\r\n"}
{"level":"debug","message":"52.9.7.109 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"52.9.7.109 Installing chef 14\r\n52.9.7.109 installing with dpkg...\r\n"}
{"level":"debug","message":"52.9.7.109 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"52.9.7.109 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"52.9.7.109 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n"}
{"level":"debug","message":"52.9.7.109 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.9.7.109 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.9.7.109 Thank you for installing Chef!\r\n52.9.7.109 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.9.7.109 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109 [2018-07-02T05:16:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.7.109 [2018-07-02T05:16:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.7.109 [2018-07-02T05:16:14+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:14+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:14+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 Synchronizing Cookbooks:\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109   - sensu-client (2.0.0)\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109   - basic_sensu_checks (0.1.0)\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109   - sensu_check_load (0.1.0)\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:15+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109   - sensu-client-latest (0.1.4)\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109   - sensu_check_disk (0.1.2)\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 [2018-07-02T05:16:16+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.7.109   - sensu_check_memory (0.1.2)\u001b[0m\r\n52.9.7.109   - sensu_check_cpu (0.1.0)\u001b[0m\r\n52.9.7.109 Installing Cookbook Gems:\u001b[0m\r\n52.9.7.109 Compiling Cookbooks...\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:17+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.7.109 Converging 33 resources\u001b[0m\r\n52.9.7.109 Recipe: sensu-client::default\u001b[0m\r\n52.9.7.109   * ruby_block[instance-details] action run  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n52.9.7.109                                  Dload  Upload   Total   Spent    Left  Speed\r\n52.9.7.109 \r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100    19  100    19    0     0   6800      0 --:--:-- --:--:-- --:--:--  9500\r\n52.9.7.109   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n52.9.7.109                                  Dload  Upload   Total   Spent    Left  Speed\r\n52.9.7.109 \r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     9  100     9    0     0   2388      0 --:--:-- --:--:-- --:--:--  3000\r\n52.9.7.109 \r\n52.9.7.109     \u001b[32m- execute the ruby block instance-details\u001b[0m\r\n52.9.7.109 \u001b[0m  * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.9.7.109     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.9.7.109     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.9.7.109     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 05:16:17.536417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180702-1379-1j38r0x.gpg\t2018-07-02 05:16:17.536417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.9.7.109     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.9.7.109     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.9.7.109     \u001b[37m+\u001b[0m\r\n52.9.7.109     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.9.7.109     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n52.9.7.109     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n52.9.7.109     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.9.7.109     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.9.7.109     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.9.7.109     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.9.7.109     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.9.7.109     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.9.7.109     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.9.7.109     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.9.7.109     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.9.7.109     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.9.7.109     \u001b[37m+=hhqa\u001b[0m\r\n52.9.7.109     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.9.7.109 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n52.9.7.109   * execute[add_sensu_gpg] action run\r\n52.9.7.109     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.9.7.109 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.9.7.109     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.9.7.109 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.9.7.109   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.9.7.109   * execute[add_repo] action run\r\n52.9.7.109     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n52.9.7.109 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240 -----> Existing Chef installation detected\r\n54.67.112.240 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"54.67.112.240 Starting Chef Client, version 12.7.2\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109   * execute[repo_update] action run\r\n52.9.7.109     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n54.67.112.240 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu-client (2.0.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - basic_sensu_checks (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109 \u001b[0m  * execute[repo_update] action run\r\n52.9.7.109     \u001b[32m- execute apt-get update\u001b[0m\r\n52.9.7.109 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.9.7.109   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu-client-latest (0.1.4)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   - sensu_check_memory (0.1.2)\u001b[0m\r\n54.67.112.240 Compiling Cookbooks...\u001b[0m\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu-client/recipes/default.rb:97:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n"}
{"level":"debug","message":"54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n54.67.112.240 [2018-07-02T05:16:28+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:31:in `from_file'\r\n54.67.112.240 Converging 24 resources\u001b[0m\r\n54.67.112.240 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   * ruby_block[instance-details] action run  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n"}
{"level":"debug","message":"54.67.112.240                                  Dload  Upload   Total   Spent    Left  Speed\r\n"}
{"level":"debug","message":"54.67.112.240 \r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100    19  100    19    0     0  15079      0 --:--:-- --:--:-- --:--:-- 19000\r\n"}
{"level":"debug","message":"54.67.112.240   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n54.67.112.240                                  Dload  Upload   Total   Spent    Left  Speed\r\n"}
{"level":"debug","message":"54.67.112.240 \r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     9  100     9    0     0   6373      0 --:--:-- --:--:-- --:--:--  9000\r\n54.67.112.240 \r\n54.67.112.240     \u001b[32m- execute the ruby block instance-details\u001b[0m\r\n54.67.112.240 \u001b[0m  * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n54.67.112.240     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n54.67.112.240     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 05:16:29.441432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m+++ /tmp/chef-rest20180702-2036-kyjtxr\t2018-07-02 05:16:29.441432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n54.67.112.240     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.67.112.240     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n54.67.112.240     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n54.67.112.240     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n54.67.112.240     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n54.67.112.240     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n54.67.112.240     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n54.67.112.240     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n54.67.112.240     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n54.67.112.240     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n54.67.112.240     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n54.67.112.240     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n54.67.112.240     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n54.67.112.240     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n54.67.112.240     \u001b[37m+=hhqa\u001b[0m\r\n54.67.112.240     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.67.112.240 \u001b[0m  * execute[add_sensu_gpg] action run\r\n54.67.112.240     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n54.67.112.240 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n54.67.112.240   * execute[add_repo] action run (skipped due to not_if)\r\n54.67.112.240   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n54.67.112.240   * apt_package[Install Sensu client] action install (up to date)\r\n54.67.112.240   * template[/etc/sensu/conf.d/rabbitmq.json] action create\r\n54.67.112.240     \u001b[32m- create new file /etc/sensu/conf.d/rabbitmq.json\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /etc/sensu/conf.d/rabbitmq.json from none to a00f55\u001b[0m\r\n54.67.112.240     \u001b[37m--- /etc/sensu/conf.d/rabbitmq.json\t2018-07-02 05:16:29.653432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m+++ /etc/sensu/conf.d/.rabbitmq.json20180702-2036-1b7gkp9\t2018-07-02 05:16:29.653432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,10 @@\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240     \u001b[37m+{\u001b[0m\r\n54.67.112.240     \u001b[37m+  \"rabbitmq\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"host\": \"10.0.1.92\",\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"port\": 5672,\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"user\": \"sensu\",\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"password\": \"secret\",\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"vhost\": \"/sensu\"\u001b[0m\r\n54.67.112.240     \u001b[37m+  }\u001b[0m\r\n54.67.112.240     \u001b[37m+}\u001b[0m\r\n54.67.112.240     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.67.112.240 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n54.67.112.240     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to 570bf6\u001b[0m\r\n54.67.112.240     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-02 05:16:29.661432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m+++ /etc/sensu/conf.d/.client.json20180702-2036-yus54n\t2018-07-02 05:16:29.661432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,10 @@\u001b[0m\r\n54.67.112.240     \u001b[37m+{\u001b[0m\r\n54.67.112.240     \u001b[37m+  \"client\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"name\": \"5b39b4ad775a83000537c750\",\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"address\": \"10.0.0.95\",\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"subscriptions\": [\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"5b39b4ad775a83000537c750\",\"test\"\u001b[0m\r\n54.67.112.240     \u001b[37m+    ]\u001b[0m\r\n54.67.112.240     \u001b[37m+  }\u001b[0m\r\n54.67.112.240     \u001b[37m+}\u001b[0m\r\n54.67.112.240     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.67.112.240 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240   * service[sensu-client] action restart\r\n54.67.112.240     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n54.67.112.240 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n54.67.112.240   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n54.67.112.240 Recipe: sensu_check_load::default\u001b[0m\r\n54.67.112.240   * template[check-load.json] action create\r\n54.67.112.240     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n54.67.112.240     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-02 05:16:31.273432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m+++ /etc/sensu/conf.d/.check-load.json20180702-2036-1s2d0js\t2018-07-02 05:16:31.273432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.67.112.240     \u001b[37m+{\u001b[0m\r\n54.67.112.240     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"check_load\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.67.112.240     \u001b[37m+    }\u001b[0m\r\n54.67.112.240     \u001b[37m+  }\u001b[0m\r\n54.67.112.240     \u001b[37m+}\u001b[0m\r\n54.67.112.240     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.67.112.240 \u001b[0m  * template[check-load.rb] action create\r\n54.67.112.240     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-02 05:16:31.277432000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240     \u001b[37m+++ /etc/sensu/plugins/.check-load.rb20180702-2036-129fdv\t2018-07-02 05:16:31.277432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n54.67.112.240     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+#   check-load\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.67.112.240     \u001b[37m+#   plain text\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.67.112.240     \u001b[37m+#   Linux\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.67.112.240     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# USAGE:\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# NOTES:\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+# LICENSE:\u001b[0m\r\n54.67.112.240     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n54.67.112.240     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.67.112.240     \u001b[37m+#   for details.\u001b[0m\r\n54.67.112.240     \u001b[37m+#\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+class LoadAverage\u001b[0m\r\n54.67.112.240     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n54.67.112.240     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n54.67.112.240     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n54.67.112.240     \u001b[37m+  end\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+  def cpu_count\u001b[0m\r\n54.67.112.240     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240     \u001b[37m+  rescue\u001b[0m\r\n54.67.112.240     \u001b[37m+    0\u001b[0m\r\n54.67.112.240     \u001b[37m+  end\u001b[0m\r\n54.67.112.240     \u001b[37m+ def failed?\u001b[0m\r\n54.67.112.240     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n54.67.112.240     \u001b[37m+  end\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n54.67.112.240     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n54.67.112.240     \u001b[37m+  end\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+  def to_s\u001b[0m\r\n54.67.112.240     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n54.67.112.240     \u001b[37m+  end\u001b[0m\r\n54.67.112.240     \u001b[37m+end\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.67.112.240     \u001b[37m+  option :warn,\u001b[0m\r\n54.67.112.240     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n54.67.112.240     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n54.67.112.240     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n54.67.112.240     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.67.112.240     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+  option :crit,\u001b[0m\r\n54.67.112.240     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n54.67.112.240     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n54.67.112.240     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n54.67.112.240     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.67.112.240     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+  option :per_core,\u001b[0m\r\n54.67.112.240     \u001b[37m+         short: '-p',\u001b[0m\r\n54.67.112.240     \u001b[37m+         long: '--per-core',\u001b[0m\r\n54.67.112.240     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n54.67.112.240     \u001b[37m+         boolean: 'true',\u001b[0m\r\n54.67.112.240     \u001b[37m+         default: false\u001b[0m\r\n54.67.112.240     \u001b[37m+           def run\u001b[0m\r\n54.67.112.240     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n54.67.112.240     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n54.67.112.240     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n54.67.112.240     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n54.67.112.240     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n54.67.112.240     \u001b[37m+             ok\u001b[0m\r\n54.67.112.240     \u001b[37m+           end\u001b[0m\r\n54.67.112.240     \u001b[37m+         end\u001b[0m\r\n54.67.112.240     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.67.112.240 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109   * apt_package[Install Sensu client] action install\r\n52.9.7.109     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n52.9.7.109 \u001b[0m  * template[/etc/sensu/conf.d/rabbitmq.json] action create\r\n52.9.7.109     \u001b[32m- create new file /etc/sensu/conf.d/rabbitmq.json\u001b[0m\r\n52.9.7.109     \u001b[32m- update content in file /etc/sensu/conf.d/rabbitmq.json from none to a00f55\u001b[0m\r\n52.9.7.109     \u001b[37m--- /etc/sensu/conf.d/rabbitmq.json\t2018-07-02 05:16:32.244417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m+++ /etc/sensu/conf.d/.chef-rabbitmq20180702-1379-1hm2m9j.json\t2018-07-02 05:16:32.244417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m@@ -1 +1,10 @@\u001b[0m\r\n52.9.7.109     \u001b[37m+{\u001b[0m\r\n52.9.7.109     \u001b[37m+  \"rabbitmq\": {\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"host\": \"10.0.1.92\",\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"port\": 5672,\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"user\": \"sensu\",\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"password\": \"secret\",\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"vhost\": \"/sensu\"\u001b[0m\r\n52.9.7.109     \u001b[37m+  }\u001b[0m\r\n52.9.7.109     \u001b[37m+}\u001b[0m\r\n52.9.7.109     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n52.9.7.109     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n"}
{"level":"debug","message":"52.9.7.109     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to ea9e22\u001b[0m\r\n52.9.7.109     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-02 05:16:32.248417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180702-1379-1nkj0wp.json\t2018-07-02 05:16:32.248417000 +0000\u001b[0m\r\n52.9.7.109     \u001b[37m@@ -1 +1,10 @@\u001b[0m\r\n52.9.7.109     \u001b[37m+{\u001b[0m\r\n52.9.7.109     \u001b[37m+  \"client\": {\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"name\": \"5b39b4ad775a83000537c751\",\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"address\": \"10.0.0.30\",\u001b[0m\r\n52.9.7.109     \u001b[37m+    \"subscriptions\": [\u001b[0m\r\n52.9.7.109     \u001b[37m+      \"5b39b4ad775a83000537c751\",\"test\"\u001b[0m\r\n52.9.7.109     \u001b[37m+    ]\u001b[0m\r\n52.9.7.109     \u001b[37m+  }\u001b[0m\r\n52.9.7.109     \u001b[37m+}\u001b[0m\r\n52.9.7.109     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.9.7.109 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n52.9.7.109   * service[sensu-client] action restart\r\n52.9.7.109     \u001b[0m\r\n52.9.7.109     ================================================================================\u001b[0m\r\n52.9.7.109     \u001b[31mError executing action `restart` on resource 'service[sensu-client]'\u001b[0m\r\n52.9.7.109     ================================================================================\u001b[0m\r\n52.9.7.109     \r\n52.9.7.109 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n52.9.7.109     ------------------------------------\u001b[0m\r\n52.9.7.109     Expected process to exit with [0], but received '3'\r\n52.9.7.109 \u001b[0m    ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.9.7.109 \u001b[0m    STDOUT: * Stopping sensu-client\r\n52.9.7.109 \u001b[0m     * sensu-client is stopped\r\n52.9.7.109 \u001b[0m    STDERR: \r\n52.9.7.109 \u001b[0m    ---- End output of /etc/init.d/sensu-client stop ----\r\n"}
{"level":"debug","message":"52.9.7.109 \u001b[0m    Ran /etc/init.d/sensu-client stop returned 3\u001b[0m\r\n52.9.7.109     \r\n52.9.7.109 \u001b[0m    Resource Declaration:\u001b[0m\r\n52.9.7.109     ---------------------\u001b[0m\r\n52.9.7.109     # In /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb\r\n52.9.7.109 \u001b[0m    \r\n52.9.7.109 \u001b[0m     57: \tservice 'sensu-client' do\r\n52.9.7.109 \u001b[0m     58: \t\taction :nothing\r\n52.9.7.109 \u001b[0m     59: \tend\r\n52.9.7.109 \u001b[0m     60: end\r\n52.9.7.109 \u001b[0m    \r\n52.9.7.109 \u001b[0m    Compiled Resource:\u001b[0m\r\n52.9.7.109     ------------------\u001b[0m\r\n52.9.7.109     # Declared in /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:57:in `from_file'\r\n52.9.7.109 \u001b[0m    \r\n52.9.7.109 \u001b[0m    service(\"sensu-client\") do\r\n52.9.7.109 \u001b[0m      action [:nothing]\r\n52.9.7.109 \u001b[0m      default_guard_interpreter :default\r\n52.9.7.109 \u001b[0m      service_name \"sensu-client\"\r\n52.9.7.109 \u001b[0m      enabled nil\r\n52.9.7.109 \u001b[0m      running nil\r\n52.9.7.109 \u001b[0m      masked nil\r\n52.9.7.109 \u001b[0m      pattern \"sensu-client\"\r\n52.9.7.109 \u001b[0m      declared_type :service\r\n52.9.7.109 \u001b[0m      cookbook_name \"sensu_check_memory\"\r\n"}
{"level":"debug","message":"52.9.7.109 \u001b[0m      recipe_name \"default\"\r\n52.9.7.109 \u001b[0m    end\r\n52.9.7.109 \u001b[0m    \r\n52.9.7.109 \u001b[0m    System Info:\u001b[0m\r\n52.9.7.109     ------------\u001b[0m\r\n52.9.7.109     chef_version=14.2.0\r\n52.9.7.109 \u001b[0m    platform=ubuntu\r\n52.9.7.109 \u001b[0m    platform_version=14.04\r\n52.9.7.109 \u001b[0m    ruby=ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux]\r\n52.9.7.109 \u001b[0m    program_name=/usr/bin/chef-client\r\n52.9.7.109 \u001b[0m    executable=/opt/chef/bin/chef-client\u001b[0m\r\n52.9.7.109     \r\n52.9.7.109 \u001b[0m\u001b[0m\r\n52.9.7.109 Running handlers:\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:32+00:00] ERROR: Running exception handlers\r\n52.9.7.109 Running handlers complete\r\n52.9.7.109 \u001b[0m[2018-07-02T05:16:32+00:00] ERROR: Exception handlers complete\r\n52.9.7.109 Chef Client failed. 10 resources updated in 19 seconds\u001b[0m\r\n52.9.7.109 [2018-07-02T05:16:32+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.7.109 [2018-07-02T05:16:32+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n52.9.7.109 [2018-07-02T05:16:32+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n52.9.7.109 [2018-07-02T05:16:32+00:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: service[sensu-client] (sensu_check_memory::default line 57) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '3'\r\n52.9.7.109 ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.9.7.109 STDOUT: * Stopping sensu-client\r\n52.9.7.109  * sensu-client is stopped\r\n52.9.7.109 STDERR: \r\n52.9.7.109 ---- End output of /etc/init.d/sensu-client stop ----\r\n52.9.7.109 Ran /etc/init.d/sensu-client stop returned 3\r\n"}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"54.67.112.240   * service[sensu-client] action restart\r\n54.67.112.240     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n54.67.112.240 \u001b[0mRecipe: sensu_check_load::default\u001b[0m\r\n54.67.112.240   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n54.67.112.240 Recipe: sensu_check_disk::default\u001b[0m\r\n54.67.112.240   * template[check-disk-usage.json] action create\r\n"}
{"level":"debug","message":"54.67.112.240     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n54.67.112.240     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n54.67.112.240     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-02 05:16:33.649432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m+++ /etc/sensu/conf.d/.check-disk-usage.json20180702-2036-169jekh\t2018-07-02 05:16:33.649432000 +0000\u001b[0m\r\n54.67.112.240     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.67.112.240     \u001b[37m+{\u001b[0m\r\n54.67.112.240     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.67.112.240     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n54.67.112.240     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n54.67.112.240     \u001b[37m+    }\u001b[0m\r\n54.67.112.240     \u001b[37m+\u001b[0m\r\n54.67.112.240     \u001b[37m+    }\u001b[0m\r\n54.67.112.240     \u001b[37m+  }\u001b[0m\r\n54.67.112.240     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240 \u001b[0m  * apt_package[ruby-dev] action install\r\n54.67.112.240     \u001b[0m\r\n54.67.112.240     ================================================================================\u001b[0m\r\n54.67.112.240     \u001b[31mError executing action `install` on resource 'apt_package[ruby-dev]'\u001b[0m\r\n54.67.112.240     ================================================================================\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240     \r\n54.67.112.240 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n54.67.112.240     ------------------------------------\u001b[0m\r\n54.67.112.240     Expected process to exit with [0], but received '100'\r\n54.67.112.240 \u001b[0m    ---- Begin output of apt-get -q -y install ruby-dev=1:1.9.3.4 ----\r\n54.67.112.240 \u001b[0m    STDOUT: Reading package lists...\r\n54.67.112.240 \u001b[0m    Building dependency tree...\r\n54.67.112.240 \u001b[0m    Reading state information...\r\n54.67.112.240 \u001b[0m    The following extra packages will be installed:\r\n54.67.112.240 \u001b[0m      ruby1.9.1-dev\r\n54.67.112.240 \u001b[0m    The following NEW packages will be installed:\r\n54.67.112.240 \u001b[0m      ruby-dev ruby1.9.1-dev\r\n54.67.112.240 \u001b[0m    0 upgraded, 2 newly installed, 0 to remove and 156 not upgraded.\r\n54.67.112.240 \u001b[0m    Need to get 876 kB of archives.\r\n54.67.112.240 \u001b[0m    After this operation, 4228 kB of additional disk space will be used.\r\n54.67.112.240 \u001b[0m    Err http://us-west-1.ec2.archive.ubuntu.com/ubuntu/ trusty-updates/main ruby1.9.1-dev amd64 1.9.3.484-2ubuntu1.2\r\n54.67.112.240 \u001b[0m      404  Not Found [IP: 54.183.207.82 80]\r\n54.67.112.240 \u001b[0m    Get:1 http://us-west-1.ec2.archive.ubuntu.com/ubuntu/ trusty/main ruby-dev all 1:1.9.3.4 [4660 B]\r\n54.67.112.240 \u001b[0m    Err http://security.ubuntu.com/ubuntu/ trusty-security/main ruby1.9.1-dev amd64 1.9.3.484-2ubuntu1.2\r\n54.67.112.240 \u001b[0m      404  Not Found [IP: 91.189.88.162 80]\r\n54.67.112.240 \u001b[0m    Fetched 4660 B in 0s (8650 B/s)\r\n54.67.112.240 \u001b[0m    STDERR: E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/r/ruby1.9.1/ruby1.9.1-dev_1.9.3.484-2ubuntu1.2_amd64.deb  404  Not Found [IP: 91.189.88.162 80]\r\n54.67.112.240 \u001b[0m    \r\n54.67.112.240 \u001b[0m    E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n54.67.112.240 \u001b[0m    ---- End output of apt-get -q -y install ruby-dev=1:1.9.3.4 ----\r\n54.67.112.240 \u001b[0m    Ran apt-get -q -y install ruby-dev=1:1.9.3.4 returned 100\u001b[0m\r\n54.67.112.240     \r\n54.67.112.240 \u001b[0m    Resource Declaration:\u001b[0m\r\n54.67.112.240     ---------------------\u001b[0m\r\n54.67.112.240     # In /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb\r\n54.67.112.240 \u001b[0m    \r\n54.67.112.240 \u001b[0m     22: \tpackage 'ruby-dev'\r\n54.67.112.240 \u001b[0m     23: \tpackage 'make'\r\n54.67.112.240 \u001b[0m    \r\n54.67.112.240 \u001b[0m    Compiled Resource:\u001b[0m\r\n54.67.112.240     ------------------\u001b[0m\r\n54.67.112.240     # Declared in /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:22:in `from_file'\r\n54.67.112.240 \u001b[0m    \r\n54.67.112.240 \u001b[0m    apt_package(\"ruby-dev\") do\r\n54.67.112.240 \u001b[0m      package_name \"ruby-dev\"\r\n54.67.112.240 \u001b[0m      action [:install]\r\n54.67.112.240 \u001b[0m      retries 0\r\n54.67.112.240 \u001b[0m      retry_delay 2\r\n54.67.112.240 \u001b[0m      default_guard_interpreter :default\r\n54.67.112.240 \u001b[0m      declared_type :package\r\n54.67.112.240 \u001b[0m      cookbook_name \"sensu_check_disk\"\r\n54.67.112.240 \u001b[0m      recipe_name \"default\"\r\n54.67.112.240 \u001b[0m    end\r\n54.67.112.240 \u001b[0m    \r\n54.67.112.240 \u001b[0m\u001b[0m\r\n54.67.112.240 Running handlers:\u001b[0m\r\n54.67.112.240 [2018-07-02T05:16:34+00:00] ERROR: Running exception handlers\r\n54.67.112.240 Running handlers complete\r\n54.67.112.240 \u001b[0m[2018-07-02T05:16:34+00:00] ERROR: Exception handlers complete\r\n54.67.112.240 Chef Client failed. 10 resources updated in 11 seconds\u001b[0m\r\n"}
{"level":"debug","message":"54.67.112.240 [2018-07-02T05:16:35+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n54.67.112.240 [2018-07-02T05:16:35+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n54.67.112.240 [2018-07-02T05:16:35+00:00] ERROR: apt_package[ruby-dev] (sensu_check_disk::default line 22) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '100'\r\n54.67.112.240 ---- Begin output of apt-get -q -y install ruby-dev=1:1.9.3.4 ----\r\n54.67.112.240 STDOUT: Reading package lists...\r\n"}
{"level":"debug","message":"54.67.112.240 Building dependency tree...\r\n54.67.112.240 Reading state information...\r\n54.67.112.240 The following extra packages will be installed:\r\n54.67.112.240   ruby1.9.1-dev\r\n54.67.112.240 The following NEW packages will be installed:\r\n54.67.112.240   ruby-dev ruby1.9.1-dev\r\n54.67.112.240 0 upgraded, 2 newly installed, 0 to remove and 156 not upgraded.\r\n54.67.112.240 Need to get 876 kB of archives.\r\n54.67.112.240 After this operation, 4228 kB of additional disk space will be used.\r\n54.67.112.240 Err http://us-west-1.ec2.archive.ubuntu.com/ubuntu/ trusty-updates/main ruby1.9.1-dev amd64 1.9.3.484-2ubuntu1.2\r\n54.67.112.240   404  Not Found [IP: 54.183.207.82 80]\r\n54.67.112.240 Get:1 http://us-west-1.ec2.archive.ubuntu.com/ubuntu/ trusty/main ruby-dev all 1:1.9.3.4 [4660 B]\r\n54.67.112.240 Err http://security.ubuntu.com/ubuntu/ trusty-security/main ruby1.9.1-dev amd64 1.9.3.484-2ubuntu1.2\r\n54.67.112.240   404  Not Found [IP: 91.189.88.162 80]\r\n54.67.112.240 Fetched 4660 B in 0s (8650 B/s)\r\n54.67.112.240 STDERR: E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/r/ruby1.9.1/ruby1.9.1-dev_1.9.3.484-2ubuntu1.2_amd64.deb  404  Not Found [IP: 91.189.88.162 80]\r\n54.67.112.240 \r\n54.67.112.240 E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n54.67.112.240 ---- End output of apt-get -q -y install ruby-dev=1:1.9.3.4 ----\r\n54.67.112.240 Ran apt-get -q -y install ruby-dev=1:1.9.3.4 returned 100\r\n"}
{"level":"debug","message":"54.67.112.240 [2018-07-02T05:16:35+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)\r\n"}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-08f8bd83a5c94bf5e\n"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"error","message":"Creating new client for i-05ce9eeea8c0412e7\n"}
{"level":"error","message":"Creating new node for i-05ce9eeea8c0412e7\n"}
{"level":"error","message":"Creating new node for i-08f8bd83a5c94bf5e\n"}
{"level":"error","message":"Connecting to 13.56.94.155\n"}
{"level":"error","message":"Connecting to 54.67.28.52\n"}
{"level":"debug","message":"13.56.94.155 -----> Installing Chef Omnibus (-v 14)\r\n"}
{"level":"debug","message":"13.56.94.155 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n13.56.94.155   to file /tmp/install.sh.1292/install.sh\r\n13.56.94.155 trying wget...\r\n"}
{"level":"debug","message":"13.56.94.155 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"13.56.94.155 Getting information for chef stable 14 for ubuntu...\r\n13.56.94.155 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n13.56.94.155   to file /tmp/install.sh.1296/metadata.txt\r\n13.56.94.155 trying wget...\r\n"}
{"level":"debug","message":"13.56.94.155 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"13.56.94.155 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n13.56.94.155 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n13.56.94.155 version\t14.2.0\r\n"}
{"level":"debug","message":"13.56.94.155 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"13.56.94.155 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n13.56.94.155   to file /tmp/install.sh.1296/chef_14.2.0-1_amd64.deb\r\n13.56.94.155 trying wget...\r\n"}
{"level":"debug","message":"13.56.94.155 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"13.56.94.155 Installing chef 14\r\n"}
{"level":"debug","message":"13.56.94.155 installing with dpkg...\r\n"}
{"level":"debug","message":"13.56.94.155 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"13.56.94.155 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"13.56.94.155 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n13.56.94.155 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"13.56.94.155 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"13.56.94.155 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"13.56.94.155 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"13.56.94.155 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155   - sensu_check_load (0.1.0)\u001b[0m\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155   - sensu_check_disk (0.1.2)\u001b[0m\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   - sensu-client-latest (0.1.4)\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   - sensu_check_memory (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 Installing Cookbook Gems:\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:47:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 Converging 31 resources\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n13.56.94.155     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n13.56.94.155     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 08:47:55.155968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180702-1379-4ihbpd.gpg\t2018-07-02 08:47:55.155968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n13.56.94.155     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n13.56.94.155     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n13.56.94.155     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n13.56.94.155     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n13.56.94.155     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n13.56.94.155     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n13.56.94.155     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n13.56.94.155     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n13.56.94.155     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n13.56.94.155     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n13.56.94.155     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n13.56.94.155     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n13.56.94.155     \u001b[37m+=hhqa\u001b[0m\r\n13.56.94.155     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n13.56.94.155   * execute[add_sensu_gpg] action run\r\n13.56.94.155     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n13.56.94.155 \u001b[0m  * execute[add_sensu_gpg] action run\r\n13.56.94.155     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n13.56.94.155   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n13.56.94.155   * execute[add_repo] action run\r\n13.56.94.155     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 -----> Existing Chef installation detected\r\n"}
{"level":"debug","message":"54.67.28.52 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"13.56.94.155   * execute[repo_update] action run\r\n13.56.94.155     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 Starting Chef Client, version 12.7.2\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * execute[repo_update] action run\r\n13.56.94.155     \u001b[32m- execute apt-get update\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n13.56.94.155   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.67.28.52 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu-client-latest (0.1.4)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   - sensu_check_memory (0.1.2)\u001b[0m\r\n54.67.28.52 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu-client/recipes/default.rb:72:in `from_file'\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n"}
{"level":"debug","message":"54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n"}
{"level":"debug","message":"54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n54.67.28.52 [2018-07-02T08:48:09+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:31:in `from_file'\r\n54.67.28.52 Converging 22 resources\u001b[0m\r\n54.67.28.52 Recipe: sensu-client::default\u001b[0m\r\n54.67.28.52   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n54.67.28.52     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n54.67.28.52     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n54.67.28.52     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 08:48:09.138562000 +0000\u001b[0m\r\n54.67.28.52     \u001b[37m+++ /tmp/chef-rest20180702-2043-6yzdl0\t2018-07-02 08:48:09.138562000 +0000\u001b[0m\r\n54.67.28.52     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n54.67.28.52     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.67.28.52     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n54.67.28.52     \u001b[37m+\u001b[0m\r\n54.67.28.52     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n54.67.28.52     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n54.67.28.52     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n54.67.28.52     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n54.67.28.52     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n54.67.28.52     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n54.67.28.52     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n54.67.28.52     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n54.67.28.52     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n54.67.28.52     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n54.67.28.52     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n54.67.28.52     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n54.67.28.52     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n54.67.28.52     \u001b[37m+=hhqa\u001b[0m\r\n54.67.28.52     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 \u001b[0m  * execute[add_sensu_gpg] action run\r\n54.67.28.52     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n54.67.28.52 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n54.67.28.52   * execute[add_repo] action run (skipped due to not_if)\r\n54.67.28.52   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.67.28.52   * apt_package[Install Sensu client] action install (up to date)\r\n"}
{"level":"debug","message":"54.67.28.52   * template[/etc/sensu/config.json] action create\r\n54.67.28.52     \u001b[32m- update content in file /etc/sensu/config.json from 3afe91 to 680ca2\u001b[0m\r\n54.67.28.52     \u001b[37m--- /etc/sensu/config.json\t2016-02-29 16:52:32.934408000 +0000\u001b[0m\r\n54.67.28.52     \u001b[37m+++ /etc/sensu/.config.json20180702-2043-1tenf0e\t2018-07-02 08:48:09.626562000 +0000\u001b[0m\r\n54.67.28.52     \u001b[37m@@ -1,9 +1,15 @@\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * apt_package[Install Sensu client] action install\r\n13.56.94.155     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n13.56.94.155 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52     \u001b[37m {\u001b[0m\r\n54.67.28.52     \u001b[37m-  \"rabbitmq\": {\u001b[0m\r\n54.67.28.52     \u001b[37m-    \"host\": \"10.0.1.92\",\u001b[0m\r\n54.67.28.52     \u001b[37m-    \"vhost\": \"/sensu\",\u001b[0m\r\n54.67.28.52     \u001b[37m-    \"user\": \"sensu\",\u001b[0m\r\n54.67.28.52     \u001b[37m-    \"password\": \"secret\"\u001b[0m\r\n54.67.28.52     \u001b[37m+  \"redis\": {\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n54.67.28.52     \u001b[37m+  },\u001b[0m\r\n54.67.28.52     \u001b[37m+  \"api\": {\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n54.67.28.52     \u001b[37m+  },\u001b[0m\r\n54.67.28.52     \u001b[37m+  \"transport\": {\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n54.67.28.52     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n54.67.28.52     \u001b[37m   }\u001b[0m\r\n54.67.28.52     \u001b[37m }\u001b[0m\r\n54.67.28.52     \u001b[32m- change mode from '0644' to '0755'\u001b[0m\r\n54.67.28.52 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m--- /etc/sensu/config.json\t2018-07-02 08:48:09.403968000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+++ /etc/sensu/.chef-config20180702-1379-e2gr64.json\t2018-07-02 08:48:09.403968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+{\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"redis\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  },\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"api\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  },\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"transport\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n13.56.94.155     \u001b[37m+  }\u001b[0m\r\n13.56.94.155     \u001b[37m+}\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52   * service[sensu-client] action start\r\n54.67.28.52     \u001b[0m\r\n54.67.28.52     ================================================================================\u001b[0m\r\n54.67.28.52     \u001b[31mError executing action `start` on resource 'service[sensu-client]'\u001b[0m\r\n54.67.28.52     ================================================================================\u001b[0m\r\n54.67.28.52     \r\n54.67.28.52 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n54.67.28.52     ------------------------------------\u001b[0m\r\n54.67.28.52     Expected process to exit with [0], but received '1'\r\n54.67.28.52 \u001b[0m    ---- Begin output of /etc/init.d/sensu-client start ----\r\n54.67.28.52 \u001b[0m    STDOUT: * Starting sensu-client\r\n54.67.28.52 \u001b[0m       ...fail!\r\n54.67.28.52 \u001b[0m    STDERR: \r\n54.67.28.52 \u001b[0m    ---- End output of /etc/init.d/sensu-client start ----\r\n54.67.28.52 \u001b[0m    Ran /etc/init.d/sensu-client start returned 1\u001b[0m\r\n54.67.28.52     \r\n54.67.28.52 \u001b[0m    Resource Declaration:\u001b[0m\r\n54.67.28.52     ---------------------\u001b[0m\r\n54.67.28.52     # In /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb\r\n54.67.28.52 \u001b[0m    \r\n54.67.28.52 \u001b[0m     31: \tservice 'sensu-client' do\r\n54.67.28.52 \u001b[0m     32: \t\taction :nothing\r\n54.67.28.52 \u001b[0m     33: \tend\r\n54.67.28.52 \u001b[0m     34: else\r\n54.67.28.52 \u001b[0m    \r\n54.67.28.52 \u001b[0m    Compiled Resource:\u001b[0m\r\n54.67.28.52     ------------------\u001b[0m\r\n54.67.28.52     # Declared in /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:31:in `from_file'\r\n54.67.28.52 \u001b[0m    \r\n54.67.28.52 \u001b[0m    service(\"sensu-client\") do\r\n54.67.28.52 \u001b[0m      action [:nothing]\r\n54.67.28.52 \u001b[0m      supports {:status=>true, :start=>true, :stop=>true, :restart=>true}\r\n54.67.28.52 \u001b[0m      retries 0\r\n54.67.28.52 \u001b[0m      retry_delay 2\r\n54.67.28.52 \u001b[0m      default_guard_interpreter :default\r\n54.67.28.52 \u001b[0m      service_name \"sensu-client\"\r\n54.67.28.52 \u001b[0m      pattern \"sensu-client\"\r\n54.67.28.52 \u001b[0m      declared_type :service\r\n54.67.28.52 \u001b[0m      cookbook_name \"sensu_check_memory\"\r\n54.67.28.52 \u001b[0m      recipe_name \"default\"\r\n54.67.28.52 \u001b[0m    end\r\n54.67.28.52 \u001b[0m    \r\n54.67.28.52 \u001b[0m\u001b[0m\r\n54.67.28.52 Running handlers:\u001b[0m\r\n54.67.28.52 [2018-07-02T08:48:11+00:00] ERROR: Running exception handlers\r\n54.67.28.52 Running handlers complete\r\n54.67.28.52 \u001b[0m[2018-07-02T08:48:11+00:00] ERROR: Exception handlers complete\r\n54.67.28.52 Chef Client failed. 3 resources updated in 07 seconds\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action start\r\n13.56.94.155     \u001b[32m- start service service[sensu-client]\u001b[0m\r\n"}
{"level":"debug","message":"54.67.28.52 [2018-07-02T08:48:11+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n54.67.28.52 [2018-07-02T08:48:11+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n54.67.28.52 [2018-07-02T08:48:11+00:00] ERROR: service[sensu-client] (sensu_check_memory::default line 31) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'\r\n54.67.28.52 ---- Begin output of /etc/init.d/sensu-client start ----\r\n54.67.28.52 STDOUT: * Starting sensu-client\r\n54.67.28.52    ...fail!\r\n54.67.28.52 STDERR: \r\n54.67.28.52 ---- End output of /etc/init.d/sensu-client start ----\r\n54.67.28.52 Ran /etc/init.d/sensu-client start returned 1\r\n54.67.28.52 [2018-07-02T08:48:11+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * service[sensu-client] action restart\r\n13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n13.56.94.155   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n13.56.94.155 Recipe: sensu-client-latest::default\u001b[0m\r\n13.56.94.155   * remote_file[/tmp/sensu_pubkey.gpg] action create (up to date)\r\n13.56.94.155   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n13.56.94.155   * execute[add_repo] action run (skipped due to not_if)\r\n13.56.94.155   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n13.56.94.155   * apt_package[Install Sensu client] action install (up to date)\r\n13.56.94.155   * template[/etc/sensu/config.json] action create\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/config.json from 680ca2 to c5a712\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/config.json\t2018-07-02 08:48:09.403968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/.chef-config20180702-1379-11mnn5q.json\t2018-07-02 08:48:15.299968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1,11 +1,11 @@\u001b[0m\r\n13.56.94.155     \u001b[37m {\u001b[0m\r\n13.56.94.155     \u001b[37m   \"redis\": {\u001b[0m\r\n13.56.94.155     \u001b[37m     \"host\": \"18.188.62.78\",\u001b[0m\r\n13.56.94.155     \u001b[37m-    \"port\": \"6379\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"port\": 6379\u001b[0m\r\n13.56.94.155     \u001b[37m   },\u001b[0m\r\n13.56.94.155     \u001b[37m   \"api\": {\u001b[0m\r\n13.56.94.155     \u001b[37m     \"host\": \"18.188.62.78\",\u001b[0m\r\n13.56.94.155     \u001b[37m-    \"port\": \"4567\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"port\": 4567\u001b[0m\r\n13.56.94.155     \u001b[37m   },\u001b[0m\r\n13.56.94.155     \u001b[37m   \"transport\": {\u001b[0m\r\n13.56.94.155     \u001b[37m     \"name\": \"redis\",\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n13.56.94.155   * service[sensu-client] action start (up to date)\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action restart\r\n13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n13.56.94.155   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n13.56.94.155 Recipe: sensu_check_load::default\u001b[0m\r\n13.56.94.155   * template[check-load.json] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-02 08:48:19.999968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180702-1379-9pjwv9.json\t2018-07-02 08:48:19.999968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+{\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"check_load\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.56.94.155     \u001b[37m+    }\u001b[0m\r\n13.56.94.155     \u001b[37m+  }\u001b[0m\r\n13.56.94.155     \u001b[37m+}\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0m  * template[check-load.rb] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-02 08:48:20.007968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180702-1379-12863ab.rb\t2018-07-02 08:48:20.007968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+#   check-load\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# OUTPUT:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   plain text\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# PLATFORMS:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Linux\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# USAGE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# NOTES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# LICENSE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n13.56.94.155     \u001b[37m+#   for details.\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+class LoadAverage\u001b[0m\r\n13.56.94.155     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n13.56.94.155     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n13.56.94.155     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def cpu_count\u001b[0m\r\n13.56.94.155     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n13.56.94.155     \u001b[37m+  rescue\u001b[0m\r\n13.56.94.155     \u001b[37m+    0\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+ def failed?\u001b[0m\r\n13.56.94.155     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n13.56.94.155     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def to_s\u001b[0m\r\n13.56.94.155     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :warn,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n13.56.94.155     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :crit,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n13.56.94.155     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :per_core,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-p',\u001b[0m\r\n13.56.94.155     \u001b[37m+         long: '--per-core',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n13.56.94.155     \u001b[37m+         boolean: 'true',\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: false\u001b[0m\r\n13.56.94.155     \u001b[37m+           def run\u001b[0m\r\n13.56.94.155     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n13.56.94.155     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n13.56.94.155     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n13.56.94.155     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n13.56.94.155     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n13.56.94.155     \u001b[37m+             ok\u001b[0m\r\n13.56.94.155     \u001b[37m+           end\u001b[0m\r\n13.56.94.155     \u001b[37m+         end\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action restart\r\n13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_load::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n13.56.94.155 Recipe: sensu_check_disk::default\u001b[0m\r\n13.56.94.155   * template[check-disk-usage.json] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-02 08:48:24.455968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180702-1379-1bhfvz9.json\t2018-07-02 08:48:24.455968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+{\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n13.56.94.155     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    }\u001b[0m\r\n13.56.94.155     \u001b[37m+  }\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * apt_package[ruby-dev] action install\r\n13.56.94.155     \u001b[32m- install version 1:1.9.3.4 of package ruby-dev\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * apt_package[make] action install\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[32m- install version 3.81-8.2ubuntu3 of package make\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * gem_package[sys-filesystem] action install\r\n13.56.94.155     \u001b[32m- install version 1.1.9 of package sys-filesystem\u001b[0m\r\n13.56.94.155 \u001b[0m  * template[check-disk-usage.rb] action create\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[32m- create new file /etc/sensu/plugins/check-disk-usage.rb\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/plugins/check-disk-usage.rb from none to ef15b0\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m--- /etc/sensu/plugins/check-disk-usage.rb\t2018-07-02 08:48:35.399968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/plugins/.chef-check-disk-usage20180702-1379-896rs8.rb\t2018-07-02 08:48:35.395968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,212 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+#   check-disk\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Uses the sys-filesystem gem to get filesystem mount points and metrics\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# OUTPUT:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   plain text\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# PLATFORMS:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Linux, BSD, Windows\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n13.56.94.155     \u001b[37m+#   gem: sys-filesystem\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# USAGE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# NOTES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# LICENSE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Copyright 2015 Yieldbot Inc <Sensu-Plugins>\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n13.56.94.155     \u001b[37m+#   for details.\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n13.56.94.155     \u001b[37m+require 'sys/filesystem'\u001b[0m\r\n13.56.94.155     \u001b[37m+include Sys\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# Check Disk\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+class CheckDisk < Sensu::Plugin::Check::CLI\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :fstype,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-t TYPE[,TYPE]',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Only check fs type(s)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :ignoretype,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-x TYPE[,TYPE]',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Ignore fs type(s)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+  option :ignoremnt,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-i MNT[,MNT]',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Ignore mount point(s)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :includemnt,\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Include only mount point(s)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-I MNT[,MNT]',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :ignorepathre,\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+         short: '-p PATHRE',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Ignore mount point(s) matching regular expression',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| Regexp.new(a) }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :ignoreopt,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-o TYPE[.TYPE]',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Ignore option(s)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |a| a.split('.') }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :bwarn,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-w PERCENT',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Warn if PERCENT or more of disk full',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 85\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :bcrit,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-c PERCENT',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Critical if PERCENT or more of disk full',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 95\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :iwarn,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-W PERCENT',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Warn if PERCENT or more of inodes used',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 85\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :icrit,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-K PERCENT',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Critical if PERCENT or more of inodes used',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 95\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :magic,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-m MAGIC',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Magic factor to adjust warn/crit thresholds. Example: .9',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 1.0\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :normal,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-n NORMAL',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Levels are not adapted for filesystems of exactly this '\\\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+          'size, where levels are reduced for smaller filesystems and raised '\\\u001b[0m\r\n13.56.94.155     \u001b[37m+          'for larger filesystems.',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 20\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :minimum,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-l MINIMUM',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Minimum size to adjust (in GB)',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 100\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Setup variables\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def initialize\u001b[0m\r\n13.56.94.155     \u001b[37m+    super\u001b[0m\r\n13.56.94.155     \u001b[37m+    @crit_fs = []\u001b[0m\r\n13.56.94.155     \u001b[37m+    @warn_fs = []\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Get mount data\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def fs_mounts\u001b[0m\r\n13.56.94.155     \u001b[37m+    Filesystem.mounts.each do |line|\u001b[0m\r\n13.56.94.155     \u001b[37m+      begin\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:fstype] && !config[:fstype].include?(line.mount_type)\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:ignoretype] && config[:ignoretype].include?(line.mount_type)\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:ignoremnt] && config[:ignoremnt].include?(line.mount_point)\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:ignorepathre] && config[:ignorepathre].match(line.mount_point)\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:ignoreopt] && config[:ignoreopt].include?(line.options)\u001b[0m\r\n13.56.94.155     \u001b[37m+        next if config[:includemnt] && !config[:includemnt].include?(line.mount_point)\u001b[0m\r\n13.56.94.155     \u001b[37m+      rescue\u001b[0m\r\n13.56.94.155     \u001b[37m+        unknown 'An error occured getting the mount info'\u001b[0m\r\n13.56.94.155     \u001b[37m+      end\u001b[0m\r\n13.56.94.155     \u001b[37m+      check_mount(line)\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Adjust the percentages based on volume size\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def adj_percent(size, percent)\u001b[0m\r\n13.56.94.155     \u001b[37m+    hsize = (size / (1024.0 * 1024.0)) / config[:normal].to_f\u001b[0m\r\n13.56.94.155     \u001b[37m+    felt  = hsize**config[:magic]\u001b[0m\r\n13.56.94.155     \u001b[37m+    scale = felt / hsize\u001b[0m\r\n13.56.94.155     \u001b[37m+    100 - ((100 - percent) * scale)\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def check_mount(line)\u001b[0m\r\n13.56.94.155     \u001b[37m+    begin\u001b[0m\r\n13.56.94.155     \u001b[37m+      fs_info = Filesystem.stat(line.mount_point)\u001b[0m\r\n13.56.94.155     \u001b[37m+    rescue\u001b[0m\r\n13.56.94.155     \u001b[37m+      @warn_fs << \"#{line.mount_point} Unable to read.\"\u001b[0m\r\n13.56.94.155     \u001b[37m+      return\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+    if fs_info.respond_to?(:inodes) && !fs_info.inodes.nil? # needed for windows\u001b[0m\r\n13.56.94.155     \u001b[37m+      percent_i = percent_inodes(fs_info)\u001b[0m\r\n13.56.94.155     \u001b[37m+      if percent_i >= config[:icrit]\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+        @crit_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n13.56.94.155     \u001b[37m+      elsif percent_i >= config[:iwarn]\u001b[0m\r\n13.56.94.155     \u001b[37m+        @warn_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n13.56.94.155     \u001b[37m+      end\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+    percent_b = percent_bytes(fs_info)\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    if fs_info.bytes_total < (config[:minimum] * 1_000_000_000)\u001b[0m\r\n13.56.94.155     \u001b[37m+      bcrit = config[:bcrit]\u001b[0m\r\n13.56.94.155     \u001b[37m+      bwarn = config[:bwarn]\u001b[0m\r\n13.56.94.155     \u001b[37m+    else\u001b[0m\r\n13.56.94.155     \u001b[37m+      bcrit = adj_percent(fs_info.bytes_total, config[:bcrit])\u001b[0m\r\n13.56.94.155     \u001b[37m+      bwarn = adj_percent(fs_info.bytes_total, config[:bwarn])\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    used = to_human(fs_info.bytes_used)\u001b[0m\r\n13.56.94.155     \u001b[37m+    total = to_human(fs_info.bytes_total)\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    if percent_b >= bcrit\u001b[0m\r\n13.56.94.155     \u001b[37m+      @crit_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    elsif percent_b >= bwarn\u001b[0m\r\n13.56.94.155     \u001b[37m+      @warn_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def to_human(s)\u001b[0m\r\n13.56.94.155     \u001b[37m+    unit = [[1_099_511_627_776, 'TiB'], [1_073_741_824, 'GiB'], [1_048_576, 'MiB'], [1024, 'KiB'], [0, 'B']].detect { |u| s >= u[0] }\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"#{s > 0 ? s / unit[0] : s} #{unit[1]}\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Determine the percent inode usage\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def percent_inodes(fs_info)\u001b[0m\r\n13.56.94.155     \u001b[37m+    (100.0 - (100.0 * fs_info.inodes_free / fs_info.inodes)).round(2)\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Determine the percent byte usage\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+  def percent_bytes(fs_info)\u001b[0m\r\n13.56.94.155     \u001b[37m+    (100.0 - (100.0 * fs_info.bytes_free / fs_info.bytes_total)).round(2)\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Generate output\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def usage_summary\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+    (@crit_fs + @warn_fs).join(', ')\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  # Main function\u001b[0m\r\n13.56.94.155     \u001b[37m+  #\u001b[0m\r\n13.56.94.155     \u001b[37m+  def run\u001b[0m\r\n13.56.94.155     \u001b[37m+    fs_mounts\u001b[0m\r\n13.56.94.155     \u001b[37m+    critical usage_summary unless @crit_fs.empty?\u001b[0m\r\n13.56.94.155     \u001b[37m+    warning usage_summary unless @warn_fs.empty?\u001b[0m\r\n13.56.94.155     \u001b[37m+    ok \"All disk usage under #{config[:bwarn]}% and inode usage under #{config[:iwarn]}%\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+end\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_disk::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n13.56.94.155 Recipe: sensu_check_cpu::default\u001b[0m\r\n13.56.94.155   * template[check-cpu.json] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-02 08:48:38.843968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180702-1379-14q651v.json\t2018-07-02 08:48:38.843968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+{\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.56.94.155     \u001b[37m+    }\u001b[0m\r\n13.56.94.155     \u001b[37m+  }\u001b[0m\r\n13.56.94.155     \u001b[37m+}\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0m  * apt_package[ruby-dev] action install (up to date)\r\n13.56.94.155   * apt_package[make] action install (up to date)\r\n13.56.94.155   * template[check-cpu.rb] action create\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[32m- create new file /etc/sensu/plugins/check-cpu.rb\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/plugins/check-cpu.rb from none to 94f8d6\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/plugins/check-cpu.rb\t2018-07-02 08:48:38.911968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/plugins/.chef-check-cpu20180702-1379-ietgo5.rb\t2018-07-02 08:48:38.911968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,116 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+#   check-cpu\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Check cpu usage\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# OUTPUT:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   plain text\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# PLATFORMS:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Linux\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# USAGE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   #YELLOW\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# NOTES:\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# LICENSE:\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Copyright 2014 Sonian, Inc. and contributors. <support@sensuapp.org>\u001b[0m\r\n13.56.94.155     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n13.56.94.155     \u001b[37m+#   for details.\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# Check CPU\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+class CheckCPU < Sensu::Plugin::Check::CLI\u001b[0m\r\n13.56.94.155     \u001b[37m+  CPU_METRICS = [:user, :nice, :system, :idle, :iowait, :irq, :softirq, :steal, :guest, :guest_nice]\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :warn,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-w WARN',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 80\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :crit,\u001b[0m\r\n13.56.94.155     \u001b[37m+         short: '-c CRIT',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 100\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :sleep,\u001b[0m\r\n13.56.94.155     \u001b[37m+         long: '--sleep SLEEP',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: 1\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  option :idle_metrics,\u001b[0m\r\n13.56.94.155     \u001b[37m+         long: '--idle-metrics METRICS',\u001b[0m\r\n13.56.94.155     \u001b[37m+         description: 'Treat the specified metrics as idle. Defaults to idle,iowait,steal,guest,guest_nice',\u001b[0m\r\n13.56.94.155     \u001b[37m+         proc: proc { |x| x.split(/,/).map { |y| y.strip.to_sym } },\u001b[0m\r\n13.56.94.155     \u001b[37m+         default: [:idle, :iowait, :steal, :guest, :guest_nice]\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  CPU_METRICS.each do |metric|\u001b[0m\r\n13.56.94.155     \u001b[37m+    option metric,\u001b[0m\r\n13.56.94.155     \u001b[37m+           long: \"--#{metric}\",\u001b[0m\r\n13.56.94.155     \u001b[37m+           description: \"Check cpu #{metric} instead of total cpu usage\",\u001b[0m\r\n13.56.94.155     \u001b[37m+           boolean: true,\u001b[0m\r\n13.56.94.155     \u001b[37m+           default: false\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def acquire_cpu_stats\u001b[0m\r\n13.56.94.155     \u001b[37m+    File.open('/proc/stat', 'r').each_line do |line|\u001b[0m\r\n13.56.94.155     \u001b[37m+      info = line.split(/\\s+/)\u001b[0m\r\n13.56.94.155     \u001b[37m+      name = info.shift\u001b[0m\r\n13.56.94.155     \u001b[37m+      return info.map(&:to_f) if name.match(/^cpu$/)\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+  def run\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_stats_before = acquire_cpu_stats\u001b[0m\r\n13.56.94.155     \u001b[37m+    sleep config[:sleep]\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_stats_after = acquire_cpu_stats\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    # Some kernels don't have 'guest' and 'guest_nice' values\u001b[0m\r\n13.56.94.155     \u001b[37m+    metrics = CPU_METRICS.slice(0, cpu_stats_after.length)\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+    cpu_total_diff = 0.to_f\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_stats_diff = []\u001b[0m\r\n13.56.94.155     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n13.56.94.155     \u001b[37m+      cpu_stats_diff[i] = cpu_stats_after[i] - cpu_stats_before[i]\u001b[0m\r\n13.56.94.155     \u001b[37m+      cpu_total_diff += cpu_stats_diff[i]\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_stats = []\u001b[0m\r\n13.56.94.155     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n13.56.94.155     \u001b[37m+      cpu_stats[i] = 100 * (cpu_stats_diff[i] / cpu_total_diff)\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    idle_diff = metrics.each_with_index.map { |metric, i| config[:idle_metrics].include?(metric) ? cpu_stats_diff[i] : 0.0 }.reduce(0.0, :+)\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_usage = 100 * (cpu_total_diff - idle_diff) / cpu_total_diff\u001b[0m\r\n13.56.94.155     \u001b[37m+    checked_usage = cpu_usage\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    self.class.check_name 'CheckCPU TOTAL'\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+    metrics.each do |metric|\u001b[0m\r\n13.56.94.155     \u001b[37m+      if config[metric]\u001b[0m\r\n13.56.94.155     \u001b[37m+        self.class.check_name \"CheckCPU #{metric.to_s.upcase}\"\u001b[0m\r\n13.56.94.155     \u001b[37m+        checked_usage = cpu_stats[metrics.find_index(metric)]\u001b[0m\r\n13.56.94.155     \u001b[37m+      end\u001b[0m\r\n13.56.94.155     \u001b[37m+    end\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    msg = \"total=#{(cpu_usage * 100).round / 100.0}\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    cpu_stats.each_index { |i| msg += \" #{metrics[i]}=#{(cpu_stats[i] * 100).round / 100.0}\" }\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    message msg\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+    critical if checked_usage >= config[:crit]\u001b[0m\r\n13.56.94.155     \u001b[37m+    warning if checked_usage >= config[:warn]\u001b[0m\r\n13.56.94.155     \u001b[37m+    ok\u001b[0m\r\n13.56.94.155     \u001b[37m+  end\u001b[0m\r\n13.56.94.155     \u001b[37m+end\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action restart\r\n13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0mRecipe: sensu_check_cpu::default\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"13.56.94.155 Recipe: sensu_check_memory::default\u001b[0m\r\n13.56.94.155   * template[check-memory-usage.json] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-02 08:48:43.355968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180702-1379-wek81c.json\t2018-07-02 08:48:43.355968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+{\u001b[0m\r\n13.56.94.155     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.56.94.155     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.56.94.155     \u001b[37m+    }\u001b[0m\r\n13.56.94.155     \u001b[37m+  }\u001b[0m\r\n13.56.94.155     \u001b[37m+}\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.56.94.155 \u001b[0m  * template[check-memory-usage.sh] action create\r\n13.56.94.155     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n13.56.94.155     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n13.56.94.155     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-02 08:48:43.363968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180702-1379-130wrba.sh\t2018-07-02 08:48:43.363968000 +0000\u001b[0m\r\n13.56.94.155     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n13.56.94.155     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n13.56.94.155     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n13.56.94.155     \u001b[37m+#\u001b[0m\r\n13.56.94.155     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n13.56.94.155     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n13.56.94.155     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n13.56.94.155     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n13.56.94.155     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n13.56.94.155     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n13.56.94.155     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n13.56.94.155     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n13.56.94.155     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n13.56.94.155     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+# get arguments\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+# #RED\u001b[0m\r\n13.56.94.155     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n13.56.94.155     \u001b[37m+  case $OPT in\u001b[0m\r\n13.56.94.155     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n13.56.94.155     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n13.56.94.155     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n13.56.94.155     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n13.56.94.155     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n13.56.94.155     \u001b[37m+  esac\u001b[0m\r\n13.56.94.155     \u001b[37m+done\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+# usage\u001b[0m\r\n13.56.94.155     \u001b[37m+HELP=\"\u001b[0m\r\n13.56.94.155     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n13.56.94.155     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n13.56.94.155     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n13.56.94.155     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n13.56.94.155     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n13.56.94.155     \u001b[37m+\"\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n13.56.94.155     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  exit 0\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+fi\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n13.56.94.155     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n13.56.94.155     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n13.56.94.155     \u001b[37m+set -o pipefail\u001b[0m\r\n13.56.94.155     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n13.56.94.155     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n13.56.94.155     \u001b[37m+  then\u001b[0m\r\n13.56.94.155     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[37m+fi\u001b[0m\r\n13.56.94.155     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n13.56.94.155     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n13.56.94.155     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n13.56.94.155     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n13.56.94.155     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  exit 3\u001b[0m\r\n13.56.94.155     \u001b[37m+fi\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n13.56.94.155     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n13.56.94.155     \u001b[37m+else\u001b[0m\r\n13.56.94.155     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n13.56.94.155     \u001b[37m+fi\u001b[0m\r\n13.56.94.155     \u001b[37m+\u001b[0m\r\n13.56.94.155     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n13.56.94.155     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  exit 2\u001b[0m\r\n13.56.94.155     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n13.56.94.155     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  exit 1\u001b[0m\r\n13.56.94.155     \u001b[37m+else\u001b[0m\r\n13.56.94.155     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n13.56.94.155     \u001b[37m+  exit 0\u001b[0m\r\n13.56.94.155     \u001b[37m+fi\u001b[0m\r\n13.56.94.155     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m  * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"13.56.94.155     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n13.56.94.155 \u001b[0m  * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:48:47+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.56.94.155 \u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 Running handlers:\u001b[0m\r\n13.56.94.155 Running handlers complete\r\n13.56.94.155 \u001b[0mChef Client finished, 27/43 resources updated in 57 seconds\u001b[0m\r\n"}
{"level":"debug","message":"13.56.94.155 [2018-07-02T08:48:48+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july022.rlcatalyst.com"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"error","message":"Creating new client for i-064e646775f3ac6d7\n"}
{"level":"error","message":"Creating new node for i-064e646775f3ac6d7\n"}
{"level":"error","message":"Connecting to 52.52.139.26\n"}
{"level":"debug","message":"52.52.139.26 -----> Installing Chef Omnibus (-v 14)\r\n52.52.139.26 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n"}
{"level":"debug","message":"52.52.139.26   to file /tmp/install.sh.1293/install.sh\r\n52.52.139.26 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.26 ubuntu 14.04 x86_64\r\n52.52.139.26 Getting information for chef stable 14 for ubuntu...\r\n"}
{"level":"debug","message":"52.52.139.26 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n52.52.139.26   to file /tmp/install.sh.1297/metadata.txt\r\n52.52.139.26 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.26 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"52.52.139.26 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n52.52.139.26 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.52.139.26 version\t14.2.0\r\n"}
{"level":"debug","message":"52.52.139.26 downloaded metadata file looks valid...\r\n52.52.139.26 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.52.139.26   to file /tmp/install.sh.1297/chef_14.2.0-1_amd64.deb\r\n52.52.139.26 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.26 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"52.52.139.26 Installing chef 14\r\n52.52.139.26 installing with dpkg...\r\n"}
{"level":"debug","message":"52.52.139.26 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"52.52.139.26 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"52.52.139.26 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n52.52.139.26 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.52.139.26 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.52.139.26 Thank you for installing Chef!\r\n52.52.139.26 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.52.139.26 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:07+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n52.52.139.26 [2018-07-02T10:11:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26   - sensu-client-latest (0.1.4)\u001b[0m\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   - sensu_check_memory (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:10+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 Converging 32 resources\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.52.139.26     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.52.139.26     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.52.139.26     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 10:11:10.929949000 +0000\u001b[0m\r\n52.52.139.26     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180702-1380-w9a77p.gpg\t2018-07-02 10:11:10.929949000 +0000\u001b[0m\r\n52.52.139.26     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.52.139.26     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.52.139.26     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.52.139.26     \u001b[37m+\u001b[0m\r\n52.52.139.26     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n52.52.139.26     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.52.139.26     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.52.139.26     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.52.139.26     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.52.139.26     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.52.139.26     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.52.139.26     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.52.139.26     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.52.139.26     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.52.139.26     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.52.139.26     \u001b[37m+=hhqa\u001b[0m\r\n52.52.139.26     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.52.139.26 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n52.52.139.26   * execute[add_sensu_gpg] action run\r\n52.52.139.26     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.52.139.26 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.52.139.26     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.52.139.26 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.52.139.26   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.52.139.26   * execute[add_repo] action run\r\n52.52.139.26     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   * execute[repo_update] action run\r\n52.52.139.26     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26 \u001b[0m  * execute[repo_update] action run\r\n52.52.139.26     \u001b[32m- execute apt-get update\u001b[0m\r\n52.52.139.26 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.52.139.26   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.26   * apt_package[Install Sensu client] action install\r\n52.52.139.26     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n52.52.139.26 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n52.52.139.26     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n52.52.139.26     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26     \u001b[37m--- /etc/sensu/config.json\t2018-07-02 10:11:23.785949000 +0000\u001b[0m\r\n52.52.139.26     \u001b[37m+++ /etc/sensu/.chef-config20180702-1380-1ujk7y5.json\t2018-07-02 10:11:23.785949000 +0000\u001b[0m\r\n52.52.139.26     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n52.52.139.26     \u001b[37m+{\u001b[0m\r\n52.52.139.26     \u001b[37m+  \"redis\": {\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n52.52.139.26     \u001b[37m+  },\u001b[0m\r\n52.52.139.26     \u001b[37m+  \"api\": {\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n52.52.139.26     \u001b[37m+  },\u001b[0m\r\n52.52.139.26     \u001b[37m+  \"transport\": {\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n52.52.139.26     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n52.52.139.26     \u001b[37m+  }\u001b[0m\r\n52.52.139.26     \u001b[37m+}\u001b[0m\r\n52.52.139.26     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.52.139.26 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.26   * service[sensu-client] action restart\r\n52.52.139.26     \u001b[0m\r\n52.52.139.26     ================================================================================\u001b[0m\r\n52.52.139.26     \u001b[31mError executing action `restart` on resource 'service[sensu-client]'\u001b[0m\r\n52.52.139.26     ================================================================================\u001b[0m\r\n52.52.139.26     \r\n52.52.139.26 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n52.52.139.26     ------------------------------------\u001b[0m\r\n52.52.139.26     Expected process to exit with [0], but received '3'\r\n52.52.139.26 \u001b[0m    ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.52.139.26 \u001b[0m    STDOUT: * Stopping sensu-client\r\n52.52.139.26 \u001b[0m     * sensu-client is stopped\r\n52.52.139.26 \u001b[0m    STDERR: \r\n52.52.139.26 \u001b[0m    ---- End output of /etc/init.d/sensu-client stop ----\r\n52.52.139.26 \u001b[0m    Ran /etc/init.d/sensu-client stop returned 3\u001b[0m\r\n52.52.139.26     \r\n52.52.139.26 \u001b[0m    Resource Declaration:\u001b[0m\r\n52.52.139.26     ---------------------\u001b[0m\r\n52.52.139.26     # In /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb\r\n52.52.139.26 \u001b[0m    \r\n52.52.139.26 \u001b[0m     57: \tservice 'sensu-client' do\r\n52.52.139.26 \u001b[0m     58: \t\taction :nothing\r\n52.52.139.26 \u001b[0m     59: \tend\r\n52.52.139.26 \u001b[0m     60: end\r\n52.52.139.26 \u001b[0m    \r\n52.52.139.26 \u001b[0m    Compiled Resource:\u001b[0m\r\n52.52.139.26     ------------------\u001b[0m\r\n52.52.139.26     # Declared in /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:57:in `from_file'\r\n52.52.139.26 \u001b[0m    \r\n52.52.139.26 \u001b[0m    service(\"sensu-client\") do\r\n52.52.139.26 \u001b[0m      action [:nothing]\r\n52.52.139.26 \u001b[0m      default_guard_interpreter :default\r\n52.52.139.26 \u001b[0m      service_name \"sensu-client\"\r\n52.52.139.26 \u001b[0m      enabled nil\r\n52.52.139.26 \u001b[0m      running nil\r\n52.52.139.26 \u001b[0m      masked nil\r\n52.52.139.26 \u001b[0m      pattern \"sensu-client\"\r\n52.52.139.26 \u001b[0m      declared_type :service\r\n52.52.139.26 \u001b[0m      cookbook_name \"sensu_check_memory\"\r\n52.52.139.26 \u001b[0m      recipe_name \"default\"\r\n52.52.139.26 \u001b[0m    end\r\n52.52.139.26 \u001b[0m    \r\n52.52.139.26 \u001b[0m    System Info:\u001b[0m\r\n52.52.139.26     ------------\u001b[0m\r\n52.52.139.26     chef_version=14.2.0\r\n52.52.139.26 \u001b[0m    platform=ubuntu\r\n52.52.139.26 \u001b[0m    platform_version=14.04\r\n52.52.139.26 \u001b[0m    ruby=ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux]\r\n52.52.139.26 \u001b[0m    program_name=/usr/bin/chef-client\r\n52.52.139.26 \u001b[0m    executable=/opt/chef/bin/chef-client\u001b[0m\r\n52.52.139.26     \r\n52.52.139.26 \u001b[0m\u001b[0m\r\n52.52.139.26 Running handlers:\u001b[0m\r\n52.52.139.26 [2018-07-02T10:11:23+00:00] ERROR: Running exception handlers\r\n"}
{"level":"debug","message":"52.52.139.26 Running handlers complete\r\n52.52.139.26 \u001b[0m[2018-07-02T10:11:23+00:00] ERROR: Exception handlers complete\r\n52.52.139.26 Chef Client failed. 8 resources updated in 17 seconds\u001b[0m\r\n52.52.139.26 [2018-07-02T10:11:23+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.26 [2018-07-02T10:11:24+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n52.52.139.26 [2018-07-02T10:11:24+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n52.52.139.26 [2018-07-02T10:11:24+00:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: service[sensu-client] (sensu_check_memory::default line 57) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '3'\r\n52.52.139.26 ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.52.139.26 STDOUT: * Stopping sensu-client\r\n52.52.139.26  * sensu-client is stopped\r\n"}
{"level":"debug","message":"52.52.139.26 STDERR: \r\n52.52.139.26 ---- End output of /etc/init.d/sensu-client stop ----\r\n52.52.139.26 Ran /etc/init.d/sensu-client stop returned 3\r\n"}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-0504e3facbd79fbd6\n"}
{"level":"error","message":"Creating new node for i-0504e3facbd79fbd6\n"}
{"level":"error","message":"Connecting to 52.53.214.203\n"}
{"level":"debug","message":"52.53.214.203 -----> Existing Chef installation detected\r\n52.53.214.203 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.53.214.203 Starting Chef Client, version 12.7.2\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu_check_memory (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   - sensu-client-latest (0.1.4)\u001b[0m\r\n52.53.214.203 Compiling Cookbooks...\u001b[0m\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu-client/recipes/default.rb:78:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n"}
{"level":"debug","message":"52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n"}
{"level":"debug","message":"52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n52.53.214.203 [2018-07-02T10:12:29+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:31:in `from_file'\r\n52.53.214.203 Converging 23 resources\u001b[0m\r\n52.53.214.203 Recipe: sensu-client::default\u001b[0m\r\n52.53.214.203   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.53.214.203     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.53.214.203     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 10:12:29.962994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /tmp/chef-rest20180702-2257-1t1ad2h\t2018-07-02 10:12:29.958994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.214.203     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.53.214.203     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n52.53.214.203     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n52.53.214.203     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.53.214.203     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.53.214.203     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.53.214.203     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.53.214.203     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.53.214.203     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.53.214.203     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.53.214.203     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.53.214.203     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.53.214.203     \u001b[37m+=hhqa\u001b[0m\r\n52.53.214.203     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.214.203 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.53.214.203     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.53.214.203 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.53.214.203   * execute[add_repo] action run (skipped due to not_if)\r\n52.53.214.203   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.53.214.203   * apt_package[Install Sensu client] action install (up to date)\r\n"}
{"level":"debug","message":"52.53.214.203   * template[/etc/sensu/config.json] action create\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/config.json from 3afe91 to 680ca2\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/config.json\t2016-02-29 16:52:32.934408000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/.config.json20180702-2257-om9u5g\t2018-07-02 10:12:31.202994000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m@@ -1,9 +1,15 @@\u001b[0m\r\n52.53.214.203     \u001b[37m {\u001b[0m\r\n52.53.214.203     \u001b[37m-  \"rabbitmq\": {\u001b[0m\r\n52.53.214.203     \u001b[37m-    \"host\": \"10.0.1.92\",\u001b[0m\r\n52.53.214.203     \u001b[37m-    \"vhost\": \"/sensu\",\u001b[0m\r\n52.53.214.203     \u001b[37m-    \"user\": \"sensu\",\u001b[0m\r\n52.53.214.203     \u001b[37m-    \"password\": \"secret\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  \"redis\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  },\u001b[0m\r\n52.53.214.203     \u001b[37m+  \"api\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  },\u001b[0m\r\n52.53.214.203     \u001b[37m+  \"transport\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n52.53.214.203     \u001b[37m   }\u001b[0m\r\n52.53.214.203     \u001b[37m }\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '0644' to '0755'\u001b[0m\r\n52.53.214.203 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n52.53.214.203     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to 4952ad\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-02 10:12:31.214994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/conf.d/.client.json20180702-2257-55ue09\t2018-07-02 10:12:31.214994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+{\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"client\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+        \"address\": \"10.0.0.152\",\u001b[0m\r\n52.53.214.203     \u001b[37m+        \"name\": \"10.0.0.152\",\u001b[0m\r\n52.53.214.203     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n52.53.214.203     \u001b[37m+            \"os\",\u001b[0m\r\n52.53.214.203     \u001b[37m+            \"webservers\"\u001b[0m\r\n52.53.214.203     \u001b[37m+        ]\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+}\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   * service[sensu-client] action start\r\n52.53.214.203     \u001b[32m- start service service[sensu-client]\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.53.214.203   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.214.203 Recipe: sensu_check_load::default\u001b[0m\r\n52.53.214.203   * template[check-load.json] action create\r\n52.53.214.203     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-02 10:12:32.674994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/conf.d/.check-load.json20180702-2257-xgnhw1\t2018-07-02 10:12:32.674994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+{\u001b[0m\r\n52.53.214.203     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"check_load\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+  }\u001b[0m\r\n52.53.214.203     \u001b[37m+}\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 \u001b[0m  * template[check-load.rb] action create\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-02 10:12:32.678994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/plugins/.check-load.rb20180702-2257-dbuc68\t2018-07-02 10:12:32.678994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+#   check-load\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# OUTPUT:\u001b[0m\r\n52.53.214.203     \u001b[37m+#   plain text\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# PLATFORMS:\u001b[0m\r\n52.53.214.203     \u001b[37m+#   Linux\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n52.53.214.203     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# USAGE:\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# NOTES:\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# LICENSE:\u001b[0m\r\n52.53.214.203     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n52.53.214.203     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n52.53.214.203     \u001b[37m+#   for details.\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+class LoadAverage\u001b[0m\r\n52.53.214.203     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n52.53.214.203     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n52.53.214.203     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n52.53.214.203     \u001b[37m+  end\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+  def cpu_count\u001b[0m\r\n52.53.214.203     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n52.53.214.203     \u001b[37m+  rescue\u001b[0m\r\n52.53.214.203     \u001b[37m+    0\u001b[0m\r\n52.53.214.203     \u001b[37m+  end\u001b[0m\r\n52.53.214.203     \u001b[37m+ def failed?\u001b[0m\r\n52.53.214.203     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n52.53.214.203     \u001b[37m+  end\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n52.53.214.203     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n52.53.214.203     \u001b[37m+  end\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+  def to_s\u001b[0m\r\n52.53.214.203     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n52.53.214.203     \u001b[37m+  end\u001b[0m\r\n52.53.214.203     \u001b[37m+end\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n52.53.214.203     \u001b[37m+  option :warn,\u001b[0m\r\n52.53.214.203     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n52.53.214.203     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n52.53.214.203     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n52.53.214.203     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.53.214.203     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+  option :crit,\u001b[0m\r\n52.53.214.203     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n52.53.214.203     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n52.53.214.203     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n52.53.214.203     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.53.214.203     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+  option :per_core,\u001b[0m\r\n52.53.214.203     \u001b[37m+         short: '-p',\u001b[0m\r\n52.53.214.203     \u001b[37m+         long: '--per-core',\u001b[0m\r\n52.53.214.203     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n52.53.214.203     \u001b[37m+         boolean: 'true',\u001b[0m\r\n52.53.214.203     \u001b[37m+         default: false\u001b[0m\r\n52.53.214.203     \u001b[37m+           def run\u001b[0m\r\n52.53.214.203     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n52.53.214.203     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n52.53.214.203     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n52.53.214.203     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n52.53.214.203     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n52.53.214.203     \u001b[37m+             ok\u001b[0m\r\n52.53.214.203     \u001b[37m+           end\u001b[0m\r\n52.53.214.203     \u001b[37m+         end\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   * service[sensu-client] action restart\r\n52.53.214.203     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_load::default\u001b[0m\r\n52.53.214.203   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.214.203 Recipe: sensu_check_disk::default\u001b[0m\r\n52.53.214.203   * template[check-disk-usage.json] action create\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-02 10:12:36.070994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/conf.d/.check-disk-usage.json20180702-2257-1w9hccq\t2018-07-02 10:12:36.070994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+{\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n52.53.214.203     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+  }\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 \u001b[0m  * apt_package[ruby-dev] action install\r\n52.53.214.203     \u001b[32m- install version 1:1.9.3.4 of package ruby-dev\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 \u001b[0m  * apt_package[make] action install (up to date)\r\n"}
{"level":"debug","message":"52.53.214.203   * gem_package[sys-filesystem] action install (up to date)\r\n"}
{"level":"debug","message":"52.53.214.203   * template[check-disk-usage.rb] action create\r\n52.53.214.203     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   * service[sensu-client] action restart\r\n52.53.214.203     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_disk::default\u001b[0m\r\n52.53.214.203   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.214.203 Recipe: sensu_check_cpu::default\u001b[0m\r\n52.53.214.203   * template[check-cpu.json] action create\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-02 10:12:49.246994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/conf.d/.check-cpu.json20180702-2257-15plpvp\t2018-07-02 10:12:49.246994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+{\u001b[0m\r\n52.53.214.203     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+  }\u001b[0m\r\n52.53.214.203     \u001b[37m+}\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.214.203 \u001b[0m  * template[check-cpu.rb] action create\r\n52.53.214.203     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203   * service[sensu-client] action restart\r\n52.53.214.203     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.214.203 \u001b[0mRecipe: sensu_check_cpu::default\u001b[0m\r\n52.53.214.203   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.214.203 Recipe: sensu_check_memory::default\u001b[0m\r\n52.53.214.203   * template[check-memory-usage.json] action create\r\n52.53.214.203     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-02 10:12:52.610994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/conf.d/.check-memory-usage.json20180702-2257-1l1vdai\t2018-07-02 10:12:52.610994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+{\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.214.203     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.214.203     \u001b[37m+    }\u001b[0m\r\n52.53.214.203     \u001b[37m+  }\u001b[0m\r\n52.53.214.203     \u001b[37m+}\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.214.203 \u001b[0m  * template[check-memory-usage.sh] action create\r\n52.53.214.203     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n52.53.214.203     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n52.53.214.203     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-02 10:12:52.622994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m+++ /etc/sensu/plugins/.check-memory-usage.sh20180702-2257-1u2mtdr\t2018-07-02 10:12:52.614994000 +0000\u001b[0m\r\n52.53.214.203     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n52.53.214.203     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n52.53.214.203     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n52.53.214.203     \u001b[37m+#\u001b[0m\r\n52.53.214.203     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n52.53.214.203     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n52.53.214.203     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n52.53.214.203     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n52.53.214.203     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n52.53.214.203     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n52.53.214.203     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n52.53.214.203     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n52.53.214.203     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+# get arguments\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+# #RED\u001b[0m\r\n52.53.214.203     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n52.53.214.203     \u001b[37m+  case $OPT in\u001b[0m\r\n52.53.214.203     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n52.53.214.203     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n52.53.214.203     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n52.53.214.203     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n52.53.214.203     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n52.53.214.203     \u001b[37m+  esac\u001b[0m\r\n52.53.214.203     \u001b[37m+done\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+# usage\u001b[0m\r\n52.53.214.203     \u001b[37m+HELP=\"\u001b[0m\r\n52.53.214.203     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n52.53.214.203     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n52.53.214.203     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n52.53.214.203     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n52.53.214.203     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n52.53.214.203     \u001b[37m+\"\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n52.53.214.203     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  exit 0\u001b[0m\r\n52.53.214.203     \u001b[37m+fi\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n52.53.214.203     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n52.53.214.203     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n52.53.214.203     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n52.53.214.203     \u001b[37m+set -o pipefail\u001b[0m\r\n52.53.214.203     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n52.53.214.203     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n52.53.214.203     \u001b[37m+  then\u001b[0m\r\n52.53.214.203     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n52.53.214.203     \u001b[37m+fi\u001b[0m\r\n52.53.214.203     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n52.53.214.203     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n52.53.214.203     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n52.53.214.203     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n52.53.214.203     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  exit 3\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203     \u001b[37m+fi\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n52.53.214.203     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n52.53.214.203     \u001b[37m+else\u001b[0m\r\n52.53.214.203     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n52.53.214.203     \u001b[37m+fi\u001b[0m\r\n52.53.214.203     \u001b[37m+\u001b[0m\r\n52.53.214.203     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n52.53.214.203     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  exit 2\u001b[0m\r\n52.53.214.203     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n52.53.214.203     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  exit 1\u001b[0m\r\n52.53.214.203     \u001b[37m+else\u001b[0m\r\n52.53.214.203     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n52.53.214.203     \u001b[37m+  exit 0\u001b[0m\r\n52.53.214.203     \u001b[37m+fi\u001b[0m\r\n52.53.214.203     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 \u001b[0m  * service[sensu-client] action restart\r\n52.53.214.203     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.214.203 \u001b[0m  * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.53.214.203 \u001b[0m\r\n"}
{"level":"debug","message":"52.53.214.203 Running handlers:\u001b[0m\r\n52.53.214.203 Running handlers complete\r\n52.53.214.203 \u001b[0mChef Client finished, 18/29 resources updated in 32 seconds\u001b[0m\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july023.rlcatalyst.com"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"error","message":"Creating new client for i-012bbd8b040d9b471\n"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-0a8c12112e518bb35\n"}
{"level":"error","message":"Creating new node for i-012bbd8b040d9b471\n"}
{"level":"error","message":"Creating new node for i-0a8c12112e518bb35\n"}
{"level":"error","message":"Connecting to 52.9.55.107\n"}
{"level":"error","message":"Connecting to 52.53.236.66\n"}
{"level":"debug","message":"52.9.55.107 -----> Installing Chef Omnibus (-v 14)\r\n52.9.55.107 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n"}
{"level":"debug","message":"52.9.55.107   to file /tmp/install.sh.1480/install.sh\r\n52.9.55.107 trying wget...\r\n"}
{"level":"debug","message":"52.9.55.107 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"52.9.55.107 Getting information for chef stable 14 for ubuntu...\r\n52.9.55.107 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n52.9.55.107   to file /tmp/install.sh.1484/metadata.txt\r\n52.9.55.107 trying wget...\r\n"}
{"level":"debug","message":"52.9.55.107 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"52.9.55.107 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n52.9.55.107 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.9.55.107 version\t14.2.0\r\n"}
{"level":"debug","message":"52.9.55.107 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"52.9.55.107 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.9.55.107   to file /tmp/install.sh.1484/chef_14.2.0-1_amd64.deb\r\n52.9.55.107 trying wget...\r\n"}
{"level":"debug","message":"52.9.55.107 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"52.9.55.107 Installing chef 14\r\n"}
{"level":"debug","message":"52.9.55.107 installing with dpkg...\r\n"}
{"level":"debug","message":"52.9.55.107 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"52.9.55.107 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"52.9.55.107 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n"}
{"level":"debug","message":"52.9.55.107 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.53.236.66 -----> Existing Chef installation detected\r\n"}
{"level":"debug","message":"52.53.236.66 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.9.55.107 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.9.55.107 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"52.9.55.107 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.9.55.107 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:54+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:55+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:55+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:55+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107   - sensu_check_load (0.1.0)\u001b[0m\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:56+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107   - sensu-client-latest (0.1.4)\u001b[0m\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107   - sensu_check_disk (0.1.2)\u001b[0m\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107   - sensu_check_memory (0.1.2)\u001b[0m\r\n52.9.55.107 Installing Cookbook Gems:\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:15:57+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 Converging 32 resources\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.9.55.107     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.9.55.107     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.9.55.107     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 11:15:57.535910000 +0000\u001b[0m\r\n52.9.55.107     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180702-1567-1r7gegg.gpg\t2018-07-02 11:15:57.535910000 +0000\u001b[0m\r\n52.9.55.107     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.9.55.107     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.9.55.107     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.9.55.107     \u001b[37m+\u001b[0m\r\n52.9.55.107     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.9.55.107     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.9.55.107     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.9.55.107     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.9.55.107     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.9.55.107     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.9.55.107     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.9.55.107     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.9.55.107     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.9.55.107     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.9.55.107     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.9.55.107     \u001b[37m+=hhqa\u001b[0m\r\n52.9.55.107     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.9.55.107 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n52.9.55.107   * execute[add_sensu_gpg] action run\r\n52.9.55.107     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.9.55.107     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.9.55.107 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.9.55.107   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.9.55.107   * execute[add_repo] action run\r\n52.9.55.107     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n52.9.55.107 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66 Starting Chef Client, version 12.7.2\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu-client (2.0.1)\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107   * execute[repo_update] action run\r\n"}
{"level":"debug","message":"52.9.55.107     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu-client-latest (0.1.4)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   - sensu_check_memory (0.1.2)\u001b[0m\r\n52.53.236.66 Compiling Cookbooks...\u001b[0m\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu-client/recipes/default.rb:78:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n"}
{"level":"debug","message":"52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_load/recipes/default.rb:31:in `from_file'\r\n"}
{"level":"debug","message":"52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_disk/recipes/default.rb:41:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Cloning resource attributes for service[sensu-client] from prior resource (CHEF-3694)\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Previous service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_cpu/recipes/default.rb:31:in `from_file'\r\n52.53.236.66 [2018-07-02T11:16:04+00:00] WARN: Current  service[sensu-client]: /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:31:in `from_file'\r\n52.53.236.66 Converging 23 resources\u001b[0m\r\n52.53.236.66 Recipe: sensu-client::default\u001b[0m\r\n52.53.236.66   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.53.236.66     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.53.236.66     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-02 11:16:04.738587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /tmp/chef-rest20180702-3191-olyklb\t2018-07-02 11:16:04.738587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.236.66     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.53.236.66     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n52.53.236.66     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n52.53.236.66     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.53.236.66     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.53.236.66     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.53.236.66     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.53.236.66     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.53.236.66     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.53.236.66     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.53.236.66     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.53.236.66     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.53.236.66     \u001b[37m+=hhqa\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.236.66 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.53.236.66     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.53.236.66 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.53.236.66   * execute[add_repo] action run (skipped due to not_if)\r\n52.53.236.66   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n52.53.236.66   * apt_package[Install Sensu client] action install (up to date)\r\n52.53.236.66   * template[/etc/sensu/config.json] action create\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/config.json from 3afe91 to 680ca2\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/config.json\t2016-02-29 16:52:32.934408000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/.config.json20180702-3191-1wreh0i\t2018-07-02 11:16:04.838587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1,9 +1,15 @@\u001b[0m\r\n52.53.236.66     \u001b[37m {\u001b[0m\r\n52.53.236.66     \u001b[37m-  \"rabbitmq\": {\u001b[0m\r\n52.53.236.66     \u001b[37m-    \"host\": \"10.0.1.92\",\u001b[0m\r\n52.53.236.66     \u001b[37m-    \"vhost\": \"/sensu\",\u001b[0m\r\n52.53.236.66     \u001b[37m-    \"user\": \"sensu\",\u001b[0m\r\n52.53.236.66     \u001b[37m-    \"password\": \"secret\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"redis\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  },\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"api\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  },\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"transport\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n52.53.236.66     \u001b[37m   }\u001b[0m\r\n52.53.236.66     \u001b[37m }\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '0644' to '0755'\u001b[0m\r\n52.53.236.66 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to b20b20\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-02 11:16:04.846587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/conf.d/.client.json20180702-3191-1egaue3\t2018-07-02 11:16:04.846587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+{\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"client\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+        \"address\": \"10.0.0.157\",\u001b[0m\r\n52.53.236.66     \u001b[37m+        \"name\": \"10.0.0.157\",\u001b[0m\r\n52.53.236.66     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n52.53.236.66     \u001b[37m+            \"os\",\u001b[0m\r\n52.53.236.66     \u001b[37m+            \"webservers\"\u001b[0m\r\n52.53.236.66     \u001b[37m+        ]\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n52.53.236.66     \u001b[37m+}\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   * service[sensu-client] action start\r\n52.53.236.66     \u001b[32m- start service service[sensu-client]\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.53.236.66   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.236.66 Recipe: sensu_check_load::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   * template[check-load.json] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-02 11:16:06.406587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/conf.d/.check-load.json20180702-3191-1d6rn99\t2018-07-02 11:16:06.406587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+{\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"check_load\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+  }\u001b[0m\r\n52.53.236.66     \u001b[37m+}\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0m  * template[check-load.rb] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-02 11:16:06.410587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/plugins/.check-load.rb20180702-3191-1iqbs6r\t2018-07-02 11:16:06.410587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+#   check-load\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# OUTPUT:\u001b[0m\r\n52.53.236.66     \u001b[37m+#   plain text\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# PLATFORMS:\u001b[0m\r\n52.53.236.66     \u001b[37m+#   Linux\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n52.53.236.66     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# USAGE:\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+# NOTES:\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# LICENSE:\u001b[0m\r\n52.53.236.66     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n52.53.236.66     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n52.53.236.66     \u001b[37m+#   for details.\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+class LoadAverage\u001b[0m\r\n52.53.236.66     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n52.53.236.66     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n52.53.236.66     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n52.53.236.66     \u001b[37m+  end\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+  def cpu_count\u001b[0m\r\n52.53.236.66     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n52.53.236.66     \u001b[37m+  rescue\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+    0\u001b[0m\r\n52.53.236.66     \u001b[37m+  end\u001b[0m\r\n52.53.236.66     \u001b[37m+ def failed?\u001b[0m\r\n52.53.236.66     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n52.53.236.66     \u001b[37m+  end\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n52.53.236.66     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n52.53.236.66     \u001b[37m+  end\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+  def to_s\u001b[0m\r\n52.53.236.66     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n52.53.236.66     \u001b[37m+  end\u001b[0m\r\n52.53.236.66     \u001b[37m+end\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n52.53.236.66     \u001b[37m+  option :warn,\u001b[0m\r\n52.53.236.66     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n52.53.236.66     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n52.53.236.66     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n52.53.236.66     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.53.236.66     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+  option :crit,\u001b[0m\r\n52.53.236.66     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n52.53.236.66     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n52.53.236.66     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.53.236.66     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+  option :per_core,\u001b[0m\r\n52.53.236.66     \u001b[37m+         short: '-p',\u001b[0m\r\n52.53.236.66     \u001b[37m+         long: '--per-core',\u001b[0m\r\n52.53.236.66     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n52.53.236.66     \u001b[37m+         boolean: 'true',\u001b[0m\r\n52.53.236.66     \u001b[37m+         default: false\u001b[0m\r\n52.53.236.66     \u001b[37m+           def run\u001b[0m\r\n52.53.236.66     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n52.53.236.66     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n52.53.236.66     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n52.53.236.66     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n52.53.236.66     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n52.53.236.66     \u001b[37m+             ok\u001b[0m\r\n52.53.236.66     \u001b[37m+           end\u001b[0m\r\n52.53.236.66     \u001b[37m+         end\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107 \u001b[0m  * execute[repo_update] action run\r\n52.9.55.107     \u001b[32m- execute apt-get update\u001b[0m\r\n52.9.55.107 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.9.55.107   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.53.236.66   * service[sensu-client] action restart\r\n52.53.236.66     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_load::default\u001b[0m\r\n52.53.236.66   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.236.66 Recipe: sensu_check_disk::default\u001b[0m\r\n52.53.236.66   * template[check-disk-usage.json] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-02 11:16:09.822587000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107   * apt_package[Install Sensu client] action install\r\n52.9.55.107     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n52.9.55.107 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n52.9.55.107     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n52.9.55.107     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n52.9.55.107     \u001b[37m--- /etc/sensu/config.json\t2018-07-02 11:16:11.603910000 +0000\u001b[0m\r\n52.9.55.107     \u001b[37m+++ /etc/sensu/.chef-config20180702-1567-10xg901.json\t2018-07-02 11:16:11.603910000 +0000\u001b[0m\r\n52.9.55.107     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n52.9.55.107     \u001b[37m+{\u001b[0m\r\n52.9.55.107     \u001b[37m+  \"redis\": {\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n52.9.55.107     \u001b[37m+  },\u001b[0m\r\n52.9.55.107     \u001b[37m+  \"api\": {\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n52.9.55.107     \u001b[37m+  },\u001b[0m\r\n52.9.55.107     \u001b[37m+  \"transport\": {\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n52.9.55.107     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n52.9.55.107     \u001b[37m+  }\u001b[0m\r\n52.9.55.107     \u001b[37m+}\u001b[0m\r\n52.9.55.107     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.9.55.107 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107   * service[sensu-client] action restart\r\n52.9.55.107     \u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107     ================================================================================\u001b[0m\r\n"}
{"level":"debug","message":"52.9.55.107     \u001b[31mError executing action `restart` on resource 'service[sensu-client]'\u001b[0m\r\n52.9.55.107     ================================================================================\u001b[0m\r\n52.9.55.107     \r\n52.9.55.107 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n52.9.55.107     ------------------------------------\u001b[0m\r\n52.9.55.107     Expected process to exit with [0], but received '3'\r\n52.9.55.107 \u001b[0m    ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.9.55.107 \u001b[0m    STDOUT: * Stopping sensu-client\r\n52.9.55.107 \u001b[0m     * sensu-client is stopped\r\n52.9.55.107 \u001b[0m    STDERR: \r\n52.9.55.107 \u001b[0m    ---- End output of /etc/init.d/sensu-client stop ----\r\n"}
{"level":"debug","message":"52.9.55.107 \u001b[0m    Ran /etc/init.d/sensu-client stop returned 3\u001b[0m\r\n52.9.55.107     \r\n52.9.55.107 \u001b[0m    Resource Declaration:\u001b[0m\r\n52.9.55.107     ---------------------\u001b[0m\r\n52.9.55.107     # In /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb\r\n52.9.55.107 \u001b[0m    \r\n52.9.55.107 \u001b[0m     57: \tservice 'sensu-client' do\r\n52.9.55.107 \u001b[0m     58: \t\taction :nothing\r\n52.9.55.107 \u001b[0m     59: \tend\r\n52.9.55.107 \u001b[0m     60: end\r\n52.9.55.107 \u001b[0m    \r\n52.9.55.107 \u001b[0m    Compiled Resource:\u001b[0m\r\n52.9.55.107     ------------------\u001b[0m\r\n52.9.55.107     # Declared in /var/chef/cache/cookbooks/sensu_check_memory/recipes/default.rb:57:in `from_file'\r\n52.9.55.107 \u001b[0m    \r\n52.9.55.107 \u001b[0m    service(\"sensu-client\") do\r\n52.9.55.107 \u001b[0m      action [:nothing]\r\n52.9.55.107 \u001b[0m      default_guard_interpreter :default\r\n52.9.55.107 \u001b[0m      service_name \"sensu-client\"\r\n52.9.55.107 \u001b[0m      enabled nil\r\n52.9.55.107 \u001b[0m      running nil\r\n52.9.55.107 \u001b[0m      masked nil\r\n52.9.55.107 \u001b[0m      pattern \"sensu-client\"\r\n52.9.55.107 \u001b[0m      declared_type :service\r\n52.9.55.107 \u001b[0m      cookbook_name \"sensu_check_memory\"\r\n52.9.55.107 \u001b[0m      recipe_name \"default\"\r\n52.9.55.107 \u001b[0m    end\r\n"}
{"level":"debug","message":"52.9.55.107 \u001b[0m    \r\n52.9.55.107 \u001b[0m    System Info:\u001b[0m\r\n52.9.55.107     ------------\u001b[0m\r\n52.9.55.107     chef_version=14.2.0\r\n52.9.55.107 \u001b[0m    platform=ubuntu\r\n52.9.55.107 \u001b[0m    platform_version=14.04\r\n52.9.55.107 \u001b[0m    ruby=ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux]\r\n52.9.55.107 \u001b[0m    program_name=/usr/bin/chef-client\r\n52.9.55.107 \u001b[0m    executable=/opt/chef/bin/chef-client\u001b[0m\r\n52.9.55.107     \r\n52.9.55.107 \u001b[0m\u001b[0m\r\n52.9.55.107 Running handlers:\u001b[0m\r\n52.9.55.107 [2018-07-02T11:16:11+00:00] ERROR: Running exception handlers\r\n52.9.55.107 Running handlers complete\r\n52.9.55.107 \u001b[0m[2018-07-02T11:16:11+00:00] ERROR: Exception handlers complete\r\n52.9.55.107 Chef Client failed. 8 resources updated in 17 seconds\u001b[0m\r\n52.9.55.107 [2018-07-02T11:16:11+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.9.55.107 [2018-07-02T11:16:11+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n52.9.55.107 [2018-07-02T11:16:11+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n52.9.55.107 [2018-07-02T11:16:11+00:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: service[sensu-client] (sensu_check_memory::default line 57) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '3'\r\n52.9.55.107 ---- Begin output of /etc/init.d/sensu-client stop ----\r\n52.9.55.107 STDOUT: * Stopping sensu-client\r\n"}
{"level":"debug","message":"52.9.55.107  * sensu-client is stopped\r\n52.9.55.107 STDERR: \r\n52.9.55.107 ---- End output of /etc/init.d/sensu-client stop ----\r\n52.9.55.107 Ran /etc/init.d/sensu-client stop returned 3\r\n"}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"52.53.236.66 \u001b[0m  * apt_package[ruby-dev] action install\r\n52.53.236.66     \u001b[32m- install version 1:1.9.3.4 of package ruby-dev\u001b[0m\r\n52.53.236.66 \u001b[0m  * apt_package[make] action install (up to date)\r\n52.53.236.66   * gem_package[sys-filesystem] action install (up to date)\r\n52.53.236.66   * template[check-disk-usage.rb] action create\r\n52.53.236.66     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   * service[sensu-client] action restart\r\n52.53.236.66     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_disk::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.236.66 Recipe: sensu_check_cpu::default\u001b[0m\r\n52.53.236.66   * template[check-cpu.json] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-02 11:16:22.594587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/conf.d/.check-cpu.json20180702-3191-c7vmhn\t2018-07-02 11:16:22.594587000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+{\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n52.53.236.66     \u001b[37m+  }\u001b[0m\r\n52.53.236.66     \u001b[37m+}\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0m  * template[check-cpu.rb] action create\r\n52.53.236.66     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66   * service[sensu-client] action restart\r\n52.53.236.66     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.236.66 \u001b[0mRecipe: sensu_check_cpu::default\u001b[0m\r\n52.53.236.66   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.53.236.66 Recipe: sensu_check_memory::default\u001b[0m\r\n52.53.236.66   * template[check-memory-usage.json] action create\r\n52.53.236.66     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-02 11:16:25.982587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m+++ /etc/sensu/conf.d/.check-memory-usage.json20180702-3191-rhb3n1\t2018-07-02 11:16:25.982587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+{\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n52.53.236.66     \u001b[37m+  }\u001b[0m\r\n52.53.236.66     \u001b[37m+}\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.53.236.66 \u001b[0m  * template[check-memory-usage.sh] action create\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n52.53.236.66     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n52.53.236.66     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-02 11:16:25.986587000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+++ /etc/sensu/plugins/.check-memory-usage.sh20180702-3191-1iaq4d9\t2018-07-02 11:16:25.986587000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n52.53.236.66     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n52.53.236.66     \u001b[37m+#\u001b[0m\r\n52.53.236.66     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n52.53.236.66     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n52.53.236.66     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n52.53.236.66     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n52.53.236.66     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n52.53.236.66     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n52.53.236.66     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n52.53.236.66     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n52.53.236.66     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n52.53.236.66     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+# get arguments\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+# #RED\u001b[0m\r\n52.53.236.66     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n52.53.236.66     \u001b[37m+  case $OPT in\u001b[0m\r\n52.53.236.66     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n52.53.236.66     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n52.53.236.66     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n52.53.236.66     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n52.53.236.66     \u001b[37m+  esac\u001b[0m\r\n52.53.236.66     \u001b[37m+done\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+# usage\u001b[0m\r\n52.53.236.66     \u001b[37m+HELP=\"\u001b[0m\r\n52.53.236.66     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n52.53.236.66     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n52.53.236.66     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n52.53.236.66     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n52.53.236.66     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n52.53.236.66     \u001b[37m+\"\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n52.53.236.66     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  exit 0\u001b[0m\r\n52.53.236.66     \u001b[37m+fi\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n52.53.236.66     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n52.53.236.66     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n52.53.236.66     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n52.53.236.66     \u001b[37m+set -o pipefail\u001b[0m\r\n52.53.236.66     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n52.53.236.66     \u001b[37m+  then\u001b[0m\r\n52.53.236.66     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n52.53.236.66     \u001b[37m+fi\u001b[0m\r\n52.53.236.66     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n52.53.236.66     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n52.53.236.66     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n52.53.236.66     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n52.53.236.66     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  exit 3\u001b[0m\r\n52.53.236.66     \u001b[37m+fi\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n52.53.236.66     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n52.53.236.66     \u001b[37m+else\u001b[0m\r\n52.53.236.66     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n52.53.236.66     \u001b[37m+fi\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n52.53.236.66     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  exit 2\u001b[0m\r\n52.53.236.66     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n52.53.236.66     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  exit 1\u001b[0m\r\n52.53.236.66     \u001b[37m+else\u001b[0m\r\n52.53.236.66     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n52.53.236.66     \u001b[37m+  exit 0\u001b[0m\r\n52.53.236.66     \u001b[37m+fi\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.53.236.66 \u001b[0m  * service[sensu-client] action restart\r\n52.53.236.66     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.53.236.66 \u001b[0m  * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.53.236.66 \u001b[0m\r\n52.53.236.66 Running handlers:\u001b[0m\r\n52.53.236.66 Running handlers complete\r\n52.53.236.66 \u001b[0mChef Client finished, 18/29 resources updated in 30 seconds\u001b[0m\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july024.rlcatalyst.com"}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":342278752,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":342538320,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":342793792,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"52.52.139.26 Installing Cookbook Gems:\u001b[0m\r\n"}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":343559928,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451039232,"heapTotal":385941504,"heapUsed":344083696,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"level":"debug","message":"52.53.236.66     \u001b[37m+++ /etc/sensu/conf.d/.check-disk-usage.json20180702-3191-1gfbyco\t2018-07-02 11:16:09.822587000 +0000\u001b[0m\r\n52.53.236.66     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n52.53.236.66     \u001b[37m+{\u001b[0m\r\n52.53.236.66     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n52.53.236.66     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n52.53.236.66     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n52.53.236.66     \u001b[37m+\u001b[0m\r\n52.53.236.66     \u001b[37m+    }\u001b[0m\r\n52.53.236.66     \u001b[37m+  }\u001b[0m\r\n52.53.236.66     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451039232,"heapTotal":385941504,"heapUsed":345063112,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451039232,"heapTotal":385941504,"heapUsed":344807320,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":345325384,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"level":"debug","message":"52.52.139.26 Compiling Cookbooks...\u001b[0m\r\n"}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":343304560,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":345818944,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451022848,"heapTotal":385941504,"heapUsed":343049248,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":345572200,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":346065688,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":346559216,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451039232,"heapTotal":385941504,"heapUsed":343828664,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":571,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":498,"method":null,"native":false},{"column":4,"file":"/rlc/server/app/model/unmanaged-instance/unmanaged-instance.js","function":null,"line":216,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:571:17","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:498:29","    at /rlc/server/app/model/unmanaged-instance/unmanaged-instance.js:216:4","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"date":"Mon Jul 02 2018 13:00:20 GMT+0000 (UTC)","process":{"pid":5,"uid":0,"gid":0,"cwd":"/rlc/server/app","execPath":"/usr/local/bin/node","version":"v6.10.2","argv":["/usr/local/bin/node","/rlc/server/app/app.js"],"memoryUsage":{"rss":451051520,"heapTotal":385941504,"heapUsed":346312432,"external":66082271}},"os":{"loadavg":[1.19189453125,0.41552734375,0.3095703125],"uptime":31453},"trace":[{"column":36,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":43,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":21,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":569,"method":null,"native":false},{"column":13,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":726,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":52,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":"done","line":241,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":44,"method":null,"native":false},{"column":17,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":723,"method":null,"native":false},{"column":37,"file":"/rlc/server/node_modules/async/lib/async.js","function":null,"line":167,"method":null,"native":false},{"column":29,"file":"/rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js","function":null,"line":405,"method":null,"native":false},{"column":17,"file":"/rlc/server/app/model/classes/instance/instance.js","function":null,"line":510,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/mongoose/lib/model.js","function":null,"line":3731,"method":null,"native":false},{"column":48,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":220,"method":null,"native":false},{"column":16,"file":"/rlc/server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":73,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickDomainCallback","line":128,"method":"_tickDomainCallback","native":false}],"stack":["Error: Callback was already called.","    at /rlc/server/node_modules/async/lib/async.js:43:36","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:569:21","    at /rlc/server/node_modules/async/lib/async.js:726:13","    at /rlc/server/node_modules/async/lib/async.js:52:16","    at done (/rlc/server/node_modules/async/lib/async.js:241:17)","    at /rlc/server/node_modules/async/lib/async.js:44:16","    at /rlc/server/node_modules/async/lib/async.js:723:17","    at /rlc/server/node_modules/async/lib/async.js:167:37","    at /rlc/server/app/cronjobs/provider-sync/AWSProviderSync.js:405:29","    at /rlc/server/app/model/classes/instance/instance.js:510:17","    at /rlc/server/node_modules/mongoose/lib/model.js:3731:16","    at /rlc/server/node_modules/kareem/index.js:220:48","    at /rlc/server/node_modules/kareem/index.js:131:16","    at _combinedTickCallback (internal/process/next_tick.js:73:7)","    at process._tickDomainCallback (internal/process/next_tick.js:128:9)"],"level":"error","message":"uncaughtException: Callback was already called."}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-0f9728295ccf4d82b\n"}
{"level":"error","message":"Creating new client for i-0cd558fe49aad6744\n"}
{"level":"error","message":"Creating new node for i-0f9728295ccf4d82b\n"}
{"level":"error","message":"Creating new node for i-0cd558fe49aad6744\n"}
{"level":"error","message":"Connecting to 52.53.213.63\n"}
{"level":"error","message":"Connecting to 52.52.139.247\n"}
{"level":"debug","message":"52.52.139.247 -----> Installing Chef Omnibus (-v 14)\r\n"}
{"level":"debug","message":"52.52.139.247 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n52.52.139.247   to file /tmp/install.sh.1480/install.sh\r\n52.52.139.247 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.247 ubuntu 14.04 x86_64\r\n52.52.139.247 Getting information for chef stable 14 for ubuntu...\r\n52.52.139.247 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n52.52.139.247   to file /tmp/install.sh.1484/metadata.txt\r\n52.52.139.247 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.247 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n52.52.139.247 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n52.52.139.247 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n"}
{"level":"debug","message":"52.52.139.247 version\t14.2.0\r\n52.52.139.247 downloaded metadata file looks valid...\r\n52.52.139.247 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n52.52.139.247   to file /tmp/install.sh.1484/chef_14.2.0-1_amd64.deb\r\n52.52.139.247 trying wget...\r\n"}
{"level":"debug","message":"52.52.139.247 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"52.53.213.63 -----> Existing Chef installation detected\r\n"}
{"level":"debug","message":"52.53.213.63 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.52.139.247 Installing chef 14\r\n52.52.139.247 installing with dpkg...\r\n"}
{"level":"debug","message":"52.52.139.247 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"52.52.139.247 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"52.52.139.247 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n"}
{"level":"debug","message":"52.52.139.247 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.52.139.247 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"52.52.139.247 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"52.52.139.247 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"52.53.213.63 Starting Chef Client, version 12.7.2\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:07+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:07+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:07+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.53.213.63 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:08+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247   - sensu-client (2.0.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247   - sensu_check_load (0.1.0)\u001b[0m\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247   - sensu-client-latest (0.1.4)\u001b[0m\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247   - sensu_check_disk (0.1.2)\u001b[0m\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   - sensu_check_memory (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 Installing Cookbook Gems:\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T03:59:09+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu-client (2.0.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 Converging 33 resources\u001b[0m\r\n52.52.139.247 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n52.52.139.247     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 03:59:09.904477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180703-1567-r6g7dr.gpg\t2018-07-03 03:59:09.904477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.52.139.247     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n52.52.139.247     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.52.139.247     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.52.139.247     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.52.139.247     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.52.139.247     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.52.139.247     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.52.139.247     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.52.139.247     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.52.139.247     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.52.139.247     \u001b[37m+=hhqa\u001b[0m\r\n52.52.139.247     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n52.52.139.247   * execute[add_sensu_gpg] action run\r\n52.52.139.247     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.52.139.247 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.52.139.247     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.52.139.247   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.52.139.247   * execute[add_repo] action run\r\n52.52.139.247     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu-client-latest (0.1.4)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu_check_disk (0.1.2)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu_check_load (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   - sensu_check_memory (0.1.2)\u001b[0m\r\n52.53.213.63 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63 Converging 24 resources\u001b[0m\r\n52.53.213.63 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n52.53.213.63     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n52.53.213.63     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 03:59:10.386853000 +0000\u001b[0m\r\n52.53.213.63     \u001b[37m+++ /tmp/chef-rest20180703-3468-1m3tbf6\t2018-07-03 03:59:10.386853000 +0000\u001b[0m\r\n52.53.213.63     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n52.53.213.63     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.213.63     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n52.53.213.63     \u001b[37m+\u001b[0m\r\n52.53.213.63     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n52.53.213.63     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n52.53.213.63     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n52.53.213.63     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n52.53.213.63     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n52.53.213.63     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n52.53.213.63     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n52.53.213.63     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n52.53.213.63     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n52.53.213.63     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n52.53.213.63     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n52.53.213.63     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n52.53.213.63     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n52.53.213.63     \u001b[37m+=hhqa\u001b[0m\r\n52.53.213.63     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n52.53.213.63 \u001b[0m  * execute[add_sensu_gpg] action run\r\n52.53.213.63     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n52.53.213.63 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.53.213.63   * execute[add_repo] action run (skipped due to not_if)\r\n52.53.213.63   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n52.53.213.63   * apt_package[Install Sensu client] action install (up to date)\r\n"}
{"level":"debug","message":"52.53.213.63   * execute[starting sensu service] action run\r\n52.53.213.63     \u001b[0m\r\n52.53.213.63     ================================================================================\u001b[0m\r\n52.53.213.63     \u001b[31mError executing action `run` on resource 'execute[starting sensu service]'\u001b[0m\r\n52.53.213.63     ================================================================================\u001b[0m\r\n52.53.213.63     \r\n52.53.213.63 \u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m\r\n52.53.213.63     ------------------------------------\u001b[0m\r\n52.53.213.63     Expected process to exit with [0], but received '1'\r\n52.53.213.63 \u001b[0m    ---- Begin output of sudo /etc/init.d/sensu-client start ----\r\n52.53.213.63 \u001b[0m    STDOUT: * Starting sensu-client\r\n52.53.213.63 \u001b[0m       ...fail!\r\n52.53.213.63 \u001b[0m    STDERR: \r\n52.53.213.63 \u001b[0m    ---- End output of sudo /etc/init.d/sensu-client start ----\r\n52.53.213.63 \u001b[0m    Ran sudo /etc/init.d/sensu-client start returned 1\u001b[0m\r\n52.53.213.63     \r\n52.53.213.63 \u001b[0m    Resource Declaration:\u001b[0m\r\n52.53.213.63     ---------------------\u001b[0m\r\n52.53.213.63     # In /var/chef/cache/cookbooks/sensu-client/recipes/default.rb\r\n52.53.213.63 \u001b[0m    \r\n52.53.213.63 \u001b[0m     59: execute \"starting sensu service\" do\r\r\n52.53.213.63 \u001b[0m     60: command \"sudo /etc/init.d/sensu-client start\"\r\r\n52.53.213.63 \u001b[0m     61: end\r\r\n52.53.213.63 \u001b[0m     62: \r\r\n52.53.213.63 \u001b[0m    \r\n52.53.213.63 \u001b[0m    Compiled Resource:\u001b[0m\r\n52.53.213.63     ------------------\u001b[0m\r\n52.53.213.63     # Declared in /var/chef/cache/cookbooks/sensu-client/recipes/default.rb:59:in `from_file'\r\n52.53.213.63 \u001b[0m    \r\n52.53.213.63 \u001b[0m    execute(\"starting sensu service\") do\r\n52.53.213.63 \u001b[0m      action [:run]\r\n52.53.213.63 \u001b[0m      retries 0\r\n52.53.213.63 \u001b[0m      retry_delay 2\r\n52.53.213.63 \u001b[0m      default_guard_interpreter :execute\r\n52.53.213.63 \u001b[0m      command \"sudo /etc/init.d/sensu-client start\"\r\n52.53.213.63 \u001b[0m      backup 5\r\n52.53.213.63 \u001b[0m      returns 0\r\n52.53.213.63 \u001b[0m      declared_type :execute\r\n52.53.213.63 \u001b[0m      cookbook_name \"sensu-client\"\r\n52.53.213.63 \u001b[0m      recipe_name \"default\"\r\n52.53.213.63 \u001b[0m    end\r\n52.53.213.63 \u001b[0m    \r\n52.53.213.63 \u001b[0m\u001b[0m\r\n52.53.213.63 Running handlers:\u001b[0m\r\n52.53.213.63 [2018-07-03T03:59:11+00:00] ERROR: Running exception handlers\r\n52.53.213.63 Running handlers complete\r\n52.53.213.63 \u001b[0m[2018-07-03T03:59:11+00:00] ERROR: Exception handlers complete\r\n52.53.213.63 Chef Client failed. 2 resources updated in 06 seconds\u001b[0m\r\n"}
{"level":"debug","message":"52.53.213.63 [2018-07-03T03:59:12+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\r\n52.53.213.63 [2018-07-03T03:59:12+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report\r\n52.53.213.63 [2018-07-03T03:59:12+00:00] ERROR: execute[starting sensu service] (sensu-client::default line 59) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'\r\n52.53.213.63 ---- Begin output of sudo /etc/init.d/sensu-client start ----\r\n52.53.213.63 STDOUT: * Starting sensu-client\r\n52.53.213.63    ...fail!\r\n52.53.213.63 STDERR: \r\n52.53.213.63 ---- End output of sudo /etc/init.d/sensu-client start ----\r\n52.53.213.63 Ran sudo /etc/init.d/sensu-client start returned 1\r\n"}
{"level":"debug","message":"52.53.213.63 [2018-07-03T03:59:12+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)\r\n"}
{"level":"error","message":"Bootstrap Failed"}
{"level":"debug","message":"52.52.139.247   * execute[repo_update] action run\r\n52.52.139.247     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * execute[repo_update] action run\r\n52.52.139.247     \u001b[32m- execute apt-get update\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.52.139.247   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247   * apt_package[Install Sensu client] action install\r\n52.52.139.247     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * execute[starting sensu service] action run\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- execute sudo /etc/init.d/sensu-client start\u001b[0m\r\n52.52.139.247 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/config.json\t2018-07-03 03:59:24.112477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/.chef-config20180703-1567-19a3fcv.json\t2018-07-03 03:59:24.108477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"redis\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  },\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"api\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  },\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"transport\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n52.52.139.247     \u001b[37m+  }\u001b[0m\r\n52.52.139.247     \u001b[37m+}\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n52.52.139.247   * template[/etc/sensu/conf.d/client.json] action create\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to 07f219\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-03 03:59:27.532477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180703-1567-17sc2fl.json\t2018-07-03 03:59:27.532477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"client\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+        \"address\": \"10.0.0.139\",\u001b[0m\r\n52.52.139.247     \u001b[37m+        \"name\": \"10.0.0.139\",\u001b[0m\r\n52.52.139.247     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n52.52.139.247     \u001b[37m+            \"os\",\u001b[0m\r\n52.52.139.247     \u001b[37m+            \"webservers\"\u001b[0m\r\n52.52.139.247     \u001b[37m+        ]\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+}\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * service[sensu] action restart\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- restart service service[sensu]\u001b[0m\r\n52.52.139.247 \u001b[0m  * service[sensu] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247 Recipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * remote_file[/tmp/sensu_pubkey.gpg] action create (up to date)\r\n52.52.139.247   * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n52.52.139.247   * execute[add_repo] action run (skipped due to not_if)\r\n52.52.139.247   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n52.52.139.247   * apt_package[Install Sensu client] action install (up to date)\r\n52.52.139.247   * template[/etc/sensu/config.json] action create\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/config.json from 680ca2 to c5a712\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/config.json\t2018-07-03 03:59:24.108477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/.chef-config20180703-1567-gof5a7.json\t2018-07-03 03:59:31.332477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1,11 +1,11 @@\u001b[0m\r\n52.52.139.247     \u001b[37m {\u001b[0m\r\n52.52.139.247     \u001b[37m   \"redis\": {\u001b[0m\r\n52.52.139.247     \u001b[37m     \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.247     \u001b[37m-    \"port\": \"6379\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"port\": 6379\u001b[0m\r\n52.52.139.247     \u001b[37m   },\u001b[0m\r\n52.52.139.247     \u001b[37m   \"api\": {\u001b[0m\r\n52.52.139.247     \u001b[37m     \"host\": \"18.188.62.78\",\u001b[0m\r\n52.52.139.247     \u001b[37m-    \"port\": \"4567\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"port\": 4567\u001b[0m\r\n52.52.139.247     \u001b[37m   },\u001b[0m\r\n52.52.139.247     \u001b[37m   \"transport\": {\u001b[0m\r\n52.52.139.247     \u001b[37m     \"name\": \"redis\",\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu-client-latest::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n52.52.139.247 Recipe: sensu_check_load::default\u001b[0m\r\n52.52.139.247   * template[check-load.json] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-03 03:59:35.760477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180703-1567-1m86ss1.json\t2018-07-03 03:59:35.760477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"check_load\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+  }\u001b[0m\r\n52.52.139.247     \u001b[37m+}\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.52.139.247 \u001b[0m  * template[check-load.rb] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-03 03:59:35.764477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180703-1567-atgcq9.rb\t2018-07-03 03:59:35.764477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+#   check-load\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# OUTPUT:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   plain text\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# PLATFORMS:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Linux\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# USAGE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# NOTES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# LICENSE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n52.52.139.247     \u001b[37m+#   for details.\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+class LoadAverage\u001b[0m\r\n52.52.139.247     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n52.52.139.247     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n52.52.139.247     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def cpu_count\u001b[0m\r\n52.52.139.247     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n52.52.139.247     \u001b[37m+  rescue\u001b[0m\r\n52.52.139.247     \u001b[37m+    0\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+ def failed?\u001b[0m\r\n52.52.139.247     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n52.52.139.247     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def to_s\u001b[0m\r\n52.52.139.247     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :warn,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n52.52.139.247     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :crit,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n52.52.139.247     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :per_core,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-p',\u001b[0m\r\n52.52.139.247     \u001b[37m+         long: '--per-core',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n52.52.139.247     \u001b[37m+         boolean: 'true',\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: false\u001b[0m\r\n52.52.139.247     \u001b[37m+           def run\u001b[0m\r\n52.52.139.247     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n52.52.139.247     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n52.52.139.247     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n52.52.139.247     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n52.52.139.247     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n52.52.139.247     \u001b[37m+             ok\u001b[0m\r\n52.52.139.247     \u001b[37m+           end\u001b[0m\r\n52.52.139.247     \u001b[37m+         end\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_load::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247 Recipe: sensu_check_disk::default\u001b[0m\r\n52.52.139.247   * template[check-disk-usage.json] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-03 03:59:40.204477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180703-1567-z95a87.json\t2018-07-03 03:59:40.204477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n52.52.139.247     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+  }\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * apt_package[ruby-dev] action install\r\n52.52.139.247     \u001b[32m- install version 1:1.9.3.4 of package ruby-dev\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * apt_package[make] action install\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- install version 3.81-8.2ubuntu3 of package make\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * gem_package[sys-filesystem] action install\r\n52.52.139.247     \u001b[32m- install version 1.1.9 of package sys-filesystem\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * template[check-disk-usage.rb] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/plugins/check-disk-usage.rb\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/plugins/check-disk-usage.rb from none to ef15b0\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/plugins/check-disk-usage.rb\t2018-07-03 03:59:50.992477000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+++ /etc/sensu/plugins/.chef-check-disk-usage20180703-1567-n4hd7z.rb\t2018-07-03 03:59:50.992477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,212 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+#   check-disk\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Uses the sys-filesystem gem to get filesystem mount points and metrics\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# OUTPUT:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   plain text\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# PLATFORMS:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Linux, BSD, Windows\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n52.52.139.247     \u001b[37m+#   gem: sys-filesystem\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# USAGE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# NOTES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# LICENSE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Copyright 2015 Yieldbot Inc <Sensu-Plugins>\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n52.52.139.247     \u001b[37m+#   for details.\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n52.52.139.247     \u001b[37m+require 'sys/filesystem'\u001b[0m\r\n52.52.139.247     \u001b[37m+include Sys\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# Check Disk\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+class CheckDisk < Sensu::Plugin::Check::CLI\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :fstype,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-t TYPE[,TYPE]',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Only check fs type(s)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :ignoretype,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-x TYPE[,TYPE]',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Ignore fs type(s)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :ignoremnt,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-i MNT[,MNT]',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Ignore mount point(s)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :includemnt,\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Include only mount point(s)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-I MNT[,MNT]',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :ignorepathre,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-p PATHRE',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Ignore mount point(s) matching regular expression',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| Regexp.new(a) }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :ignoreopt,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-o TYPE[.TYPE]',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Ignore option(s)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |a| a.split('.') }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :bwarn,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-w PERCENT',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Warn if PERCENT or more of disk full',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 85\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :bcrit,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-c PERCENT',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Critical if PERCENT or more of disk full',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 95\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :iwarn,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-W PERCENT',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Warn if PERCENT or more of inodes used',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 85\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :icrit,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-K PERCENT',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Critical if PERCENT or more of inodes used',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 95\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :magic,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-m MAGIC',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Magic factor to adjust warn/crit thresholds. Example: .9',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 1.0\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :normal,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-n NORMAL',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Levels are not adapted for filesystems of exactly this '\\\u001b[0m\r\n52.52.139.247     \u001b[37m+          'size, where levels are reduced for smaller filesystems and raised '\\\u001b[0m\r\n52.52.139.247     \u001b[37m+          'for larger filesystems.',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 20\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :minimum,\u001b[0m\r\n52.52.139.247     \u001b[37m+         short: '-l MINIMUM',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Minimum size to adjust (in GB)',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 100\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Setup variables\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def initialize\u001b[0m\r\n52.52.139.247     \u001b[37m+    super\u001b[0m\r\n52.52.139.247     \u001b[37m+    @crit_fs = []\u001b[0m\r\n52.52.139.247     \u001b[37m+    @warn_fs = []\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Get mount data\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def fs_mounts\u001b[0m\r\n52.52.139.247     \u001b[37m+    Filesystem.mounts.each do |line|\u001b[0m\r\n52.52.139.247     \u001b[37m+      begin\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:fstype] && !config[:fstype].include?(line.mount_type)\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:ignoretype] && config[:ignoretype].include?(line.mount_type)\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:ignoremnt] && config[:ignoremnt].include?(line.mount_point)\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:ignorepathre] && config[:ignorepathre].match(line.mount_point)\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:ignoreopt] && config[:ignoreopt].include?(line.options)\u001b[0m\r\n52.52.139.247     \u001b[37m+        next if config[:includemnt] && !config[:includemnt].include?(line.mount_point)\u001b[0m\r\n52.52.139.247     \u001b[37m+      rescue\u001b[0m\r\n52.52.139.247     \u001b[37m+        unknown 'An error occured getting the mount info'\u001b[0m\r\n52.52.139.247     \u001b[37m+      end\u001b[0m\r\n52.52.139.247     \u001b[37m+      check_mount(line)\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Adjust the percentages based on volume size\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+  def adj_percent(size, percent)\u001b[0m\r\n52.52.139.247     \u001b[37m+    hsize = (size / (1024.0 * 1024.0)) / config[:normal].to_f\u001b[0m\r\n52.52.139.247     \u001b[37m+    felt  = hsize**config[:magic]\u001b[0m\r\n52.52.139.247     \u001b[37m+    scale = felt / hsize\u001b[0m\r\n52.52.139.247     \u001b[37m+    100 - ((100 - percent) * scale)\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def check_mount(line)\u001b[0m\r\n52.52.139.247     \u001b[37m+    begin\u001b[0m\r\n52.52.139.247     \u001b[37m+      fs_info = Filesystem.stat(line.mount_point)\u001b[0m\r\n52.52.139.247     \u001b[37m+    rescue\u001b[0m\r\n52.52.139.247     \u001b[37m+      @warn_fs << \"#{line.mount_point} Unable to read.\"\u001b[0m\r\n52.52.139.247     \u001b[37m+      return\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+    if fs_info.respond_to?(:inodes) && !fs_info.inodes.nil? # needed for windows\u001b[0m\r\n52.52.139.247     \u001b[37m+      percent_i = percent_inodes(fs_info)\u001b[0m\r\n52.52.139.247     \u001b[37m+      if percent_i >= config[:icrit]\u001b[0m\r\n52.52.139.247     \u001b[37m+        @crit_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+      elsif percent_i >= config[:iwarn]\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+        @warn_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n52.52.139.247     \u001b[37m+      end\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+    percent_b = percent_bytes(fs_info)\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    if fs_info.bytes_total < (config[:minimum] * 1_000_000_000)\u001b[0m\r\n52.52.139.247     \u001b[37m+      bcrit = config[:bcrit]\u001b[0m\r\n52.52.139.247     \u001b[37m+      bwarn = config[:bwarn]\u001b[0m\r\n52.52.139.247     \u001b[37m+    else\u001b[0m\r\n52.52.139.247     \u001b[37m+      bcrit = adj_percent(fs_info.bytes_total, config[:bcrit])\u001b[0m\r\n52.52.139.247     \u001b[37m+      bwarn = adj_percent(fs_info.bytes_total, config[:bwarn])\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    used = to_human(fs_info.bytes_used)\u001b[0m\r\n52.52.139.247     \u001b[37m+    total = to_human(fs_info.bytes_total)\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    if percent_b >= bcrit\u001b[0m\r\n52.52.139.247     \u001b[37m+      @crit_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    elsif percent_b >= bwarn\u001b[0m\r\n52.52.139.247     \u001b[37m+      @warn_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def to_human(s)\u001b[0m\r\n52.52.139.247     \u001b[37m+    unit = [[1_099_511_627_776, 'TiB'], [1_073_741_824, 'GiB'], [1_048_576, 'MiB'], [1024, 'KiB'], [0, 'B']].detect { |u| s >= u[0] }\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"#{s > 0 ? s / unit[0] : s} #{unit[1]}\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Determine the percent inode usage\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def percent_inodes(fs_info)\u001b[0m\r\n52.52.139.247     \u001b[37m+    (100.0 - (100.0 * fs_info.inodes_free / fs_info.inodes)).round(2)\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Determine the percent byte usage\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def percent_bytes(fs_info)\u001b[0m\r\n52.52.139.247     \u001b[37m+    (100.0 - (100.0 * fs_info.bytes_free / fs_info.bytes_total)).round(2)\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Generate output\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def usage_summary\u001b[0m\r\n52.52.139.247     \u001b[37m+    (@crit_fs + @warn_fs).join(', ')\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  # Main function\u001b[0m\r\n52.52.139.247     \u001b[37m+  #\u001b[0m\r\n52.52.139.247     \u001b[37m+  def run\u001b[0m\r\n52.52.139.247     \u001b[37m+    fs_mounts\u001b[0m\r\n52.52.139.247     \u001b[37m+    critical usage_summary unless @crit_fs.empty?\u001b[0m\r\n52.52.139.247     \u001b[37m+    warning usage_summary unless @warn_fs.empty?\u001b[0m\r\n52.52.139.247     \u001b[37m+    ok \"All disk usage under #{config[:bwarn]}% and inode usage under #{config[:iwarn]}%\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+end\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action restart\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_disk::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247 Recipe: sensu_check_cpu::default\u001b[0m\r\n52.52.139.247   * template[check-cpu.json] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-03 03:59:54.444477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180703-1567-1qijxl4.json\t2018-07-03 03:59:54.444477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+  }\u001b[0m\r\n52.52.139.247     \u001b[37m+}\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.52.139.247 \u001b[0m  * apt_package[ruby-dev] action install (up to date)\r\n52.52.139.247   * apt_package[make] action install (up to date)\r\n52.52.139.247   * template[check-cpu.rb] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/plugins/check-cpu.rb\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/plugins/check-cpu.rb from none to 94f8d6\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/plugins/check-cpu.rb\t2018-07-03 03:59:54.512477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/plugins/.chef-check-cpu20180703-1567-1qfg7ip.rb\t2018-07-03 03:59:54.512477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,116 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+#   check-cpu\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Check cpu usage\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# OUTPUT:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   plain text\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# PLATFORMS:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Linux\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# USAGE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   #YELLOW\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# NOTES:\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# LICENSE:\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Copyright 2014 Sonian, Inc. and contributors. <support@sensuapp.org>\u001b[0m\r\n52.52.139.247     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n52.52.139.247     \u001b[37m+#   for details.\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# Check CPU\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+class CheckCPU < Sensu::Plugin::Check::CLI\u001b[0m\r\n52.52.139.247     \u001b[37m+  CPU_METRICS = [:user, :nice, :system, :idle, :iowait, :irq, :softirq, :steal, :guest, :guest_nice]\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :warn,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+         short: '-w WARN',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 80\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :crit,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+         short: '-c CRIT',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 100\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :sleep,\u001b[0m\r\n52.52.139.247     \u001b[37m+         long: '--sleep SLEEP',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: 1\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  option :idle_metrics,\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+         long: '--idle-metrics METRICS',\u001b[0m\r\n52.52.139.247     \u001b[37m+         description: 'Treat the specified metrics as idle. Defaults to idle,iowait,steal,guest,guest_nice',\u001b[0m\r\n52.52.139.247     \u001b[37m+         proc: proc { |x| x.split(/,/).map { |y| y.strip.to_sym } },\u001b[0m\r\n52.52.139.247     \u001b[37m+         default: [:idle, :iowait, :steal, :guest, :guest_nice]\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  CPU_METRICS.each do |metric|\u001b[0m\r\n52.52.139.247     \u001b[37m+    option metric,\u001b[0m\r\n52.52.139.247     \u001b[37m+           long: \"--#{metric}\",\u001b[0m\r\n52.52.139.247     \u001b[37m+           description: \"Check cpu #{metric} instead of total cpu usage\",\u001b[0m\r\n52.52.139.247     \u001b[37m+           boolean: true,\u001b[0m\r\n52.52.139.247     \u001b[37m+           default: false\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def acquire_cpu_stats\u001b[0m\r\n52.52.139.247     \u001b[37m+    File.open('/proc/stat', 'r').each_line do |line|\u001b[0m\r\n52.52.139.247     \u001b[37m+      info = line.split(/\\s+/)\u001b[0m\r\n52.52.139.247     \u001b[37m+      name = info.shift\u001b[0m\r\n52.52.139.247     \u001b[37m+      return info.map(&:to_f) if name.match(/^cpu$/)\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+  def run\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_stats_before = acquire_cpu_stats\u001b[0m\r\n52.52.139.247     \u001b[37m+    sleep config[:sleep]\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_stats_after = acquire_cpu_stats\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    # Some kernels don't have 'guest' and 'guest_nice' values\u001b[0m\r\n52.52.139.247     \u001b[37m+    metrics = CPU_METRICS.slice(0, cpu_stats_after.length)\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_total_diff = 0.to_f\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_stats_diff = []\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n52.52.139.247     \u001b[37m+      cpu_stats_diff[i] = cpu_stats_after[i] - cpu_stats_before[i]\u001b[0m\r\n52.52.139.247     \u001b[37m+      cpu_total_diff += cpu_stats_diff[i]\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_stats = []\u001b[0m\r\n52.52.139.247     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n52.52.139.247     \u001b[37m+      cpu_stats[i] = 100 * (cpu_stats_diff[i] / cpu_total_diff)\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    idle_diff = metrics.each_with_index.map { |metric, i| config[:idle_metrics].include?(metric) ? cpu_stats_diff[i] : 0.0 }.reduce(0.0, :+)\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_usage = 100 * (cpu_total_diff - idle_diff) / cpu_total_diff\u001b[0m\r\n52.52.139.247     \u001b[37m+    checked_usage = cpu_usage\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    self.class.check_name 'CheckCPU TOTAL'\u001b[0m\r\n52.52.139.247     \u001b[37m+    metrics.each do |metric|\u001b[0m\r\n52.52.139.247     \u001b[37m+      if config[metric]\u001b[0m\r\n52.52.139.247     \u001b[37m+        self.class.check_name \"CheckCPU #{metric.to_s.upcase}\"\u001b[0m\r\n52.52.139.247     \u001b[37m+        checked_usage = cpu_stats[metrics.find_index(metric)]\u001b[0m\r\n52.52.139.247     \u001b[37m+      end\u001b[0m\r\n52.52.139.247     \u001b[37m+    end\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    msg = \"total=#{(cpu_usage * 100).round / 100.0}\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    cpu_stats.each_index { |i| msg += \" #{metrics[i]}=#{(cpu_stats[i] * 100).round / 100.0}\" }\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    message msg\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+    critical if checked_usage >= config[:crit]\u001b[0m\r\n52.52.139.247     \u001b[37m+    warning if checked_usage >= config[:warn]\u001b[0m\r\n52.52.139.247     \u001b[37m+    ok\u001b[0m\r\n52.52.139.247     \u001b[37m+  end\u001b[0m\r\n52.52.139.247     \u001b[37m+end\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.52.139.247 \u001b[0mRecipe: sensu_check_memory::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action restart\r\n52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0mRecipe: sensu_check_cpu::default\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247   * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247 Recipe: sensu_check_memory::default\u001b[0m\r\n52.52.139.247   * template[check-memory-usage.json] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-03 03:59:58.948477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180703-1567-fbati0.json\t2018-07-03 03:59:58.948477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+{\u001b[0m\r\n52.52.139.247     \u001b[37m+  \"checks\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n52.52.139.247     \u001b[37m+      \"standalone\": true\u001b[0m\r\n52.52.139.247     \u001b[37m+    }\u001b[0m\r\n52.52.139.247     \u001b[37m+  }\u001b[0m\r\n52.52.139.247     \u001b[37m+}\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n52.52.139.247 \u001b[0m  * template[check-memory-usage.sh] action create\r\n52.52.139.247     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n52.52.139.247     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n52.52.139.247     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-03 03:59:58.956477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180703-1567-1fmthk5.sh\t2018-07-03 03:59:58.956477000 +0000\u001b[0m\r\n52.52.139.247     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n52.52.139.247     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n52.52.139.247     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n52.52.139.247     \u001b[37m+#\u001b[0m\r\n52.52.139.247     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n52.52.139.247     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n52.52.139.247     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n52.52.139.247     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n52.52.139.247     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n52.52.139.247     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n52.52.139.247     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n52.52.139.247     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n52.52.139.247     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n52.52.139.247     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+# get arguments\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+# #RED\u001b[0m\r\n52.52.139.247     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n52.52.139.247     \u001b[37m+  case $OPT in\u001b[0m\r\n52.52.139.247     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n52.52.139.247     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n52.52.139.247     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n52.52.139.247     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n52.52.139.247     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n52.52.139.247     \u001b[37m+  esac\u001b[0m\r\n52.52.139.247     \u001b[37m+done\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+# usage\u001b[0m\r\n52.52.139.247     \u001b[37m+HELP=\"\u001b[0m\r\n52.52.139.247     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n52.52.139.247     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n52.52.139.247     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n52.52.139.247     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n52.52.139.247     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n52.52.139.247     \u001b[37m+\"\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n52.52.139.247     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  exit 0\u001b[0m\r\n52.52.139.247     \u001b[37m+fi\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n52.52.139.247     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n52.52.139.247     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n52.52.139.247     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n52.52.139.247     \u001b[37m+set -o pipefail\u001b[0m\r\n52.52.139.247     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n52.52.139.247     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n52.52.139.247     \u001b[37m+  then\u001b[0m\r\n52.52.139.247     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n52.52.139.247     \u001b[37m+fi\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n52.52.139.247     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n52.52.139.247     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n52.52.139.247     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n52.52.139.247     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  exit 3\u001b[0m\r\n52.52.139.247     \u001b[37m+fi\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n52.52.139.247     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n52.52.139.247     \u001b[37m+else\u001b[0m\r\n52.52.139.247     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n52.52.139.247     \u001b[37m+fi\u001b[0m\r\n52.52.139.247     \u001b[37m+\u001b[0m\r\n52.52.139.247     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n52.52.139.247     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  exit 2\u001b[0m\r\n52.52.139.247     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n52.52.139.247     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  exit 1\u001b[0m\r\n52.52.139.247     \u001b[37m+else\u001b[0m\r\n52.52.139.247     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n52.52.139.247     \u001b[37m+  exit 0\u001b[0m\r\n52.52.139.247     \u001b[37m+fi\u001b[0m\r\n52.52.139.247     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * service[sensu-client] action restart\r\n52.52.139.247     \u001b[32m- restart service service[sensu-client]\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m  * service[sensu-client] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T04:00:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"52.52.139.247 \u001b[0m\r\n52.52.139.247 Running handlers:\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 Running handlers complete\r\n52.52.139.247 \u001b[0mChef Client finished, 29/44 resources updated in 58 seconds\u001b[0m\r\n"}
{"level":"debug","message":"52.52.139.247 [2018-07-03T04:00:04+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july031.rlcatalyst.com"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-0f750f72660e5c949\n"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"error","message":"Creating new client for i-0b2290646bb34eed5\n"}
{"level":"error","message":"Creating new node for i-0f750f72660e5c949\n"}
{"level":"error","message":"Creating new node for i-0b2290646bb34eed5\n"}
{"level":"error","message":"Connecting to 54.241.170.50\n"}
{"level":"error","message":"Connecting to 54.153.62.31\n"}
{"level":"debug","message":"54.241.170.50 -----> Installing Chef Omnibus (-v 14)\r\n"}
{"level":"debug","message":"54.241.170.50 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n54.241.170.50   to file /tmp/install.sh.1293/install.sh\r\n54.241.170.50 trying wget...\r\n"}
{"level":"debug","message":"54.241.170.50 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"54.241.170.50 Getting information for chef stable 14 for ubuntu...\r\n54.241.170.50 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n54.241.170.50   to file /tmp/install.sh.1297/metadata.txt\r\n54.241.170.50 trying wget...\r\n"}
{"level":"debug","message":"54.241.170.50 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"54.241.170.50 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n54.241.170.50 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n54.241.170.50 version\t14.2.0\r\n"}
{"level":"debug","message":"54.241.170.50 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"54.241.170.50 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n54.241.170.50   to file /tmp/install.sh.1297/chef_14.2.0-1_amd64.deb\r\n54.241.170.50 trying wget...\r\n"}
{"level":"debug","message":"54.241.170.50 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"54.241.170.50 Installing chef 14\r\n"}
{"level":"debug","message":"54.241.170.50 installing with dpkg...\r\n"}
{"level":"debug","message":"54.241.170.50 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"54.241.170.50 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"54.241.170.50 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n"}
{"level":"debug","message":"54.241.170.50 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.241.170.50 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.241.170.50 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"54.241.170.50 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"54.241.170.50 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:50+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:50+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:51+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:51+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:51+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 Synchronizing Cookbooks:\u001b[0m\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50   - sensu_check_load (0.1.1)\u001b[0m\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50   - sensu-client-latest (0.1.4)\u001b[0m\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50   - sensu_check_disk (0.1.3)\u001b[0m\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:52+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50   - sensu-client (2.0.2)\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50   - sensu_check_memory (0.1.3)\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 Installing Cookbook Gems:\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 [2018-07-03T07:35:53+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.241.170.50 Converging 16 resources\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n54.241.170.50     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n54.241.170.50     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 07:35:53.674602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180703-1380-1wbfq2p.gpg\t2018-07-03 07:35:53.670602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.241.170.50     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n54.241.170.50     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n54.241.170.50     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n54.241.170.50     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n54.241.170.50     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n54.241.170.50     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n54.241.170.50     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n54.241.170.50     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n54.241.170.50     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n54.241.170.50     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n54.241.170.50     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n54.241.170.50     \u001b[37m+=hhqa\u001b[0m\r\n54.241.170.50     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.241.170.50 \u001b[0m  * execute[add_sensu_gpg] action run\r\n54.241.170.50     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n54.241.170.50 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n54.241.170.50   * execute[add_repo] action run\r\n54.241.170.50     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 -----> Installing Chef Omnibus (-v 14)\r\n54.153.62.31 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n54.153.62.31   to file /tmp/install.sh.2019/install.sh\r\n54.153.62.31 trying wget...\r\n"}
{"level":"debug","message":"54.153.62.31 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"54.153.62.31 Getting information for chef stable 14 for ubuntu...\r\n54.153.62.31 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n54.153.62.31   to file /tmp/install.sh.2023/metadata.txt\r\n54.153.62.31 trying wget...\r\n"}
{"level":"debug","message":"54.153.62.31 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n54.153.62.31 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n54.153.62.31 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n"}
{"level":"debug","message":"54.153.62.31 version\t14.2.0\r\n54.153.62.31 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"54.153.62.31 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n54.153.62.31   to file /tmp/install.sh.2023/chef_14.2.0-1_amd64.deb\r\n54.153.62.31 trying wget...\r\n"}
{"level":"debug","message":"54.153.62.31 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"54.153.62.31 Installing chef 14\r\n54.153.62.31 installing with dpkg...\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * execute[repo_update] action run\r\n54.241.170.50     \u001b[32m- execute apt-get update\u001b[0m\r\n54.241.170.50 \u001b[0m  * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.153.62.31 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 210634 files and directories currently installed.)\r\n"}
{"level":"debug","message":"54.153.62.31 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n54.153.62.31 Unpacking chef (14.2.0-1) over (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.241.170.50   * apt_package[Install Sensu client] action install\r\n54.241.170.50     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m--- /etc/sensu/config.json\t2018-07-03 07:36:02.354602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/.chef-config20180703-1380-1du804d.json\t2018-07-03 07:36:02.354602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"redis\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  },\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"api\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  },\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"transport\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n54.241.170.50     \u001b[37m+  }\u001b[0m\r\n54.241.170.50     \u001b[37m+}\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to c436a0\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-03 07:36:02.358602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180703-1380-7wvp4k.json\t2018-07-03 07:36:02.358602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"client\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+        \"address\": \"10.0.0.223\",\u001b[0m\r\n54.241.170.50     \u001b[37m+        \"name\": \"10.0.0.223\",\u001b[0m\r\n54.241.170.50     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n54.241.170.50     \u001b[37m+            \"os\",\u001b[0m\r\n54.241.170.50     \u001b[37m+            \"webservers\"\u001b[0m\r\n54.241.170.50     \u001b[37m+        ]\u001b[0m\r\n54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+}\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action start\r\n54.241.170.50     \u001b[32m- start service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.241.170.50   * template[check-cpu.rb] action create\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- create new file /etc/sensu/plugins/check-cpu.rb\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/plugins/check-cpu.rb from none to 94f8d6\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/plugins/check-cpu.rb\t2018-07-03 07:36:03.774602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/plugins/.chef-check-cpu20180703-1380-fnwb15.rb\t2018-07-03 07:36:03.774602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,116 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+#   check-cpu\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Check cpu usage\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   plain text\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Linux\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# USAGE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   #YELLOW\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# NOTES:\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# LICENSE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Copyright 2014 Sonian, Inc. and contributors. <support@sensuapp.org>\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.241.170.50     \u001b[37m+#   for details.\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# Check CPU\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+class CheckCPU < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.241.170.50     \u001b[37m+  CPU_METRICS = [:user, :nice, :system, :idle, :iowait, :irq, :softirq, :steal, :guest, :guest_nice]\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :warn,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-w WARN',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 80\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :crit,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-c CRIT',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 100\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :sleep,\u001b[0m\r\n54.241.170.50     \u001b[37m+         long: '--sleep SLEEP',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 1\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :idle_metrics,\u001b[0m\r\n54.241.170.50     \u001b[37m+         long: '--idle-metrics METRICS',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Treat the specified metrics as idle. Defaults to idle,iowait,steal,guest,guest_nice',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |x| x.split(/,/).map { |y| y.strip.to_sym } },\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: [:idle, :iowait, :steal, :guest, :guest_nice]\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  CPU_METRICS.each do |metric|\u001b[0m\r\n54.241.170.50     \u001b[37m+    option metric,\u001b[0m\r\n54.241.170.50     \u001b[37m+           long: \"--#{metric}\",\u001b[0m\r\n54.241.170.50     \u001b[37m+           description: \"Check cpu #{metric} instead of total cpu usage\",\u001b[0m\r\n54.241.170.50     \u001b[37m+           boolean: true,\u001b[0m\r\n54.241.170.50     \u001b[37m+           default: false\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def acquire_cpu_stats\u001b[0m\r\n54.241.170.50     \u001b[37m+    File.open('/proc/stat', 'r').each_line do |line|\u001b[0m\r\n54.241.170.50     \u001b[37m+      info = line.split(/\\s+/)\u001b[0m\r\n54.241.170.50     \u001b[37m+      name = info.shift\u001b[0m\r\n54.241.170.50     \u001b[37m+      return info.map(&:to_f) if name.match(/^cpu$/)\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def run\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_stats_before = acquire_cpu_stats\u001b[0m\r\n54.241.170.50     \u001b[37m+    sleep config[:sleep]\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_stats_after = acquire_cpu_stats\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    # Some kernels don't have 'guest' and 'guest_nice' values\u001b[0m\r\n54.241.170.50     \u001b[37m+    metrics = CPU_METRICS.slice(0, cpu_stats_after.length)\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_total_diff = 0.to_f\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_stats_diff = []\u001b[0m\r\n54.241.170.50     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n54.241.170.50     \u001b[37m+      cpu_stats_diff[i] = cpu_stats_after[i] - cpu_stats_before[i]\u001b[0m\r\n54.241.170.50     \u001b[37m+      cpu_total_diff += cpu_stats_diff[i]\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_stats = []\u001b[0m\r\n54.241.170.50     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n54.241.170.50     \u001b[37m+      cpu_stats[i] = 100 * (cpu_stats_diff[i] / cpu_total_diff)\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    idle_diff = metrics.each_with_index.map { |metric, i| config[:idle_metrics].include?(metric) ? cpu_stats_diff[i] : 0.0 }.reduce(0.0, :+)\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+    cpu_usage = 100 * (cpu_total_diff - idle_diff) / cpu_total_diff\u001b[0m\r\n54.241.170.50     \u001b[37m+    checked_usage = cpu_usage\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    self.class.check_name 'CheckCPU TOTAL'\u001b[0m\r\n54.241.170.50     \u001b[37m+    metrics.each do |metric|\u001b[0m\r\n54.241.170.50     \u001b[37m+      if config[metric]\u001b[0m\r\n54.241.170.50     \u001b[37m+        self.class.check_name \"CheckCPU #{metric.to_s.upcase}\"\u001b[0m\r\n54.241.170.50     \u001b[37m+        checked_usage = cpu_stats[metrics.find_index(metric)]\u001b[0m\r\n54.241.170.50     \u001b[37m+      end\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    msg = \"total=#{(cpu_usage * 100).round / 100.0}\"\u001b[0m\r\n54.241.170.50     \u001b[37m+    cpu_stats.each_index { |i| msg += \" #{metrics[i]}=#{(cpu_stats[i] * 100).round / 100.0}\" }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    message msg\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    critical if checked_usage >= config[:crit]\u001b[0m\r\n54.241.170.50     \u001b[37m+    warning if checked_usage >= config[:warn]\u001b[0m\r\n54.241.170.50     \u001b[37m+    ok\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+end\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[check-disk-usage.rb] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/plugins/check-disk-usage.rb\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/plugins/check-disk-usage.rb from none to ef15b0\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/plugins/check-disk-usage.rb\t2018-07-03 07:36:03.786602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/plugins/.chef-check-disk-usage20180703-1380-yr06be.rb\t2018-07-03 07:36:03.786602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,212 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+#   check-disk\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Uses the sys-filesystem gem to get filesystem mount points and metrics\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   plain text\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Linux, BSD, Windows\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.241.170.50     \u001b[37m+#   gem: sys-filesystem\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# USAGE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# NOTES:\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# LICENSE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Copyright 2015 Yieldbot Inc <Sensu-Plugins>\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.241.170.50     \u001b[37m+#   for details.\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+require 'sys/filesystem'\u001b[0m\r\n54.241.170.50     \u001b[37m+include Sys\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# Check Disk\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+class CheckDisk < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :fstype,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-t TYPE[,TYPE]',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Only check fs type(s)',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :ignoretype,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-x TYPE[,TYPE]',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Ignore fs type(s)',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :ignoremnt,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-i MNT[,MNT]',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Ignore mount point(s)',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :includemnt,\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Include only mount point(s)',\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+         short: '-I MNT[,MNT]',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :ignorepathre,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-p PATHRE',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Ignore mount point(s) matching regular expression',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| Regexp.new(a) }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :ignoreopt,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-o TYPE[.TYPE]',\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+         description: 'Ignore option(s)',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split('.') }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :bwarn,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-w PERCENT',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Warn if PERCENT or more of disk full',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 85\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :bcrit,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-c PERCENT',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Critical if PERCENT or more of disk full',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 95\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :iwarn,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-W PERCENT',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Warn if PERCENT or more of inodes used',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 85\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :icrit,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-K PERCENT',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Critical if PERCENT or more of inodes used',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+         default: 95\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :magic,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-m MAGIC',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Magic factor to adjust warn/crit thresholds. Example: .9',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 1.0\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :normal,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-n NORMAL',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Levels are not adapted for filesystems of exactly this '\\\u001b[0m\r\n54.241.170.50     \u001b[37m+          'size, where levels are reduced for smaller filesystems and raised '\\\u001b[0m\r\n54.241.170.50     \u001b[37m+          'for larger filesystems.',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 20\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :minimum,\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+         short: '-l MINIMUM',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Minimum size to adjust (in GB)',\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: 100\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Setup variables\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def initialize\u001b[0m\r\n54.241.170.50     \u001b[37m+    super\u001b[0m\r\n54.241.170.50     \u001b[37m+    @crit_fs = []\u001b[0m\r\n54.241.170.50     \u001b[37m+    @warn_fs = []\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Get mount data\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def fs_mounts\u001b[0m\r\n54.241.170.50     \u001b[37m+    Filesystem.mounts.each do |line|\u001b[0m\r\n54.241.170.50     \u001b[37m+      begin\u001b[0m\r\n54.241.170.50     \u001b[37m+        next if config[:fstype] && !config[:fstype].include?(line.mount_type)\u001b[0m\r\n54.241.170.50     \u001b[37m+        next if config[:ignoretype] && config[:ignoretype].include?(line.mount_type)\u001b[0m\r\n54.241.170.50     \u001b[37m+        next if config[:ignoremnt] && config[:ignoremnt].include?(line.mount_point)\u001b[0m\r\n54.241.170.50     \u001b[37m+        next if config[:ignorepathre] && config[:ignorepathre].match(line.mount_point)\u001b[0m\r\n54.241.170.50     \u001b[37m+        next if config[:ignoreopt] && config[:ignoreopt].include?(line.options)\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+        next if config[:includemnt] && !config[:includemnt].include?(line.mount_point)\u001b[0m\r\n54.241.170.50     \u001b[37m+      rescue\u001b[0m\r\n54.241.170.50     \u001b[37m+        unknown 'An error occured getting the mount info'\u001b[0m\r\n54.241.170.50     \u001b[37m+      end\u001b[0m\r\n54.241.170.50     \u001b[37m+      check_mount(line)\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Adjust the percentages based on volume size\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def adj_percent(size, percent)\u001b[0m\r\n54.241.170.50     \u001b[37m+    hsize = (size / (1024.0 * 1024.0)) / config[:normal].to_f\u001b[0m\r\n54.241.170.50     \u001b[37m+    felt  = hsize**config[:magic]\u001b[0m\r\n54.241.170.50     \u001b[37m+    scale = felt / hsize\u001b[0m\r\n54.241.170.50     \u001b[37m+    100 - ((100 - percent) * scale)\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def check_mount(line)\u001b[0m\r\n54.241.170.50     \u001b[37m+    begin\u001b[0m\r\n54.241.170.50     \u001b[37m+      fs_info = Filesystem.stat(line.mount_point)\u001b[0m\r\n54.241.170.50     \u001b[37m+    rescue\u001b[0m\r\n54.241.170.50     \u001b[37m+      @warn_fs << \"#{line.mount_point} Unable to read.\"\u001b[0m\r\n54.241.170.50     \u001b[37m+      return\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+    if fs_info.respond_to?(:inodes) && !fs_info.inodes.nil? # needed for windows\u001b[0m\r\n54.241.170.50     \u001b[37m+      percent_i = percent_inodes(fs_info)\u001b[0m\r\n54.241.170.50     \u001b[37m+      if percent_i >= config[:icrit]\u001b[0m\r\n54.241.170.50     \u001b[37m+        @crit_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n54.241.170.50     \u001b[37m+      elsif percent_i >= config[:iwarn]\u001b[0m\r\n54.241.170.50     \u001b[37m+        @warn_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n54.241.170.50     \u001b[37m+      end\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+    percent_b = percent_bytes(fs_info)\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    if fs_info.bytes_total < (config[:minimum] * 1_000_000_000)\u001b[0m\r\n54.241.170.50     \u001b[37m+      bcrit = config[:bcrit]\u001b[0m\r\n54.241.170.50     \u001b[37m+      bwarn = config[:bwarn]\u001b[0m\r\n54.241.170.50     \u001b[37m+    else\u001b[0m\r\n54.241.170.50     \u001b[37m+      bcrit = adj_percent(fs_info.bytes_total, config[:bcrit])\u001b[0m\r\n54.241.170.50     \u001b[37m+      bwarn = adj_percent(fs_info.bytes_total, config[:bwarn])\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    used = to_human(fs_info.bytes_used)\u001b[0m\r\n54.241.170.50     \u001b[37m+    total = to_human(fs_info.bytes_total)\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    if percent_b >= bcrit\u001b[0m\r\n54.241.170.50     \u001b[37m+      @crit_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n54.241.170.50     \u001b[37m+    elsif percent_b >= bwarn\u001b[0m\r\n54.241.170.50     \u001b[37m+      @warn_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n54.241.170.50     \u001b[37m+    end\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def to_human(s)\u001b[0m\r\n54.241.170.50     \u001b[37m+    unit = [[1_099_511_627_776, 'TiB'], [1_073_741_824, 'GiB'], [1_048_576, 'MiB'], [1024, 'KiB'], [0, 'B']].detect { |u| s >= u[0] }\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"#{s > 0 ? s / unit[0] : s} #{unit[1]}\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Determine the percent inode usage\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def percent_inodes(fs_info)\u001b[0m\r\n54.241.170.50     \u001b[37m+    (100.0 - (100.0 * fs_info.inodes_free / fs_info.inodes)).round(2)\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Determine the percent byte usage\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def percent_bytes(fs_info)\u001b[0m\r\n54.241.170.50     \u001b[37m+    (100.0 - (100.0 * fs_info.bytes_free / fs_info.bytes_total)).round(2)\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Generate output\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def usage_summary\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+    (@crit_fs + @warn_fs).join(', ')\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  # Main function\u001b[0m\r\n54.241.170.50     \u001b[37m+  #\u001b[0m\r\n54.241.170.50     \u001b[37m+  def run\u001b[0m\r\n54.241.170.50     \u001b[37m+    fs_mounts\u001b[0m\r\n54.241.170.50     \u001b[37m+    critical usage_summary unless @crit_fs.empty?\u001b[0m\r\n54.241.170.50     \u001b[37m+    warning usage_summary unless @warn_fs.empty?\u001b[0m\r\n54.241.170.50     \u001b[37m+    ok \"All disk usage under #{config[:bwarn]}% and inode usage under #{config[:iwarn]}%\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+end\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[check-load.rb] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-03 07:36:03.802602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180703-1380-n047ht.rb\t2018-07-03 07:36:03.802602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+#   check-load\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   plain text\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Linux\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# USAGE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# NOTES:\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# LICENSE:\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n54.241.170.50     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.241.170.50     \u001b[37m+#   for details.\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+class LoadAverage\u001b[0m\r\n54.241.170.50     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n54.241.170.50     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n54.241.170.50     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def cpu_count\u001b[0m\r\n54.241.170.50     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+  rescue\u001b[0m\r\n54.241.170.50     \u001b[37m+    0\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+ def failed?\u001b[0m\r\n54.241.170.50     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n54.241.170.50     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  def to_s\u001b[0m\r\n54.241.170.50     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n54.241.170.50     \u001b[37m+  end\u001b[0m\r\n54.241.170.50     \u001b[37m+end\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :warn,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n54.241.170.50     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :crit,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n54.241.170.50     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n54.241.170.50     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+  option :per_core,\u001b[0m\r\n54.241.170.50     \u001b[37m+         short: '-p',\u001b[0m\r\n54.241.170.50     \u001b[37m+         long: '--per-core',\u001b[0m\r\n54.241.170.50     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n54.241.170.50     \u001b[37m+         boolean: 'true',\u001b[0m\r\n54.241.170.50     \u001b[37m+         default: false\u001b[0m\r\n54.241.170.50     \u001b[37m+           def run\u001b[0m\r\n54.241.170.50     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n54.241.170.50     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n54.241.170.50     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n54.241.170.50     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n54.241.170.50     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n54.241.170.50     \u001b[37m+             ok\u001b[0m\r\n54.241.170.50     \u001b[37m+           end\u001b[0m\r\n54.241.170.50     \u001b[37m+         end\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[check-memory-usage.sh] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-03 07:36:03.818602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180703-1380-hgqrjx.sh\t2018-07-03 07:36:03.818602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n54.241.170.50     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n54.241.170.50     \u001b[37m+#\u001b[0m\r\n54.241.170.50     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n54.241.170.50     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n54.241.170.50     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n54.241.170.50     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n54.241.170.50     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n54.241.170.50     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n54.241.170.50     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n54.241.170.50     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n54.241.170.50     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n54.241.170.50     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+# get arguments\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+# #RED\u001b[0m\r\n54.241.170.50     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n54.241.170.50     \u001b[37m+  case $OPT in\u001b[0m\r\n54.241.170.50     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n54.241.170.50     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n54.241.170.50     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n54.241.170.50     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n54.241.170.50     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n54.241.170.50     \u001b[37m+  esac\u001b[0m\r\n54.241.170.50     \u001b[37m+done\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+# usage\u001b[0m\r\n54.241.170.50     \u001b[37m+HELP=\"\u001b[0m\r\n54.241.170.50     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n54.241.170.50     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n54.241.170.50     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n54.241.170.50     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n54.241.170.50     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n54.241.170.50     \u001b[37m+\"\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n54.241.170.50     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  exit 0\u001b[0m\r\n54.241.170.50     \u001b[37m+fi\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n54.241.170.50     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n54.241.170.50     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n54.241.170.50     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n54.241.170.50     \u001b[37m+set -o pipefail\u001b[0m\r\n54.241.170.50     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n54.241.170.50     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n54.241.170.50     \u001b[37m+  then\u001b[0m\r\n54.241.170.50     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n54.241.170.50     \u001b[37m+fi\u001b[0m\r\n54.241.170.50     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n54.241.170.50     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n54.241.170.50     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n54.241.170.50     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n54.241.170.50     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  exit 3\u001b[0m\r\n54.241.170.50     \u001b[37m+fi\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n54.241.170.50     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n54.241.170.50     \u001b[37m+else\u001b[0m\r\n54.241.170.50     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n54.241.170.50     \u001b[37m+fi\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n54.241.170.50     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  exit 2\u001b[0m\r\n54.241.170.50     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n54.241.170.50     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  exit 1\u001b[0m\r\n54.241.170.50     \u001b[37m+else\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n54.241.170.50     \u001b[37m+  exit 0\u001b[0m\r\n54.241.170.50     \u001b[37m+fi\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[check-cpu.json] action create\r\n54.241.170.50     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-03 07:36:03.834602000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180703-1380-13yjism.json\t2018-07-03 07:36:03.834602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+  }\u001b[0m\r\n54.241.170.50     \u001b[37m+}\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action restart\r\n54.241.170.50     \u001b[32m- restart service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * template[check-memory-usage.json] action create\r\n"}
{"level":"debug","message":"54.153.62.31 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-03 07:36:07.578602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180703-1380-bz8m25.json\t2018-07-03 07:36:07.574602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+  }\u001b[0m\r\n54.241.170.50     \u001b[37m+}\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"54.153.62.31 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action restart\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- restart service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * template[check-disk-usage.json] action create\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-03 07:36:11.322602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180703-1380-18wze4z.json\t2018-07-03 07:36:11.322602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.241.170.50     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+\u001b[0m\r\n54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+  }\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 [2018-07-03T07:36:11+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:11+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\"]\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 Synchronizing Cookbooks:\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:12+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31   - sensu-client (2.0.2)\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31   [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 - sensu_check_load (0.1.1)\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31   - sensu-client-latest (0.1.4)\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31   - sensu_check_disk (0.1.3)\u001b[0m\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.153.62.31   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31   - sensu_check_memory (0.1.3)\u001b[0m\r\n54.153.62.31 Installing Cookbook Gems:\u001b[0m\r\n54.153.62.31 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 [2018-07-03T07:36:13+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 Converging 16 resources\u001b[0m\r\n54.153.62.31 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n54.153.62.31     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n54.153.62.31     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 07:36:14.232249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180703-2122-e9dhjx.gpg\t2018-07-03 07:36:14.232249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.153.62.31     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n54.153.62.31     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n54.153.62.31     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n54.153.62.31     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n54.153.62.31     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n54.153.62.31     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n54.153.62.31     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n54.153.62.31     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n54.153.62.31     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n54.153.62.31     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n54.153.62.31     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n54.153.62.31     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n54.153.62.31     \u001b[37m+=hhqa\u001b[0m\r\n54.153.62.31     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.153.62.31 \u001b[0m  * execute[add_sensu_gpg] action run\r\n54.153.62.31     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n54.153.62.31 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n54.153.62.31   * execute[add_repo] action run (skipped due to not_if)\r\n54.153.62.31   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action restart\r\n54.241.170.50     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.241.170.50 \u001b[0m  * template[check-load.json] action create\r\n"}
{"level":"debug","message":"54.241.170.50     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n54.241.170.50     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n54.241.170.50     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-03 07:36:15.066602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180703-1380-xwgpbr.json\t2018-07-03 07:36:15.066602000 +0000\u001b[0m\r\n54.241.170.50     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.241.170.50     \u001b[37m+{\u001b[0m\r\n54.241.170.50     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+    \"check_load\": {\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.241.170.50     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.241.170.50     \u001b[37m+    }\u001b[0m\r\n54.241.170.50     \u001b[37m+  }\u001b[0m\r\n54.241.170.50     \u001b[37m+}\u001b[0m\r\n54.241.170.50     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31   * apt_package[Install Sensu client] action install (up to date)\r\n54.153.62.31   * template[/etc/sensu/config.json] action create\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/config.json from 3afe91 to 680ca2\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/config.json\t2016-02-29 16:52:32.934408000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/.chef-config20180703-2122-zod7iw.json\t2018-07-03 07:36:15.152249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1,9 +1,15 @@\u001b[0m\r\n54.153.62.31     \u001b[37m {\u001b[0m\r\n54.153.62.31     \u001b[37m-  \"rabbitmq\": {\u001b[0m\r\n54.153.62.31     \u001b[37m-    \"host\": \"10.0.1.92\",\u001b[0m\r\n54.153.62.31     \u001b[37m-    \"vhost\": \"/sensu\",\u001b[0m\r\n54.153.62.31     \u001b[37m-    \"user\": \"sensu\",\u001b[0m\r\n54.153.62.31     \u001b[37m-    \"password\": \"secret\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"redis\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  },\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"api\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  },\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"transport\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n54.153.62.31     \u001b[37m   }\u001b[0m\r\n54.153.62.31     \u001b[37m }\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '0644' to '0755'\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to 2a8472\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-03 07:36:15.156249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180703-2122-98z1e2.json\t2018-07-03 07:36:15.156249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+{\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"client\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+        \"address\": \"10.0.0.32\",\u001b[0m\r\n54.153.62.31     \u001b[37m+        \"name\": \"10.0.0.32\",\u001b[0m\r\n54.153.62.31     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n54.153.62.31     \u001b[37m+            \"os\",\u001b[0m\r\n54.153.62.31     \u001b[37m+            \"webservers\"\u001b[0m\r\n54.153.62.31     \u001b[37m+        ]\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+}\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.153.62.31 \u001b[0m  * service[sensu] action start\r\n54.153.62.31     \u001b[32m- start service service[sensu]\u001b[0m\r\n54.153.62.31 \u001b[0m  * service[sensu] action nothing (skipped due to action :nothing)\r\n54.153.62.31   * template[check-cpu.rb] action create\r\n54.153.62.31     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-disk-usage.rb] action create\r\n54.153.62.31     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-load.rb] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-03 07:36:16.512249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180703-2122-1kvodxf.rb\t2018-07-03 07:36:16.512249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+#   check-load\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.153.62.31     \u001b[37m+#   plain text\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.153.62.31     \u001b[37m+#   Linux\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.153.62.31     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# USAGE:\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# NOTES:\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# LICENSE:\u001b[0m\r\n54.153.62.31     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n54.153.62.31     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.153.62.31     \u001b[37m+#   for details.\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+class LoadAverage\u001b[0m\r\n54.153.62.31     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n54.153.62.31     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n54.153.62.31     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n54.153.62.31     \u001b[37m+  end\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+  def cpu_count\u001b[0m\r\n54.153.62.31     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n54.153.62.31     \u001b[37m+  rescue\u001b[0m\r\n54.153.62.31     \u001b[37m+    0\u001b[0m\r\n54.153.62.31     \u001b[37m+  end\u001b[0m\r\n54.153.62.31     \u001b[37m+ def failed?\u001b[0m\r\n54.153.62.31     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n54.153.62.31     \u001b[37m+  end\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n54.153.62.31     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n54.153.62.31     \u001b[37m+  end\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+  def to_s\u001b[0m\r\n54.153.62.31     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n54.153.62.31     \u001b[37m+  end\u001b[0m\r\n54.153.62.31     \u001b[37m+end\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.153.62.31     \u001b[37m+  option :warn,\u001b[0m\r\n54.153.62.31     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n54.153.62.31     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n54.153.62.31     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n54.153.62.31     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.153.62.31     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+  option :crit,\u001b[0m\r\n54.153.62.31     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n54.153.62.31     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n54.153.62.31     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n54.153.62.31     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.153.62.31     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+  option :per_core,\u001b[0m\r\n54.153.62.31     \u001b[37m+         short: '-p',\u001b[0m\r\n54.153.62.31     \u001b[37m+         long: '--per-core',\u001b[0m\r\n54.153.62.31     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n54.153.62.31     \u001b[37m+         boolean: 'true',\u001b[0m\r\n54.153.62.31     \u001b[37m+         default: false\u001b[0m\r\n54.153.62.31     \u001b[37m+           def run\u001b[0m\r\n54.153.62.31     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n54.153.62.31     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n54.153.62.31     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n54.153.62.31     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n54.153.62.31     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n54.153.62.31     \u001b[37m+             ok\u001b[0m\r\n54.153.62.31     \u001b[37m+           end\u001b[0m\r\n54.153.62.31     \u001b[37m+         end\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-memory-usage.sh] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-03 07:36:16.516249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180703-2122-16tcw6d.sh\t2018-07-03 07:36:16.516249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n54.153.62.31     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n54.153.62.31     \u001b[37m+#\u001b[0m\r\n54.153.62.31     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n54.153.62.31     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n54.153.62.31     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n54.153.62.31     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n54.153.62.31     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n54.153.62.31     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n54.153.62.31     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n54.153.62.31     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n54.153.62.31     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n54.153.62.31     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+# get arguments\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+# #RED\u001b[0m\r\n54.153.62.31     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n54.153.62.31     \u001b[37m+  case $OPT in\u001b[0m\r\n54.153.62.31     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n54.153.62.31     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n54.153.62.31     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n54.153.62.31     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n54.153.62.31     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n54.153.62.31     \u001b[37m+  esac\u001b[0m\r\n54.153.62.31     \u001b[37m+done\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+# usage\u001b[0m\r\n54.153.62.31     \u001b[37m+HELP=\"\u001b[0m\r\n54.153.62.31     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n54.153.62.31     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n54.153.62.31     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n54.153.62.31     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n54.153.62.31     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n54.153.62.31     \u001b[37m+\"\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n54.153.62.31     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  exit 0\u001b[0m\r\n54.153.62.31     \u001b[37m+fi\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n54.153.62.31     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n54.153.62.31     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n54.153.62.31     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n54.153.62.31     \u001b[37m+set -o pipefail\u001b[0m\r\n54.153.62.31     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n54.153.62.31     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n54.153.62.31     \u001b[37m+  then\u001b[0m\r\n54.153.62.31     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n54.153.62.31     \u001b[37m+fi\u001b[0m\r\n54.153.62.31     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n54.153.62.31     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n54.153.62.31     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n54.153.62.31     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n54.153.62.31     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  exit 3\u001b[0m\r\n54.153.62.31     \u001b[37m+fi\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n54.153.62.31     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n54.153.62.31     \u001b[37m+else\u001b[0m\r\n54.153.62.31     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n54.153.62.31     \u001b[37m+fi\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n54.153.62.31     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  exit 2\u001b[0m\r\n54.153.62.31     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n54.153.62.31     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  exit 1\u001b[0m\r\n54.153.62.31     \u001b[37m+else\u001b[0m\r\n54.153.62.31     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n54.153.62.31     \u001b[37m+  exit 0\u001b[0m\r\n54.153.62.31     \u001b[37m+fi\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-cpu.json] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-03 07:36:16.524249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180703-2122-1f1aa29.json\t2018-07-03 07:36:16.524249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+{\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+  }\u001b[0m\r\n54.153.62.31     \u001b[37m+}\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.241.170.50 \u001b[0m  * service[sensu] action restart\r\n54.241.170.50     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.241.170.50 \u001b[0m[2018-07-03T07:36:18+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.241.170.50 \u001b[0m\r\n54.241.170.50 Running handlers:\u001b[0m\r\n54.241.170.50 Running handlers complete\r\n54.241.170.50 \u001b[0mChef Client finished, 20/23 resources updated in 29 seconds\u001b[0m\r\n54.241.170.50 [2018-07-03T07:36:19+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0m  * service[sensu] action restart\r\n54.153.62.31     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-memory-usage.json] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-03 07:36:19.872249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180703-2122-tx0jct.json\t2018-07-03 07:36:19.872249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+{\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+  }\u001b[0m\r\n54.153.62.31     \u001b[37m+}\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july032.rlcatalyst.com"}
{"level":"debug","message":"54.153.62.31 \u001b[0m  * service[sensu] action restart\r\n54.153.62.31     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-disk-usage.json] action create\r\n54.153.62.31     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-03 07:36:23.216249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180703-2122-7kby6w.json\t2018-07-03 07:36:23.216249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+{\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.153.62.31     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+  }\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0m  * service[sensu] action restart\r\n54.153.62.31     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.153.62.31 \u001b[0m  * template[check-load.json] action create\r\n"}
{"level":"debug","message":"54.153.62.31     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n54.153.62.31     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n54.153.62.31     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-03 07:36:26.568249000 +0000\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180703-2122-15tc0zx.json\t2018-07-03 07:36:26.568249000 +0000\u001b[0m\r\n54.153.62.31     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.153.62.31     \u001b[37m+{\u001b[0m\r\n54.153.62.31     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+    \"check_load\": {\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.153.62.31     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.153.62.31     \u001b[37m+    }\u001b[0m\r\n54.153.62.31     \u001b[37m+  }\u001b[0m\r\n54.153.62.31     \u001b[37m+}\u001b[0m\r\n54.153.62.31     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0m  * service[sensu] action restart\r\n54.153.62.31     \u001b[32m- restart service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0m[2018-07-03T07:36:29+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0m\r\n54.153.62.31 Running handlers:\u001b[0m\r\n54.153.62.31 Running handlers complete\r\n"}
{"level":"debug","message":"54.153.62.31 \u001b[0mChef Client finished, 17/22 resources updated in 22 seconds\u001b[0m\r\n"}
{"level":"debug","message":"54.153.62.31 [2018-07-03T07:36:30+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july032.rlcatalyst.com"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"debug","message":"Creating instance in catalyst"}
{"level":"error","message":"Creating new client for i-0e20d4aae72271418\n"}
{"level":"error","message":"Creating new node for i-0e20d4aae72271418\n"}
{"level":"error","message":"Connecting to 54.176.114.99\n"}
{"level":"debug","message":"54.176.114.99 -----> Installing Chef Omnibus (-v 14)\r\n54.176.114.99 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n"}
{"level":"debug","message":"54.176.114.99   to file /tmp/install.sh.1292/install.sh\r\n54.176.114.99 trying wget...\r\n"}
{"level":"debug","message":"54.176.114.99 ubuntu 14.04 x86_64\r\n"}
{"level":"debug","message":"54.176.114.99 Getting information for chef stable 14 for ubuntu...\r\n54.176.114.99 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n54.176.114.99   to file /tmp/install.sh.1296/metadata.txt\r\n54.176.114.99 trying wget...\r\n"}
{"level":"debug","message":"54.176.114.99 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n"}
{"level":"debug","message":"54.176.114.99 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n54.176.114.99 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n54.176.114.99 version\t14.2.0\r\n"}
{"level":"debug","message":"54.176.114.99 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"54.176.114.99 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n54.176.114.99   to file /tmp/install.sh.1296/chef_14.2.0-1_amd64.deb\r\n54.176.114.99 trying wget...\r\n"}
{"level":"debug","message":"54.176.114.99 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"54.176.114.99 Installing chef 14\r\n"}
{"level":"debug","message":"54.176.114.99 installing with dpkg...\r\n"}
{"level":"debug","message":"54.176.114.99 Selecting previously unselected package chef.\r\n"}
{"level":"debug","message":"54.176.114.99 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 51364 files and directories currently installed.)\r\n"}
{"level":"debug","message":"54.176.114.99 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n54.176.114.99 Unpacking chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.176.114.99 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"54.176.114.99 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"54.176.114.99 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"54.176.114.99 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:42+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:42+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:42+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\", \"consul-client\"]\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:43+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu_check_load (0.1.1)\u001b[0m\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu-client (2.0.2)\u001b[0m\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu-client-latest (0.1.4)\u001b[0m\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu_check_disk (0.1.3)\u001b[0m\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu_check_cpu (0.1.0)\u001b[0m\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99   - sensu_check_memory (0.1.3)\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99   - consul-client (0.2.0)\u001b[0m\r\n54.176.114.99 Installing Cookbook Gems:\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 Compiling Cookbooks...\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 [2018-07-03T10:07:44+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"54.176.114.99 Converging 24 resources\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n54.176.114.99     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n54.176.114.99     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 10:07:45.014493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180703-1379-1on3y1e.gpg\t2018-07-03 10:07:45.014493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.176.114.99     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n54.176.114.99     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n54.176.114.99     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n54.176.114.99     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n54.176.114.99     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n54.176.114.99     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n54.176.114.99     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n54.176.114.99     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n54.176.114.99     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n54.176.114.99     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n54.176.114.99     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n54.176.114.99     \u001b[37m+=hhqa\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n54.176.114.99 \u001b[0m  * execute[add_sensu_gpg] action run\r\n54.176.114.99     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n54.176.114.99 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n54.176.114.99   * execute[add_repo] action run\r\n54.176.114.99     \u001b[32m- execute echo \"deb     https://sensu.global.ssl.fastly.net/apt sensu main\" > /etc/apt/sources.list.d/sensu.list\u001b[0m\r\n54.176.114.99 \u001b[0mRecipe: consul-client::default\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99   * execute[repo_update] action run\r\n54.176.114.99     \u001b[32m- execute apt-get update\u001b[0m\r\n54.176.114.99 \u001b[0mRecipe: sensu-client::default\u001b[0m\r\n54.176.114.99   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.176.114.99   * apt_package[Install Sensu client] action install\r\n54.176.114.99     \u001b[32m- install version 0.26.5-2 of package sensu\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[/etc/sensu/config.json] action create\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- create new file /etc/sensu/config.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/config.json from none to 680ca2\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m--- /etc/sensu/config.json\t2018-07-03 10:07:54.042493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/.chef-config20180703-1379-1ckq36x.json\t2018-07-03 10:07:54.042493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"redis\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  },\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"api\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  },\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"transport\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n54.176.114.99     \u001b[37m+  }\u001b[0m\r\n54.176.114.99     \u001b[37m+}\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to b35e62\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-03 10:07:54.046493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180703-1379-jj28a1.json\t2018-07-03 10:07:54.046493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"client\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+        \"address\": \"10.0.0.196\",\u001b[0m\r\n54.176.114.99     \u001b[37m+        \"name\": \"10.0.0.196\",\u001b[0m\r\n54.176.114.99     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n54.176.114.99     \u001b[37m+            \"os\",\u001b[0m\r\n54.176.114.99     \u001b[37m+            \"webservers\"\u001b[0m\r\n54.176.114.99     \u001b[37m+        ]\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+}\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * service[sensu] action start\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- start service service[sensu]\u001b[0m\r\n54.176.114.99 \u001b[0m  * service[sensu] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"54.176.114.99   * template[check-cpu.rb] action create\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- create new file /etc/sensu/plugins/check-cpu.rb\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/plugins/check-cpu.rb from none to 94f8d6\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/plugins/check-cpu.rb\t2018-07-03 10:07:55.470493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/plugins/.chef-check-cpu20180703-1379-vdoaet.rb\t2018-07-03 10:07:55.470493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,116 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+#   check-cpu\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Check cpu usage\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   plain text\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Linux\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# USAGE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   #YELLOW\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# NOTES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# LICENSE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Copyright 2014 Sonian, Inc. and contributors. <support@sensuapp.org>\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.176.114.99     \u001b[37m+#   for details.\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# Check CPU\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+class CheckCPU < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.176.114.99     \u001b[37m+  CPU_METRICS = [:user, :nice, :system, :idle, :iowait, :irq, :softirq, :steal, :guest, :guest_nice]\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :warn,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-w WARN',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 80\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :crit,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-c CRIT',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 100\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :sleep,\u001b[0m\r\n54.176.114.99     \u001b[37m+         long: '--sleep SLEEP',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 1\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :idle_metrics,\u001b[0m\r\n54.176.114.99     \u001b[37m+         long: '--idle-metrics METRICS',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Treat the specified metrics as idle. Defaults to idle,iowait,steal,guest,guest_nice',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |x| x.split(/,/).map { |y| y.strip.to_sym } },\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: [:idle, :iowait, :steal, :guest, :guest_nice]\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  CPU_METRICS.each do |metric|\u001b[0m\r\n54.176.114.99     \u001b[37m+    option metric,\u001b[0m\r\n54.176.114.99     \u001b[37m+           long: \"--#{metric}\",\u001b[0m\r\n54.176.114.99     \u001b[37m+           description: \"Check cpu #{metric} instead of total cpu usage\",\u001b[0m\r\n54.176.114.99     \u001b[37m+           boolean: true,\u001b[0m\r\n54.176.114.99     \u001b[37m+           default: false\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def acquire_cpu_stats\u001b[0m\r\n54.176.114.99     \u001b[37m+    File.open('/proc/stat', 'r').each_line do |line|\u001b[0m\r\n54.176.114.99     \u001b[37m+      info = line.split(/\\s+/)\u001b[0m\r\n54.176.114.99     \u001b[37m+      name = info.shift\u001b[0m\r\n54.176.114.99     \u001b[37m+      return info.map(&:to_f) if name.match(/^cpu$/)\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def run\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_stats_before = acquire_cpu_stats\u001b[0m\r\n54.176.114.99     \u001b[37m+    sleep config[:sleep]\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_stats_after = acquire_cpu_stats\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    # Some kernels don't have 'guest' and 'guest_nice' values\u001b[0m\r\n54.176.114.99     \u001b[37m+    metrics = CPU_METRICS.slice(0, cpu_stats_after.length)\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_total_diff = 0.to_f\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_stats_diff = []\u001b[0m\r\n54.176.114.99     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n54.176.114.99     \u001b[37m+      cpu_stats_diff[i] = cpu_stats_after[i] - cpu_stats_before[i]\u001b[0m\r\n54.176.114.99     \u001b[37m+      cpu_total_diff += cpu_stats_diff[i]\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_stats = []\u001b[0m\r\n54.176.114.99     \u001b[37m+    metrics.each_index do |i|\u001b[0m\r\n54.176.114.99     \u001b[37m+      cpu_stats[i] = 100 * (cpu_stats_diff[i] / cpu_total_diff)\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    idle_diff = metrics.each_with_index.map { |metric, i| config[:idle_metrics].include?(metric) ? cpu_stats_diff[i] : 0.0 }.reduce(0.0, :+)\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_usage = 100 * (cpu_total_diff - idle_diff) / cpu_total_diff\u001b[0m\r\n54.176.114.99     \u001b[37m+    checked_usage = cpu_usage\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    self.class.check_name 'CheckCPU TOTAL'\u001b[0m\r\n54.176.114.99     \u001b[37m+    metrics.each do |metric|\u001b[0m\r\n54.176.114.99     \u001b[37m+      if config[metric]\u001b[0m\r\n54.176.114.99     \u001b[37m+        self.class.check_name \"CheckCPU #{metric.to_s.upcase}\"\u001b[0m\r\n54.176.114.99     \u001b[37m+        checked_usage = cpu_stats[metrics.find_index(metric)]\u001b[0m\r\n54.176.114.99     \u001b[37m+      end\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    msg = \"total=#{(cpu_usage * 100).round / 100.0}\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    cpu_stats.each_index { |i| msg += \" #{metrics[i]}=#{(cpu_stats[i] * 100).round / 100.0}\" }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    message msg\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    critical if checked_usage >= config[:crit]\u001b[0m\r\n54.176.114.99     \u001b[37m+    warning if checked_usage >= config[:warn]\u001b[0m\r\n54.176.114.99     \u001b[37m+    ok\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+end\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[check-disk-usage.rb] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/sensu/plugins/check-disk-usage.rb\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/plugins/check-disk-usage.rb from none to ef15b0\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/plugins/check-disk-usage.rb\t2018-07-03 10:07:55.494493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/plugins/.chef-check-disk-usage20180703-1379-1b1p0cc.rb\t2018-07-03 10:07:55.494493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,212 @@\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+#   check-disk\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Uses the sys-filesystem gem to get filesystem mount points and metrics\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   plain text\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Linux, BSD, Windows\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.176.114.99     \u001b[37m+#   gem: sys-filesystem\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# USAGE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# NOTES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# LICENSE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Copyright 2015 Yieldbot Inc <Sensu-Plugins>\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.176.114.99     \u001b[37m+#   for details.\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+require 'sys/filesystem'\u001b[0m\r\n54.176.114.99     \u001b[37m+include Sys\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# Check Disk\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+class CheckDisk < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :fstype,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-t TYPE[,TYPE]',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Only check fs type(s)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :ignoretype,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-x TYPE[,TYPE]',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Ignore fs type(s)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :ignoremnt,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-i MNT[,MNT]',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Ignore mount point(s)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :includemnt,\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Include only mount point(s)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-I MNT[,MNT]',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',') }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :ignorepathre,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-p PATHRE',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Ignore mount point(s) matching regular expression',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| Regexp.new(a) }\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+  option :ignoreopt,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-o TYPE[.TYPE]',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Ignore option(s)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split('.') }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :bwarn,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-w PERCENT',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Warn if PERCENT or more of disk full',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 85\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :bcrit,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-c PERCENT',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Critical if PERCENT or more of disk full',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 95\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :iwarn,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-W PERCENT',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Warn if PERCENT or more of inodes used',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 85\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :icrit,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-K PERCENT',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Critical if PERCENT or more of inodes used',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_i),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 95\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :magic,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-m MAGIC',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Magic factor to adjust warn/crit thresholds. Example: .9',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 1.0\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :normal,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-n NORMAL',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Levels are not adapted for filesystems of exactly this '\\\u001b[0m\r\n54.176.114.99     \u001b[37m+          'size, where levels are reduced for smaller filesystems and raised '\\\u001b[0m\r\n54.176.114.99     \u001b[37m+          'for larger filesystems.',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 20\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :minimum,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-l MINIMUM',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Minimum size to adjust (in GB)',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc(&:to_f),\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: 100\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Setup variables\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+  def initialize\u001b[0m\r\n54.176.114.99     \u001b[37m+    super\u001b[0m\r\n54.176.114.99     \u001b[37m+    @crit_fs = []\u001b[0m\r\n54.176.114.99     \u001b[37m+    @warn_fs = []\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Get mount data\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def fs_mounts\u001b[0m\r\n54.176.114.99     \u001b[37m+    Filesystem.mounts.each do |line|\u001b[0m\r\n54.176.114.99     \u001b[37m+      begin\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:fstype] && !config[:fstype].include?(line.mount_type)\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:ignoretype] && config[:ignoretype].include?(line.mount_type)\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:ignoremnt] && config[:ignoremnt].include?(line.mount_point)\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:ignorepathre] && config[:ignorepathre].match(line.mount_point)\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:ignoreopt] && config[:ignoreopt].include?(line.options)\u001b[0m\r\n54.176.114.99     \u001b[37m+        next if config[:includemnt] && !config[:includemnt].include?(line.mount_point)\u001b[0m\r\n54.176.114.99     \u001b[37m+      rescue\u001b[0m\r\n54.176.114.99     \u001b[37m+        unknown 'An error occured getting the mount info'\u001b[0m\r\n54.176.114.99     \u001b[37m+      end\u001b[0m\r\n54.176.114.99     \u001b[37m+      check_mount(line)\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Adjust the percentages based on volume size\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def adj_percent(size, percent)\u001b[0m\r\n54.176.114.99     \u001b[37m+    hsize = (size / (1024.0 * 1024.0)) / config[:normal].to_f\u001b[0m\r\n54.176.114.99     \u001b[37m+    felt  = hsize**config[:magic]\u001b[0m\r\n54.176.114.99     \u001b[37m+    scale = felt / hsize\u001b[0m\r\n54.176.114.99     \u001b[37m+    100 - ((100 - percent) * scale)\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def check_mount(line)\u001b[0m\r\n54.176.114.99     \u001b[37m+    begin\u001b[0m\r\n54.176.114.99     \u001b[37m+      fs_info = Filesystem.stat(line.mount_point)\u001b[0m\r\n54.176.114.99     \u001b[37m+    rescue\u001b[0m\r\n54.176.114.99     \u001b[37m+      @warn_fs << \"#{line.mount_point} Unable to read.\"\u001b[0m\r\n54.176.114.99     \u001b[37m+      return\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+    if fs_info.respond_to?(:inodes) && !fs_info.inodes.nil? # needed for windows\u001b[0m\r\n54.176.114.99     \u001b[37m+      percent_i = percent_inodes(fs_info)\u001b[0m\r\n54.176.114.99     \u001b[37m+      if percent_i >= config[:icrit]\u001b[0m\r\n54.176.114.99     \u001b[37m+        @crit_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n54.176.114.99     \u001b[37m+      elsif percent_i >= config[:iwarn]\u001b[0m\r\n54.176.114.99     \u001b[37m+        @warn_fs << \"#{line.mount_point} #{percent_i}% inode usage\"\u001b[0m\r\n54.176.114.99     \u001b[37m+      end\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+    percent_b = percent_bytes(fs_info)\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    if fs_info.bytes_total < (config[:minimum] * 1_000_000_000)\u001b[0m\r\n54.176.114.99     \u001b[37m+      bcrit = config[:bcrit]\u001b[0m\r\n54.176.114.99     \u001b[37m+      bwarn = config[:bwarn]\u001b[0m\r\n54.176.114.99     \u001b[37m+    else\u001b[0m\r\n54.176.114.99     \u001b[37m+      bcrit = adj_percent(fs_info.bytes_total, config[:bcrit])\u001b[0m\r\n54.176.114.99     \u001b[37m+      bwarn = adj_percent(fs_info.bytes_total, config[:bwarn])\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    used = to_human(fs_info.bytes_used)\u001b[0m\r\n54.176.114.99     \u001b[37m+    total = to_human(fs_info.bytes_total)\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    if percent_b >= bcrit\u001b[0m\r\n54.176.114.99     \u001b[37m+      @crit_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    elsif percent_b >= bwarn\u001b[0m\r\n54.176.114.99     \u001b[37m+      @warn_fs << \"#{line.mount_point} #{percent_b}% bytes usage (#{used}/#{total})\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    end\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def to_human(s)\u001b[0m\r\n54.176.114.99     \u001b[37m+    unit = [[1_099_511_627_776, 'TiB'], [1_073_741_824, 'GiB'], [1_048_576, 'MiB'], [1024, 'KiB'], [0, 'B']].detect { |u| s >= u[0] }\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"#{s > 0 ? s / unit[0] : s} #{unit[1]}\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Determine the percent inode usage\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def percent_inodes(fs_info)\u001b[0m\r\n54.176.114.99     \u001b[37m+    (100.0 - (100.0 * fs_info.inodes_free / fs_info.inodes)).round(2)\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Determine the percent byte usage\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def percent_bytes(fs_info)\u001b[0m\r\n54.176.114.99     \u001b[37m+    (100.0 - (100.0 * fs_info.bytes_free / fs_info.bytes_total)).round(2)\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Generate output\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def usage_summary\u001b[0m\r\n54.176.114.99     \u001b[37m+    (@crit_fs + @warn_fs).join(', ')\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  # Main function\u001b[0m\r\n54.176.114.99     \u001b[37m+  #\u001b[0m\r\n54.176.114.99     \u001b[37m+  def run\u001b[0m\r\n54.176.114.99     \u001b[37m+    fs_mounts\u001b[0m\r\n54.176.114.99     \u001b[37m+    critical usage_summary unless @crit_fs.empty?\u001b[0m\r\n54.176.114.99     \u001b[37m+    warning usage_summary unless @warn_fs.empty?\u001b[0m\r\n54.176.114.99     \u001b[37m+    ok \"All disk usage under #{config[:bwarn]}% and inode usage under #{config[:iwarn]}%\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+end\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[check-load.rb] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-03 10:07:55.510493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180703-1379-1g9tehw.rb\t2018-07-03 10:07:55.510493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+#   check-load\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# OUTPUT:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   plain text\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# PLATFORMS:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Linux\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# USAGE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# NOTES:\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# LICENSE:\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n54.176.114.99     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n54.176.114.99     \u001b[37m+#   for details.\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+class LoadAverage\u001b[0m\r\n54.176.114.99     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n54.176.114.99     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n54.176.114.99     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def cpu_count\u001b[0m\r\n54.176.114.99     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n54.176.114.99     \u001b[37m+  rescue\u001b[0m\r\n54.176.114.99     \u001b[37m+    0\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+ def failed?\u001b[0m\r\n54.176.114.99     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n54.176.114.99     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  def to_s\u001b[0m\r\n54.176.114.99     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n54.176.114.99     \u001b[37m+  end\u001b[0m\r\n54.176.114.99     \u001b[37m+end\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :warn,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n54.176.114.99     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :crit,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n54.176.114.99     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n54.176.114.99     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+  option :per_core,\u001b[0m\r\n54.176.114.99     \u001b[37m+         short: '-p',\u001b[0m\r\n54.176.114.99     \u001b[37m+         long: '--per-core',\u001b[0m\r\n54.176.114.99     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n54.176.114.99     \u001b[37m+         boolean: 'true',\u001b[0m\r\n54.176.114.99     \u001b[37m+         default: false\u001b[0m\r\n54.176.114.99     \u001b[37m+           def run\u001b[0m\r\n54.176.114.99     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n54.176.114.99     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n54.176.114.99     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n54.176.114.99     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n54.176.114.99     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n54.176.114.99     \u001b[37m+             ok\u001b[0m\r\n54.176.114.99     \u001b[37m+           end\u001b[0m\r\n54.176.114.99     \u001b[37m+         end\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[check-memory-usage.sh] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-03 10:07:55.518493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180703-1379-mj22al.sh\t2018-07-03 10:07:55.518493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n54.176.114.99     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n54.176.114.99     \u001b[37m+#\u001b[0m\r\n54.176.114.99     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n54.176.114.99     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n54.176.114.99     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n54.176.114.99     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n54.176.114.99     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n54.176.114.99     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n54.176.114.99     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n54.176.114.99     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n54.176.114.99     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n54.176.114.99     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+# get arguments\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+# #RED\u001b[0m\r\n54.176.114.99     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n54.176.114.99     \u001b[37m+  case $OPT in\u001b[0m\r\n54.176.114.99     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n54.176.114.99     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n54.176.114.99     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n54.176.114.99     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n54.176.114.99     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n54.176.114.99     \u001b[37m+  esac\u001b[0m\r\n54.176.114.99     \u001b[37m+done\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+# usage\u001b[0m\r\n54.176.114.99     \u001b[37m+HELP=\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n54.176.114.99     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n54.176.114.99     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n54.176.114.99     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n54.176.114.99     \u001b[37m+\"\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n54.176.114.99     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  exit 0\u001b[0m\r\n54.176.114.99     \u001b[37m+fi\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n54.176.114.99     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n54.176.114.99     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n54.176.114.99     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[37m+set -o pipefail\u001b[0m\r\n54.176.114.99     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n54.176.114.99     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n54.176.114.99     \u001b[37m+  then\u001b[0m\r\n54.176.114.99     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n54.176.114.99     \u001b[37m+fi\u001b[0m\r\n54.176.114.99     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n54.176.114.99     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n54.176.114.99     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n54.176.114.99     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n54.176.114.99     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  exit 3\u001b[0m\r\n54.176.114.99     \u001b[37m+fi\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n54.176.114.99     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n54.176.114.99     \u001b[37m+else\u001b[0m\r\n54.176.114.99     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n54.176.114.99     \u001b[37m+fi\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n54.176.114.99     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  exit 2\u001b[0m\r\n54.176.114.99     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n54.176.114.99     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  exit 1\u001b[0m\r\n54.176.114.99     \u001b[37m+else\u001b[0m\r\n54.176.114.99     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n54.176.114.99     \u001b[37m+  exit 0\u001b[0m\r\n54.176.114.99     \u001b[37m+fi\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[check-cpu.json] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-03 10:07:55.530493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180703-1379-p92b3e.json\t2018-07-03 10:07:55.530493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+  }\u001b[0m\r\n54.176.114.99     \u001b[37m+}\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * service[sensu] action restart\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- restart service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * template[check-memory-usage.json] action create\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-03 10:07:59.266493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180703-1379-1nhz2iu.json\t2018-07-03 10:07:59.266493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+  }\u001b[0m\r\n54.176.114.99     \u001b[37m+}\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * service[sensu] action restart\r\n54.176.114.99     \u001b[32m- restart service service[sensu]\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * template[check-disk-usage.json] action create\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-03 10:08:03.018493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180703-1379-1gajupx.json\t2018-07-03 10:08:03.018493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n54.176.114.99     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+  }\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * service[sensu] action restart\r\n54.176.114.99     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[check-load.json] action create\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-03 10:08:06.766493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180703-1379-nbslw8.json\t2018-07-03 10:08:06.766493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+  \"checks\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"check_load\": {\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n54.176.114.99     \u001b[37m+      \"standalone\": true\u001b[0m\r\n54.176.114.99     \u001b[37m+    }\u001b[0m\r\n54.176.114.99     \u001b[37m+  }\u001b[0m\r\n54.176.114.99     \u001b[37m+}\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * service[sensu] action restart\r\n"}
{"level":"debug","message":"54.176.114.99     \u001b[32m- restart service service[sensu]\u001b[0m\r\n54.176.114.99 \u001b[0mRecipe: consul-client::default\u001b[0m\r\n"}
{"level":"debug","message":"Waiting for instance NginX ok state"}
{"level":"debug","message":"54.176.114.99   * execute[repo_update] action run\r\n54.176.114.99     \u001b[32m- execute apt-get update\u001b[0m\r\n54.176.114.99 \u001b[0m  * apt_package[wget] action install (up to date)\r\n"}
{"level":"debug","message":"54.176.114.99   * apt_package[unzip] action install\r\n54.176.114.99     \u001b[32m- install version 6.0-9ubuntu1.5 of package unzip\u001b[0m\r\n54.176.114.99 \u001b[0m  * directory[/etc/consul.d/client] action create\r\n54.176.114.99     \u001b[32m- create new directory /etc/consul.d/client\u001b[0m\r\n"}
{"level":"debug","message":"54.176.114.99 \u001b[0m  * remote_file[/usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804] action create\r\n54.176.114.99     \u001b[32m- create new file /usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804 from none to bcc504\u001b[0m\r\n54.176.114.99     \u001b[37m(file sizes exceed 10000000 bytes, diff output suppressed)\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.176.114.99     \u001b[32m- change owner from '' to 'root'\u001b[0m\r\n54.176.114.99     \u001b[32m- change group from '' to 'root'\u001b[0m\r\n54.176.114.99 \u001b[0m  * execute[unzip the zipped files] action run\r\n54.176.114.99     \u001b[32m- execute unzip consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804\u001b[0m\r\n54.176.114.99 \u001b[0m  * template[/etc/consul.d/client/config.json] action create\r\n54.176.114.99     \u001b[32m- create new file /etc/consul.d/client/config.json\u001b[0m\r\n54.176.114.99     \u001b[32m- update content in file /etc/consul.d/client/config.json from none to 05e943\u001b[0m\r\n54.176.114.99     \u001b[37m--- /etc/consul.d/client/config.json\t2018-07-03 10:08:17.902493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m+++ /etc/consul.d/client/.chef-config20180703-1379-q7m71s.json\t2018-07-03 10:08:17.902493000 +0000\u001b[0m\r\n54.176.114.99     \u001b[37m@@ -1 +1,16 @@\u001b[0m\r\n54.176.114.99     \u001b[37m+{\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"bind_addr\": \"10.0.0.196\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"datacenter\": \"aws-ohio\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"data_dir\": \"/var/consul\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"encrypt\": \"oHKIk4Gf5hGZpxW2ueST1A==\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"log_level\": \"INFO\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"enable_syslog\": true,\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"enable_debug\": true,\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"node_name\": \"ip-10-0-0-196\",\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"server\": false,\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"rejoin_after_leave\": true,\u001b[0m\r\n54.176.114.99     \u001b[37m+ \"retry_join\": [\u001b[0m\r\n54.176.114.99     \u001b[37m+    \"18.188.62.78\"\u001b[0m\r\n54.176.114.99     \u001b[37m+    ]\u001b[0m\r\n54.176.114.99     \u001b[37m+ }\u001b[0m\r\n54.176.114.99     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n54.176.114.99     \u001b[32m- change owner from '' to 'root'\u001b[0m\r\n54.176.114.99     \u001b[32m- change group from '' to 'root'\u001b[0m\r\n54.176.114.99 \u001b[0m  * execute[executing client] action run\r\n54.176.114.99     \u001b[32m- execute nohup consul agent   -config-dir /etc/consul.d/client/ &> /dev/null &\u001b[0m\r\n54.176.114.99 \u001b[0m  * execute[executing client] action nothing (skipped due to action :nothing)\r\n54.176.114.99 [2018-07-03T10:08:17+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n54.176.114.99 \u001b[0m\r\n54.176.114.99 Running handlers:\u001b[0m\r\n54.176.114.99 Running handlers complete\r\n54.176.114.99 \u001b[0mChef Client finished, 27/32 resources updated in 37 seconds\u001b[0m\r\n54.176.114.99 [2018-07-03T10:08:18+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july033.rlcatalyst.com"}
{"level":"debug","message":"Waiting for instance Catalyst ok state"}
{"level":"error","message":"Creating new client for i-08b39abe7884d1c14\n"}
{"level":"error","message":"Creating new node for i-08b39abe7884d1c14\n"}
{"level":"error","message":"Connecting to 13.57.250.244\n"}
{"level":"debug","message":"13.57.250.244 -----> Installing Chef Omnibus (-v 14)\r\n13.57.250.244 downloading https://omnitruck-direct.chef.io/chef/install.sh\r\n13.57.250.244   to file /tmp/install.sh.2025/install.sh\r\n13.57.250.244 trying wget...\r\n"}
{"level":"debug","message":"13.57.250.244 ubuntu 14.04 x86_64\r\n13.57.250.244 Getting information for chef stable 14 for ubuntu...\r\n13.57.250.244 downloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=14&p=ubuntu&pv=14.04&m=x86_64\r\n13.57.250.244   to file /tmp/install.sh.2029/metadata.txt\r\n"}
{"level":"debug","message":"13.57.250.244 trying wget...\r\n"}
{"level":"debug","message":"13.57.250.244 sha1\t9ff54d5fb2fcb9b55bc63f839d9191b7090c13b9\r\n13.57.250.244 sha256\t5b30b14b6b783f01f97a63fe4274587dd2ef64c6286e97fafa93b10ec4c9785e\r\n13.57.250.244 url\thttps://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n13.57.250.244 version\t14.2.0\r\n13.57.250.244 downloaded metadata file looks valid...\r\n"}
{"level":"debug","message":"13.57.250.244 downloading https://packages.chef.io/files/stable/chef/14.2.0/ubuntu/14.04/chef_14.2.0-1_amd64.deb\r\n13.57.250.244   to file /tmp/install.sh.2029/chef_14.2.0-1_amd64.deb\r\n"}
{"level":"debug","message":"13.57.250.244 trying wget...\r\n"}
{"level":"debug","message":"13.57.250.244 Comparing checksum with sha256sum...\r\n"}
{"level":"debug","message":"13.57.250.244 Installing chef 14\r\n13.57.250.244 installing with dpkg...\r\n"}
{"level":"debug","message":"13.57.250.244 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 210634 files and directories currently installed.)\r\n"}
{"level":"debug","message":"13.57.250.244 Preparing to unpack .../chef_14.2.0-1_amd64.deb ...\r\n"}
{"level":"debug","message":"13.57.250.244 Unpacking chef (14.2.0-1) over (14.2.0-1) ...\r\n"}
{"level":"debug","message":"13.57.250.244 Setting up chef (14.2.0-1) ...\r\n"}
{"level":"debug","message":"13.57.250.244 Thank you for installing Chef!\r\n"}
{"level":"debug","message":"13.57.250.244 Starting the first Chef Client run...\r\n"}
{"level":"debug","message":"13.57.250.244 Starting Chef Client, version 14.2.0\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:01+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:01+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:01+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 resolving cookbooks for run list: [\"sensu-client\", \"sensu_check_load\", \"sensu_check_disk\", \"sensu_check_cpu\", \"sensu_check_memory\", \"consul-client\"]\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 Synchronizing Cookbooks:\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:02+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244   - sensu_check_load (0.1.1)\u001b[0m\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244   - sensu-client-latest (0.1.4)\u001b[0m\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244   [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 - sensu_check_disk (0.1.3)\u001b[0m\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:03+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244   - sensu_check_memory (0.1.3)\u001b[0m\r\n13.57.250.244   - sensu-client (2.0.2)\u001b[0m\r\n13.57.250.244   - consul-client (0.2.0)\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244   - sensu_check_cpu (0.1.0)\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 Installing Cookbook Gems:\u001b[0m\r\n13.57.250.244 Compiling Cookbooks...\u001b[0m\r\n13.57.250.244 [2018-07-03T10:09:04+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 Converging 24 resources\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 Recipe: sensu-client::default\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244   * remote_file[/tmp/sensu_pubkey.gpg] action create\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- create new file /tmp/sensu_pubkey.gpg\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /tmp/sensu_pubkey.gpg from none to 4ac997\u001b[0m\r\n13.57.250.244     \u001b[37m--- /tmp/sensu_pubkey.gpg\t2018-07-03 10:09:04.791249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /tmp/.chef-sensu_pubkey20180703-2125-zfkenl.gpg\t2018-07-03 10:09:04.791249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,19 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+-----BEGIN PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n13.57.250.244     \u001b[37m+Version: GnuPG v1\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+mQENBFXknLQBCADOXh2TH9LA4qeKHf8vOHZHwJrjNZKsVKttlElghhq2ZKX1Fwjz\u001b[0m\r\n13.57.250.244     \u001b[37m+EZL01ncTxqlhfYLKpp57JOcmlZfH5F6ahXaoPzwN87jPOs3XWoilwwML7+65JfRI\u001b[0m\r\n13.57.250.244     \u001b[37m+nBiFnBsmcXtRJLz4I8T4Nczgk8VtzPm5tkXxkA25bfAspwzLLeV4Ls9Q/gQglyYy\u001b[0m\r\n13.57.250.244     \u001b[37m+48E1PYKo026wCqUDEzT39HuTo8di7o+5EEMyp2n1xrD0GYI8xTvjHKlDE3rkfDlD\u001b[0m\r\n13.57.250.244     \u001b[37m+9IZ4KDfPISVQU9G4kQ+QFei/MQOf2y+Rpuzq5rQ9sorGHsdmkVdtzsusZIaGsd56\u001b[0m\r\n13.57.250.244     \u001b[37m+WcTMgS83MYkuvTeIYYwXtuTFTiidWmtcZca1ABEBAAG0HEZyZWlnaHQgPHN1cHBv\u001b[0m\r\n13.57.250.244     \u001b[37m+cnRAaHctb3BzLmNvbT6JATgEEwECACIFAlXknLQCGy8GCwkIBwMCBhUIAgkKCwQW\u001b[0m\r\n13.57.250.244     \u001b[37m+AgMBAh4BAheAAAoJEKIPJZrrnJS7VNcH/3SBreXjnC6pzCHjy787ex7kUVmkULhz\u001b[0m\r\n13.57.250.244     \u001b[37m+kLZBgCHBMFVL1oSZcgomNuEhYzLfiHRQ+Ny/yMduTELORoKmb2dTHmXWdqpbl9Br\u001b[0m\r\n13.57.250.244     \u001b[37m++brsJCblDpdnhUTXxVqXBQUA/WRqi9WhDXchcU0ZkKfmFN74kC3A4wCYKQkqPOCR\u001b[0m\r\n13.57.250.244     \u001b[37m+koyAjB+AkDWecC4+P1tPGtpSXApkNVP1KTGPzkWT3IGVmfFBoVnKIJmIgJhhHArd\u001b[0m\r\n13.57.250.244     \u001b[37m+P6EiarPP3/Zwpn25kXcBBsHubK8EerKB9ppsRxUiZTIeaOnVeQOHbZ40g8QRY+M1\u001b[0m\r\n13.57.250.244     \u001b[37m+YlDGDBPJYvWGezEwaeYuNmOVh+QTYLyv4BA9XafRnHvryLFJR0hW+Pg=\u001b[0m\r\n13.57.250.244     \u001b[37m+=hhqa\u001b[0m\r\n13.57.250.244     \u001b[37m+-----END PGP PUBLIC KEY BLOCK-----\u001b[0m\r\n13.57.250.244 \u001b[0m  * execute[add_sensu_gpg] action run\r\n13.57.250.244     \u001b[32m- execute cat /tmp/sensu_pubkey.gpg | apt-key add -\u001b[0m\r\n13.57.250.244 \u001b[0m  * execute[add_sensu_gpg] action nothing (skipped due to action :nothing)\r\n13.57.250.244   * execute[add_repo] action run (skipped due to not_if)\r\n13.57.250.244   * execute[repo_update] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"13.57.250.244   * apt_package[Install Sensu client] action install (up to date)\r\n"}
{"level":"debug","message":"13.57.250.244   * template[/etc/sensu/config.json] action create\r\n13.57.250.244     \u001b[32m- update content in file /etc/sensu/config.json from 3afe91 to 680ca2\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/config.json\t2016-02-29 16:52:32.934408000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/.chef-config20180703-2125-s4dv0g.json\t2018-07-03 10:09:05.783249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1,9 +1,15 @@\u001b[0m\r\n13.57.250.244     \u001b[37m {\u001b[0m\r\n13.57.250.244     \u001b[37m-  \"rabbitmq\": {\u001b[0m\r\n13.57.250.244     \u001b[37m-    \"host\": \"10.0.1.92\",\u001b[0m\r\n13.57.250.244     \u001b[37m-    \"vhost\": \"/sensu\",\u001b[0m\r\n13.57.250.244     \u001b[37m-    \"user\": \"sensu\",\u001b[0m\r\n13.57.250.244     \u001b[37m-    \"password\": \"secret\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"redis\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"port\": \"6379\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  },\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"api\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"host\": \"18.188.62.78\",\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"port\": \"4567\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  },\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"transport\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"name\": \"redis\",\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"reconnect_on_error\": true\u001b[0m\r\n13.57.250.244     \u001b[37m   }\u001b[0m\r\n13.57.250.244     \u001b[37m }\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '0644' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * template[/etc/sensu/conf.d/client.json] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/conf.d/client.json\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /etc/sensu/conf.d/client.json from none to 42416e\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/conf.d/client.json\t2018-07-03 10:09:05.787249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/conf.d/.chef-client20180703-2125-8buv2w.json\t2018-07-03 10:09:05.787249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,11 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"client\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+        \"address\": \"10.0.0.64\",\u001b[0m\r\n13.57.250.244     \u001b[37m+        \"name\": \"10.0.0.64\",\u001b[0m\r\n13.57.250.244     \u001b[37m+\t\t\"subscriptions\": [\u001b[0m\r\n13.57.250.244     \u001b[37m+            \"os\",\u001b[0m\r\n13.57.250.244     \u001b[37m+            \"webservers\"\u001b[0m\r\n13.57.250.244     \u001b[37m+        ]\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+}\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * service[sensu] action start\r\n13.57.250.244     \u001b[32m- start service service[sensu]\u001b[0m\r\n13.57.250.244 \u001b[0m  * service[sensu] action nothing (skipped due to action :nothing)\r\n"}
{"level":"debug","message":"13.57.250.244   * template[check-cpu.rb] action create\r\n13.57.250.244     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * template[check-disk-usage.rb] action create\r\n13.57.250.244     \u001b[32m- change mode from '0755' to '0775'\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-load.rb] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/plugins/check-load.rb\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /etc/sensu/plugins/check-load.rb from none to 0f8413\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/plugins/check-load.rb\t2018-07-03 10:09:07.143249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/plugins/.chef-check-load20180703-2125-rhn293.rb\t2018-07-03 10:09:07.143249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,82 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+#!/opt/sensu/embedded/bin/ruby\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+#   check-load\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# DESCRIPTION:\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# OUTPUT:\u001b[0m\r\n13.57.250.244     \u001b[37m+#   plain text\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# PLATFORMS:\u001b[0m\r\n13.57.250.244     \u001b[37m+#   Linux\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# DEPENDENCIES:\u001b[0m\r\n13.57.250.244     \u001b[37m+#   gem: sensu-plugin\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# USAGE:\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# NOTES:\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# LICENSE:\u001b[0m\r\n13.57.250.244     \u001b[37m+#   Copyright 2012 Sonian, Inc <chefs@sonian.net>\u001b[0m\r\n13.57.250.244     \u001b[37m+#   Released under the same terms as Sensu (the MIT license); see LICENSE\u001b[0m\r\n13.57.250.244     \u001b[37m+#   for details.\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+require 'sensu-plugin/check/cli'\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+class LoadAverage\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+  def initialize(per_core = false)\u001b[0m\r\n13.57.250.244     \u001b[37m+    @cores = per_core ? cpu_count : 1\u001b[0m\r\n13.57.250.244     \u001b[37m+    @avg = File.read('/proc/loadavg').split.take(3).map { |a| (a.to_f / @cores).round(2) } rescue nil # rubocop:disable RescueModifier\u001b[0m\r\n13.57.250.244     \u001b[37m+  end\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+  def cpu_count\u001b[0m\r\n13.57.250.244     \u001b[37m+    File.read('/proc/cpuinfo').scan(/^processor/).count\u001b[0m\r\n13.57.250.244     \u001b[37m+  rescue\u001b[0m\r\n13.57.250.244     \u001b[37m+    0\u001b[0m\r\n13.57.250.244     \u001b[37m+  end\u001b[0m\r\n13.57.250.244     \u001b[37m+ def failed?\u001b[0m\r\n13.57.250.244     \u001b[37m+    @avg.nil? || @cores.zero?\u001b[0m\r\n13.57.250.244     \u001b[37m+  end\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+  def exceed?(thresholds)\u001b[0m\r\n13.57.250.244     \u001b[37m+    @avg.zip(thresholds).any? { |a, t| a > t }\u001b[0m\r\n13.57.250.244     \u001b[37m+  end\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+  def to_s\u001b[0m\r\n13.57.250.244     \u001b[37m+    @avg.join(', ')\u001b[0m\r\n13.57.250.244     \u001b[37m+  end\u001b[0m\r\n13.57.250.244     \u001b[37m+end\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+class CheckLoad < Sensu::Plugin::Check::CLI\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+  option :warn,\u001b[0m\r\n13.57.250.244     \u001b[37m+         short: '-w L1,L5,L15',\u001b[0m\r\n13.57.250.244     \u001b[37m+         long: '--warn L1,L5,L15',\u001b[0m\r\n13.57.250.244     \u001b[37m+         description: 'Load WARNING threshold, 1/5/15 min average',\u001b[0m\r\n13.57.250.244     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n13.57.250.244     \u001b[37m+         default: [10, 20, 30]\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+  option :crit,\u001b[0m\r\n13.57.250.244     \u001b[37m+         short: '-c L1,L5,L15',\u001b[0m\r\n13.57.250.244     \u001b[37m+         long: '--crit L1,L5,L15',\u001b[0m\r\n13.57.250.244     \u001b[37m+         description: 'Load CRITICAL threshold, 1/5/15 min average',\u001b[0m\r\n13.57.250.244     \u001b[37m+         proc: proc { |a| a.split(',').map(&:to_f) },\u001b[0m\r\n13.57.250.244     \u001b[37m+         default: [25, 50, 75]\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+  option :per_core,\u001b[0m\r\n13.57.250.244     \u001b[37m+         short: '-p',\u001b[0m\r\n13.57.250.244     \u001b[37m+         long: '--per-core',\u001b[0m\r\n13.57.250.244     \u001b[37m+         description: 'Divide load average results by cpu/core count',\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+         boolean: 'true',\u001b[0m\r\n13.57.250.244     \u001b[37m+         default: false\u001b[0m\r\n13.57.250.244     \u001b[37m+           def run\u001b[0m\r\n13.57.250.244     \u001b[37m+             avg = LoadAverage.new(config[:per_core])\u001b[0m\r\n13.57.250.244     \u001b[37m+             warning 'Could not read load average from /proc' if avg.failed?\u001b[0m\r\n13.57.250.244     \u001b[37m+             message \"Load average: #{avg}\"\u001b[0m\r\n13.57.250.244     \u001b[37m+             critical if avg.exceed?(config[:crit])\u001b[0m\r\n13.57.250.244     \u001b[37m+             warning if avg.exceed?(config[:warn])\u001b[0m\r\n13.57.250.244     \u001b[37m+             ok\u001b[0m\r\n13.57.250.244     \u001b[37m+           end\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+         end\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-memory-usage.sh] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/plugins/check-memory-usage.sh\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /etc/sensu/plugins/check-memory-usage.sh from none to 329e28\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/plugins/check-memory-usage.sh\t2018-07-03 10:09:07.151249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/plugins/.chef-check-memory-usage20180703-2125-1jrnkg.sh\t2018-07-03 10:09:07.151249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,83 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+#!/usr/bin/env bash\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# Evaluate free system memory from Linux based systems based on percentage\u001b[0m\r\n13.57.250.244     \u001b[37m+# This was forked from Sensu Community Plugins\u001b[0m\r\n13.57.250.244     \u001b[37m+#\u001b[0m\r\n13.57.250.244     \u001b[37m+# Date: 2007-11-12\u001b[0m\r\n13.57.250.244     \u001b[37m+# Author: Thomas Borger - ESG\u001b[0m\r\n13.57.250.244     \u001b[37m+# Date: 2012-04-02\u001b[0m\r\n13.57.250.244     \u001b[37m+# Modified: Norman Harman - norman.harman@mutualmobile.com\u001b[0m\r\n13.57.250.244     \u001b[37m+# Date: 2013-9-30\u001b[0m\r\n13.57.250.244     \u001b[37m+# Modified: Mario Harvey - Zumetrics\u001b[0m\r\n13.57.250.244     \u001b[37m+# Date: 2015-01-10\u001b[0m\r\n13.57.250.244     \u001b[37m+# Modified Ollie Armstrong <ollie@armstrong.io>\u001b[0m\r\n13.57.250.244     \u001b[37m+# Date: 2016-02-15\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+# Modified: J. Brandt Buckley <brandt.buckley@sendgrid.com>\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+# get arguments\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+# #RED\u001b[0m\r\n13.57.250.244     \u001b[37m+while getopts 'w:c:hp' OPT; do\u001b[0m\r\n13.57.250.244     \u001b[37m+  case $OPT in\u001b[0m\r\n13.57.250.244     \u001b[37m+    w)  WARN=$OPTARG;;\u001b[0m\r\n13.57.250.244     \u001b[37m+    c)  CRIT=$OPTARG;;\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+    h)  hlp=\"yes\";;\u001b[0m\r\n13.57.250.244     \u001b[37m+    p)  perform=\"yes\";;\u001b[0m\r\n13.57.250.244     \u001b[37m+    *)  unknown=\"yes\";;\u001b[0m\r\n13.57.250.244     \u001b[37m+  esac\u001b[0m\r\n13.57.250.244     \u001b[37m+done\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+# usage\u001b[0m\r\n13.57.250.244     \u001b[37m+HELP=\"\u001b[0m\r\n13.57.250.244     \u001b[37m+    usage: $0 [ -w value -c value -p -h ]\u001b[0m\r\n13.57.250.244     \u001b[37m+        -w --> Warning Percentage < value\u001b[0m\r\n13.57.250.244     \u001b[37m+        -c --> Critical Percentage < value\u001b[0m\r\n13.57.250.244     \u001b[37m+        -p --> print out performance data\u001b[0m\r\n13.57.250.244     \u001b[37m+        -h --> print this help screen\u001b[0m\r\n13.57.250.244     \u001b[37m+\"\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+if [ \"$hlp\" = \"yes\" ]; then\u001b[0m\r\n13.57.250.244     \u001b[37m+  echo \"$HELP\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  exit 0\u001b[0m\r\n13.57.250.244     \u001b[37m+fi\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+WARN=${WARN:=80}\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+CRIT=${CRIT:=90}\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+#Get total memory available on machine\u001b[0m\r\n13.57.250.244     \u001b[37m+TotalMem=$(free -m | grep Mem | awk '{ print $2 }')\u001b[0m\r\n13.57.250.244     \u001b[37m+#Determine amount of free memory on the machine\u001b[0m\r\n13.57.250.244     \u001b[37m+set -o pipefail\u001b[0m\r\n13.57.250.244     \u001b[37m+FreeMem=$(free -m | grep buffers/cache | awk '{ print $4 }')\u001b[0m\r\n13.57.250.244     \u001b[37m+if [ $? -ne 0 ];\u001b[0m\r\n13.57.250.244     \u001b[37m+  then\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+  FreeMem=$(free -m | grep Mem | awk '{ print $7 }')\u001b[0m\r\n13.57.250.244     \u001b[37m+fi\u001b[0m\r\n13.57.250.244     \u001b[37m+#Get percentage of free memory\u001b[0m\r\n13.57.250.244     \u001b[37m+FreePer=$(awk -v total=\"$TotalMem\" -v free=\"$FreeMem\" 'BEGIN { printf(\"%-10f\\n\", (free / total) * 100) }' | cut -d. -f1)\u001b[0m\r\n13.57.250.244     \u001b[37m+#Get actual memory usage percentage by subtracting free memory percentage from 100\u001b[0m\r\n13.57.250.244     \u001b[37m+UsedPer=$((100-$FreePer))\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+if [ \"$UsedPer\" = \"\" ]; then\u001b[0m\r\n13.57.250.244     \u001b[37m+  echo \"MEM UNKNOWN -\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  exit 3\u001b[0m\r\n13.57.250.244     \u001b[37m+fi\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+if [ \"$perform\" = \"yes\" ]; then\u001b[0m\r\n13.57.250.244     \u001b[37m+  output=\"system memory usage: $UsedPer% | free memory=\"$UsedPer\"%;$WARN;$CRIT;0\"\u001b[0m\r\n13.57.250.244     \u001b[37m+else\u001b[0m\r\n13.57.250.244     \u001b[37m+  output=\"system memory usage: $UsedPer%\"\u001b[0m\r\n13.57.250.244     \u001b[37m+fi\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+if (( $UsedPer >= $CRIT )); then\u001b[0m\r\n13.57.250.244     \u001b[37m+  echo \"MEM CRITICAL - $output\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  exit 2\u001b[0m\r\n13.57.250.244     \u001b[37m+elif (( $UsedPer >= $WARN )); then\u001b[0m\r\n13.57.250.244     \u001b[37m+  echo \"MEM WARNING - $output\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  exit 1\u001b[0m\r\n13.57.250.244     \u001b[37m+else\u001b[0m\r\n13.57.250.244     \u001b[37m+  echo \"MEM OK - $output\"\u001b[0m\r\n13.57.250.244     \u001b[37m+  exit 0\u001b[0m\r\n13.57.250.244     \u001b[37m+fi\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-cpu.json] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/conf.d/check-cpu.json\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /etc/sensu/conf.d/check-cpu.json from none to d67283\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/conf.d/check-cpu.json\t2018-07-03 10:09:07.167249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-cpu20180703-2125-qajx9w.json\t2018-07-03 10:09:07.167249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"cpu_usages_check\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"command\": \"check-cpu.rb -w 70 -c 85\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+  }\u001b[0m\r\n13.57.250.244     \u001b[37m+}\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * service[sensu] action restart\r\n13.57.250.244     \u001b[32m- restart service service[sensu]\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-memory-usage.json] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/conf.d/check-memory-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- update content in file /etc/sensu/conf.d/check-memory-usage.json from none to 96700e\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/conf.d/check-memory-usage.json\t2018-07-03 10:09:10.519249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-memory-usage20180703-2125-4xrcp3.json\t2018-07-03 10:09:10.519249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"memory_usage_check\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"command\": \"check-memory-usage.sh -w 70 -c 85\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+  }\u001b[0m\r\n13.57.250.244     \u001b[37m+}\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * service[sensu] action restart\r\n13.57.250.244     \u001b[32m- restart service service[sensu]\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-disk-usage.json] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/sensu/conf.d/check-disk-usage.json\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- update content in file /etc/sensu/conf.d/check-disk-usage.json from none to 38f7cb\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/sensu/conf.d/check-disk-usage.json\t2018-07-03 10:09:13.871249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-disk-usage20180703-2125-1f6j28r.json\t2018-07-03 10:09:13.871249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,15 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"disk_usage_check\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"command\": \"check-disk-usage.rb -w 80 -c 90\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"interval\": 10,\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+\t    \"standalone\" : true,\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"handlers\": [\"st2\"],\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"remedy_action\": \"sudo find / -xdev -type f -size +1M -exec du -sh {} ';' | sort -rh | head -n5\"\u001b[0m\r\n13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+\u001b[0m\r\n13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+  }\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * service[sensu] action restart\r\n13.57.250.244     \u001b[32m- restart service service[sensu]\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[check-load.json] action create\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- create new file /etc/sensu/conf.d/check-load.json\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- update content in file /etc/sensu/conf.d/check-load.json from none to 7041c4\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m--- /etc/sensu/conf.d/check-load.json\t2018-07-03 10:09:17.239249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/sensu/conf.d/.chef-check-load20180703-2125-16ga64q.json\t2018-07-03 10:09:17.235249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,12 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+  \"checks\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"check_load\": {\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"command\": \"check-load.rb\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"interval\": 30,\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"type\": \"metric\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"kind\": \"system\",\u001b[0m\r\n13.57.250.244     \u001b[37m+      \"standalone\": true\u001b[0m\r\n13.57.250.244     \u001b[37m+    }\u001b[0m\r\n13.57.250.244     \u001b[37m+  }\u001b[0m\r\n13.57.250.244     \u001b[37m+}\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0775'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * service[sensu] action restart\r\n13.57.250.244     \u001b[32m- restart service service[sensu]\u001b[0m\r\n13.57.250.244 \u001b[0mRecipe: consul-client::default\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244   * execute[repo_update] action run\r\n13.57.250.244     \u001b[32m- execute apt-get update\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * apt_package[wget] action install (up to date)\r\n"}
{"level":"debug","message":"13.57.250.244   * apt_package[unzip] action install\r\n13.57.250.244     \u001b[32m- install version 6.0-9ubuntu1.5 of package unzip\u001b[0m\r\n13.57.250.244 \u001b[0m  * directory[/etc/consul.d/client] action create\r\n13.57.250.244     \u001b[32m- create new directory /etc/consul.d/client\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * remote_file[/usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804] action create\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- create new file /usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[32m- update content in file /usr/local/bin/consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804 from none to bcc504\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244     \u001b[37m(file sizes exceed 10000000 bytes, diff output suppressed)\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n13.57.250.244     \u001b[32m- change owner from '' to 'root'\u001b[0m\r\n13.57.250.244     \u001b[32m- change group from '' to 'root'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * execute[unzip the zipped files] action run\r\n13.57.250.244     \u001b[32m- execute unzip consul_1.0.6_linux_amd64.zip?_ga=2.36855392.1799827171.1521459804-1385683297.1521459804\u001b[0m\r\n13.57.250.244 \u001b[0m  * template[/etc/consul.d/client/config.json] action create\r\n13.57.250.244     \u001b[32m- create new file /etc/consul.d/client/config.json\u001b[0m\r\n13.57.250.244     \u001b[32m- update content in file /etc/consul.d/client/config.json from none to 5dd025\u001b[0m\r\n13.57.250.244     \u001b[37m--- /etc/consul.d/client/config.json\t2018-07-03 10:09:32.683249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m+++ /etc/consul.d/client/.chef-config20180703-2125-ef96sf.json\t2018-07-03 10:09:32.683249000 +0000\u001b[0m\r\n13.57.250.244     \u001b[37m@@ -1 +1,16 @@\u001b[0m\r\n13.57.250.244     \u001b[37m+{\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"bind_addr\": \"10.0.0.64\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"datacenter\": \"aws-ohio\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"data_dir\": \"/var/consul\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"encrypt\": \"oHKIk4Gf5hGZpxW2ueST1A==\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"log_level\": \"INFO\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"enable_syslog\": true,\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"enable_debug\": true,\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"node_name\": \"ip-10-0-0-64\",\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"server\": false,\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"rejoin_after_leave\": true,\u001b[0m\r\n13.57.250.244     \u001b[37m+ \"retry_join\": [\u001b[0m\r\n13.57.250.244     \u001b[37m+    \"18.188.62.78\"\u001b[0m\r\n13.57.250.244     \u001b[37m+    ]\u001b[0m\r\n13.57.250.244     \u001b[37m+ }\u001b[0m\r\n13.57.250.244     \u001b[32m- change mode from '' to '0755'\u001b[0m\r\n13.57.250.244     \u001b[32m- change owner from '' to 'root'\u001b[0m\r\n13.57.250.244     \u001b[32m- change group from '' to 'root'\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m  * execute[executing client] action run\r\n13.57.250.244     \u001b[32m- execute nohup consul agent   -config-dir /etc/consul.d/client/ &> /dev/null &\u001b[0m\r\n13.57.250.244 \u001b[0m  * execute[executing client] action nothing (skipped due to action :nothing)\r\n13.57.250.244 [2018-07-03T10:09:32+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0m\r\n13.57.250.244 Running handlers:\u001b[0m\r\n13.57.250.244 Running handlers complete\r\n"}
{"level":"debug","message":"13.57.250.244 \u001b[0mChef Client finished, 24/31 resources updated in 33 seconds\u001b[0m\r\n"}
{"level":"debug","message":"13.57.250.244 [2018-07-03T10:09:33+00:00] WARN: Using deprecated positional arguments for sign(), please update to keyword arguments (from /opt/chef/embedded/lib/ruby/gems/2.5.0/gems/chef-14.2.0/lib/chef/http/authenticator.rb:114)\r\n"}
{"level":"debug","message":"Instance Bootstraped successfully"}
{"level":"debug","message":"You can access stack using below URL."}
{"level":"debug","message":"http://july033.rlcatalyst.com"}
