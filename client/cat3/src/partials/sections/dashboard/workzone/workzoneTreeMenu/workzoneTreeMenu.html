<link rel="stylesheet" type="text/css" href="catalyst/partials/sections/dashboard/workzone/workzoneTreeMenu/workzoneTreeMenu.css"/>
<link rel="stylesheet" type="text/css" href="catalyst/partials/globals/treeComponent/treeDirective.css"/>

<div ng-controller="workzoneTreeCtrl">
	<span ng-show="!isLoading" class="tree-wrapper">
		<i ng-click="showTreeOverlay()" class="fa fa-bars cursor tree-toggle" title="Menu" ng-show="!showTree"></i>
		<i ng-click="hideTreeOverlay()" class="fa fa-arrow-left cursor tree-toggle" title="Menu" ng-show="showTree"></i>
	</span>
	<div id='navigPage' class='controller' ng-show="showTree">
		<div id='navigPage-inner'>
			<div id="treeParent"
				data-angular-treeview="true"
				data-tree-model="roleList"
				data-node-id="rowid"
				data-node-label="text"
				data-node-children="nodes">
			</div>
		</div>
		<div id="navigPage-bg" ng-click="hideTreeOverlay();"></div>
	</div>
</div>

<script>
	$(document).ready(function() {
		function setHeight() {
			var windowHeight = $(window).innerHeight();
			var brdcrmbHeight = $('#breadcrumb-block').outerHeight();
			var headerHeight = $('#header').outerHeight();
			var setTreeContentHeight = windowHeight - (brdcrmbHeight + headerHeight);
			$('#navigPage').css('height', (setTreeContentHeight) + 'px');
			$('#navigPage-inner').css('height', (setTreeContentHeight) + 'px');
			$('#navigPage-bg').css('height', (setTreeContentHeight) + 'px');
		};
		setHeight();

		$(window).resize(function() {
			setHeight();
		});
	});
</script>